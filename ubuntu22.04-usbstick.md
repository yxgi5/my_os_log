---

# set gnome online acount and livepath

`/usr/libexec/gnome-initial-setup --existing-user`

---

# 存档系统和还原

如果有EFI分区，也要备份，并记录uuid。可以在gparted里清除esp和boot标志，自动挂载备份。

## 查看uuid
```
lsblk -f
ll /dev/disk/by-uuid/
blkid
```
## 备份还原系统分区例子
```
su
tar xvpf e93f7f27-d29a-4a58-bbec-243395df32ad.tar -C /media/andreas/e93f7f27-d29a-4a58-bbec-243395df32ad --strip-components 3

因为压缩包里面的多余3层目录，所以加 --strip-components 3
tar cvpf e93f7f27-d29a-4a58-bbec-243395df32ad.tar /media/andreas/e93f7f27-d29a-4a58-bbec-243395df32ad


如果要解决这个问题
tar cvpf e93f7f27-d29a-4a58-bbec-243395df32ad.tar -C /media/andreas/e93f7f27-d29a-4a58-bbec-243395df32ad .
再用这个命令解压
tar xvpf e93f7f27-d29a-4a58-bbec-243395df32ad.tar -C /media/andreas/e93f7f27-d29a-4a58-bbec-243395df32ad
```
---

# 还原ext2/ext3/ext4文件系统分区的uuid

```
sudo tune2fs -U f5cd428a-7bcc-4026-80b7-9f570e5966cf /dev/sda2
```

创建fat32件系统分区的时候，可以定于uuid
```
mkdosfs -i ABCD1234 /dev/sdc1
```

## 读取 fat32 分区的 uuid，sdx1 根据实际替换
The volume ID of FAT32 is stored in the first sector at offset 67 (0x43), for FAT16 it's at 39 (0x27). One can use the dd command to read it (replace /dev/sdc1 with your real partition):
```
sudo dd bs=1 skip=67 count=4 if=/dev/sdx1 2>/dev/null \
| xxd -plain -u \
| sed -r 's/(..)(..)(..)(..)/\4\3-\2\1/'
```
## 写入 新uuid 到 fat32 分区，sdx1 根据实际替换
And, of course, one can also store a new UUID (replace 1234-ABCD with your desired value):
```
UUID="1234-ABCD"
printf "\x${UUID:7:2}\x${UUID:5:2}\x${UUID:2:2}\x${UUID:0:2}" \
| sudo dd bs=1 seek=67 count=4 conv=notrunc of=/dev/sdx1
```

---

# 恢复grub

```
sudo grub-install /dev/sdx --efi-directory=/mnt/boot/efi --boot-directory=/mnt/boot --removable
```

---

# 加载ubuntu的iso镜像

grub4dos

```
title Ubuntu Livd CD
root(hd0,1)
kernel (hd0,1)/boot/vmlinuz boot=casper iso-scan/filename=/boot/ubuntu-16.04.4-desktop-amd64.iso
 locale=zh_CN.UTF-8
initrd (hd0,1)/boot/initrd.lz
```

```
title Boot Ubuntu
root (hd1,1)
kernel (hd1,1)/boot/vmlinuz-4.9.0-0.bpo.3-amd64 root=/dev/sda2 ro quiet
initrd (hd1,1)/boot/initrd.img-4.9.0-0.bpo.3-amd64
```

```
1.grub> loopback loop (hd0,1)/ubuntu.iso
2.grub> set root=(loop)
3.grub> linux /casper/vmlinuz boot=casper iso-scan/filename=/ubuntu.iso
4.grub> initrd /casper/initrd.lz
5.grub> boot
```

原生grub/grub2
`sudo gedit /boot/grub/grub.cfg`
添加

```
menuentry "ubuntu iso install" {
    loopback loop (hd0,1)/ubuntu.iso
    set root=(loop)
    linux /casper/vmlinuz boot=casper iso-scan/filename=/ubuntu.iso
    initrd /casper/initrd.lz
}
```

或者参考

```
mv /etc/grub.d/40_custom /etc/grub.d/40_custom_bak
chmod u-x /etc/grub.d/40_custom_bak
sudo gedit /etc/grub.d/40_custom
```

```
#!/bin/sh
 exec tail -n +3 $0
 # This file provides an easy way to add custom menu entries.  Simp    ly type the
 # menu entries you want to add after this comment.  Be careful not     to change
 # the 'exec tail' line above.
 menuentry "Ubuntukylin 14.04 ISO" {
          insmod ntfs
          insmod iso9660
          set isofile="/download/ubuntukylin-14.04-desktop-amd64.iso"
          loopback loop (hd0,msdos6)$isofile
          linux (loop)/casper/vmlinuz.efi boot=casper iso-scan/filename=$isofile noprompt noeject
          initrd (loop)/casper/initrd.lz
  }
```

如果不是放在ntfs分区就不需要 `insmod ntfs`

isofile这里是从分区出发的，比如如果home是单独分区的话，而iso又存放在了比如"/home/username/download/ubuntu-14.04.iso",用下面这行替换

```
set isofile="/username/download/ubuntu-14.04.iso"
```

在live-cd安装时先
`sudo umount -l /isodevice`

---

# sudo

```
To run a command as administrator (user "root"), use "sudo <command>".
See "man sudo_root" for details.
```

sudo配置分析
`$ sudo cat etc/sudoers`

```
# Allow members of group sudo to execute any command
%sudo	ALL=(ALL:ALL) ALL
```

看看sudo用户在不在sudo组
`$ sudo cat /etc/group | grep sudo`

# Ubuntu下让date命令显示英语日期

no effect
`$ env LANG=en_US.UTF-8 date`

`$ cat /etc/default/locale`

```
#  File generated by update-locale
LANG="en_US.UTF-8"
LC_NUMERIC="zh_CN.UTF-8"
LC_TIME="zh_CN.UTF-8"
LC_MONETARY="zh_CN.UTF-8"
LC_PAPER="zh_CN.UTF-8"
LC_NAME="zh_CN.UTF-8"
LC_ADDRESS="zh_CN.UTF-8"
LC_TELEPHONE="zh_CN.UTF-8"
LC_MEASUREMENT="zh_CN.UTF-8"
LC_IDENTIFICATION="zh_CN.UTF-8"
```

`sudo sed -e 's/^LC_TIME.*/LC_TIME="en_US.UTF-8"/' -i /etc/default/locale`

then take effect after re-login

[https://www.cnblogs.com/majestyking/p/11522868.html](https://www.cnblogs.com/majestyking/p/11522868.html)
[https://www.linuxdiyf.com/linux/29771.html](https://www.linuxdiyf.com/linux/29771.html)

---

# 修改 bash 显示风格

```
$ gedit ~/.bashrc
```

```
PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
```

修改为

```
PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\n\$ '
```

其他效果

```
PS1="\[\e]0;\w\a\]\n\[\e[32m\]\u@\h \[\e[33m\]\w\[\e[0m\]\n\$ "
```

---

# time zoom

Run 'sudo dpkg-reconfigure tzdata' if you wish to change it

# vim

```
$ sudo apt install vim vim-runtime universal-ctags vim-doc vim-scripts
```

```
Suggested packages:
  perlsgml libtemplate-perl indent
```

```
$ sudo apt install vim-addon-manager

The following additional packages will be installed:
  fonts-lato libruby3.0 rake ruby ruby-net-telnet ruby-rubygems ruby-webrick ruby-xmlrpc ruby3.0 rubygems-integration
Suggested packages:
  apache2 | lighttpd | httpd ri ruby-dev bundler
```

```
$ sudo apt install vim-gtk3 ubuntu-minimal vim vim-addon-manager vim-common vim-scripts vim-gtk cscope

The following additional packages will be installed:
  vim-common vim-gui-common
```

```
$ sudo apt-get install vim universal-ctags vim-doc vim-scripts cscope
The following additional packages will be installed:
  liblua5.2-0 vim-gui-common
Suggested packages:
  cscope-el fonts-dejavu gnome-icon-theme
```

```
$ sudo apt install vim vim-doc vim-scripts exuberant-ctags libtemplate-perl ispell vim-addon-manager cscope

cscope is already the newest version (15.9-1).
vim-addon-manager is already the newest version (0.5.10).
vim-scripts is already the newest version (20210124.2).
vim is already the newest version (2:8.2.3995-1ubuntu2.1).
vim-doc is already the newest version (2:8.2.3995-1ubuntu2.1).
The following additional packages will be installed:
  iamerican ienglish-common libappconfig-perl
Suggested packages:
  spell libtemplate-plugin-gd-perl libtemplate-plugin-xml-perl
```

```
$ sudo update-alternatives --config vim
选gtk3
```

---

# apt-get 操作 / apt 操作

```
man dpkg
man apt
man apt-get
```

upgrade有可能需要覆盖，一般不常用覆盖

```
sudo apt-get -o Dpkg::Options::=--force-overwrite install xxx
```

重新安装xxx及配置文件

```
sudo apt-get -o DPkg::options::=--force-confmiss --reinstall install xxx
sudo apt-get -o DPkg::options::=--force-confnew --reinstall install xxx
sudo apt-get -o DPkg::options::=--force-confold --reinstall install xxx
```

Recommends are installed by default (since Lucid).

```
$ sudo apt-get --install-recommends install xxx
==
$ sudo apt-get -o APT::Install-Recommends="true" install xxx
```

To negate this for a specific package, use

```
$ sudo apt-get --no-install-recommends install xxx
```

```
$ sudo apt-get --install-suggests install xxx
==
$ sudo apt-get -o APT::Install-Suggests="true" install xxx 
```

You can make this the default behaviour by putting

```
APT::Install-Suggests "true"
```

in file `/etc/apt/apt.conf.d/30install-suggests`

批量安装

```
sudo apt-get -y  -o Dpkg::Options::="--force-overwrite" install $(cat pkg_list.txt)
```

Uninstall xxx And Its Dependencies

```
sudo apt-get autoremove xxx
```

Remove xxx Configurations and Data

```
sudo apt-get purge xxx
```

Remove qt6-base-dev configuration, data, and all of its dependencies

```
sudo apt-get autoremove --purge xxx
```

The officially recommended command for Ubuntu 16.04 and beyond is apt instead of apt-get

`apt full-upgrade` performs the same function as `apt-get dist-upgrade`

依赖被依赖都查看

```
$ apt-cache showpkg xxx
```

依赖什么包

```
$ apt-cache depends xxx
```

被什么包依赖

```
$ apt-cache rdepends xxx
$ aptitude why xxx
```

自定安装了啥

```
$ apt-mark showauto
$ apt-mark showauto xxx
$ apt-mark showhold
```

Remove Old PPA

```
$ sudo apt-get autoremove --purge PACKAGENAME
$ sudo apt-get install ppa-purge
$ sudo add-apt-repository -remove ppa:someppa/ppa
$ sudo apt-get autoclean
```

清理缓存

```
$ sudo apt-get autoclean //清理旧版本的软件缓存
$ sudo apt-get clean //清理所有软件缓存
$ sudo apt-get autoremove  //删除系统不再使用的孤立软件
```

清除rc标记的包

```
dpkg -l |grep ^rc|awk '{print $2}' |sudo xargs dpkg -P
```

查询可升级的包

```
$ sudo apt update
$ apt list --upgradable
```
---
# git
```
sudo apt install git git-gui gitk git-svn meld subversion xxdiff
```
```
git config --global user.name "name"
git config --global user.email "name@xxx.com"
git config --global core.autocrl false
git config --global core.fileMode false
git config --global merge.ff false
git config --global pull.ff true
```
---

# openssh

```
$ sudo apt install openssh-server
```

```
The following additional packages will be installed:
  ncurses-term openssh-sftp-server ssh-import-id
Suggested packages:
  molly-guard monkeysphere ssh-askpass

Created symlink /etc/systemd/system/sshd.service → /lib/systemd/system/ssh.servi
ce.
Created symlink /etc/systemd/system/multi-user.target.wants/ssh.service → /lib/s
ystemd/system/ssh.service.
```

```
Creating config file /etc/ssh/sshd_config with new version
Creating SSH2 RSA key; this may take some time ...
3072 SHA256:gg2OY9UlLpXuWo6S7goGPyaWBfwWD8c3aeSxXGE9PV0 root@andy-usbstick (RSA)
Creating SSH2 ECDSA key; this may take some time ...
256 SHA256:b5o62/Kotzq7gdUrdZyHn0WBAYOAKouDTjHbn34lJPI root@andy-usbstick (ECDSA)
Creating SSH2 ED25519 key; this may take some time ...
256 SHA256:s02D3Tyljg7qLYal4b/lOVuo5rAKg1hixbm3imI4HWE root@andy-usbstick (ED25519)
Created symlink /etc/systemd/system/sshd.service → /lib/systemd/system/ssh.service.
Created symlink /etc/systemd/system/multi-user.target.wants/ssh.service → /lib/systemd/system/ssh.service.
rescue-ssh.target is a disabled or a static unit, not starting it.
ssh.socket is a disabled or a static unit, not starting it.
Setting up ssh-import-id (5.11-0ubuntu1) ...
Setting up ncurses-term (6.3-2) ...
```

# rootlogin.sh

ubuntu22.04桌面版开启root用户登陆并开启root用户远程ssh连接
[https://blog.csdn.net/w553692064/article/details/127145272](https://blog.csdn.net/w553692064/article/details/127145272)

```
#!/bin/bash

# set root passwd
sudo passwd root

# notes Document content
sudo sed -i "s/.*root quiet_success$/#&/" /etc/pam.d/gdm-autologin
sudo sed -i "s/.*root quiet_success$/#&/" /etc/pam.d/gdm-password

#modify profile
sudo sed -i 's/^mesg.*/tty -s \&\& mesg n \|\| true/' /root/.profile

# install openssh
sudo apt install openssh-server
sudo apt autoremove

# delay
sleep 1

# modify conf
sudo sed -i 's/^#PermitRootLogin.*/PermitRootLogin yes/' /etc/ssh/sshd_config

# restart server
sudo systemctl restart ssh
sudo systemctl status ssh
```

`$ sudo cat /root/.profile`

```
# ~/.profile: executed by Bourne-compatible login shells.

if [ "$BASH" ]; then
  if [ -f ~/.bashrc ]; then
    . ~/.bashrc
  fi
fi

mesg n 2> /dev/null || true
```

change to

```
# ~/.profile: executed by Bourne-compatible login shells.

if [ "$BASH" ]; then
  if [ -f ~/.bashrc ]; then
    . ~/.bashrc
  fi
fi

tty -s && mesg n || true
```

change /etc/ssh/sshd_config

```
#PermitRootLogin prohibit-password
```

to

```
PermitRootLogin yes
```

---

# apt / aptitude

`sudo apt update && sudo apt upgrade -yuf`

`sudo apt install aptitude apt-file`

```
The following additional packages will be installed:
  aptitude-common libapt-pkg-perl libcwidget4 libdpkg-perl
  libexporter-tiny-perl libfile-fcntllock-perl liblist-moreutils-perl
  liblist-moreutils-xs-perl libregexp-assemble-perl libxapian30
```

```
$ apt-file search /etc/proxychains.conf
Finding relevant cache files to search ...E: The cache is empty. You need to run "apt-file update" first.
```

`sudo apt-file update`

`$ dpkg -S /etc/proxychains.conf`

## APT news

```
Use 'pro config set apt_news=false' to hide this and future APT news.
```

## ubuntu pkg search

[https://packages.ubuntu.com/search](https://packages.ubuntu.com/search)

## apt history

input apt cmds
`cat /var/log/apt/history.log`
process output
`cat /var/log/apt/term.log`

---

# save etc-cut1.tar.xz

```
$ systemd-analyze blame
6.421s NetworkManager-wait-online.service
2.651s plymouth-quit-wait.service
1.341s snapd.apparmor.service
1.324s systemd-resolved.service
1.322s systemd-timesyncd.service
 462ms udisks2.service
 420ms dev-sdd2.device
 374ms snapd.service
 300ms networkd-dispatcher.service
 198ms accounts-daemon.service
 185ms dev-loop3.device
 182ms dev-loop2.device
 180ms dev-loop6.device
 178ms apparmor.service
 176ms dev-loop4.device
 170ms dev-loop5.device
 170ms dev-loop1.device
 162ms dev-loop0.device
 161ms apport.service
 161ms dev-loop7.device
 146ms polkit.service
 145ms avahi-daemon.service
 144ms power-profiles-daemon.service
 142ms NetworkManager.service
 138ms switcheroo-control.service
 135ms user@1000.service
 124ms systemd-udev-trigger.service
 121ms systemd-tmpfiles-setup.service
 118ms systemd-udevd.service
 111ms wpa_supplicant.service
 111ms thermald.service
 109ms systemd-logind.service
  99ms systemd-fsck@dev-disk-by\x2duuid-BF74\x2d2B72.service
  97ms systemd-oomd.service
  97ms e2scrub_reap.service
  93ms gpu-manager.service
  90ms ModemManager.service
  88ms systemd-journald.service
  87ms modprobe@chromeos_pstore.service
  86ms systemd-rfkill.service
  81ms console-setup.service
  79ms snapd.seeded.service
  76ms systemd-journal-flush.service
  76ms systemd-modules-load.service
  74ms geoclue.service
  74ms plymouth-read-write.service
  72ms keyboard-setup.service
  71ms cups.service
  66ms grub-common.service
  61ms rtkit-daemon.service
  60ms ssh.service
  59ms gdm.service
  55ms upower.service
  41ms ufw.service
  38ms packagekit.service
  36ms dev-hugepages.mount
  35ms rsyslog.service
  35ms dev-mqueue.mount
  34ms sys-kernel-debug.mount
  34ms sys-kernel-tracing.mount
  31ms kmod-static-nodes.service
  31ms modprobe@drm.service
  30ms modprobe@configfs.service
  29ms modprobe@pstore_blk.service
  28ms modprobe@efi_pstore.service
  28ms modprobe@fuse.service
  28ms modprobe@pstore_zone.service
  28ms modprobe@ramoops.service
  25ms boot-efi.mount
  23ms grub-initrd-fallback.service
  21ms systemd-sysctl.service
  19ms plymouth-start.service
  19ms colord.service
  18ms alsa-restore.service
  18ms systemd-remount-fs.service
  18ms systemd-pstore.service
  16ms snap-bare-5.mount
  15ms snap-core20-1587.mount
  14ms kerneloops.service
  14ms snap-firefox-1635.mount
  13ms systemd-backlight@backlight:intel_backlight.service
  13ms snap-gnome\x2d3\x2d38\x2d2004-112.mount
  11ms systemd-update-utmp.service
  11ms snap-gtk\x2dcommon\x2dthemes-1535.mount
  10ms snap-snap\x2dstore-582.mount
  10ms systemd-sysusers.service
   9ms snap-snapd-16292.mount
   9ms user-runtime-dir@1000.service
   9ms systemd-tmpfiles-setup-dev.service
   8ms snap-snapd\x2ddesktop\x2dintegration-14.mount
   8ms openvpn.service
   8ms proc-sys-fs-binfmt_misc.mount
   7ms systemd-random-seed.service
   6ms systemd-update-utmp-runlevel.service
   4ms sys-fs-fuse-connections.mount
   4ms systemd-user-sessions.service
   4ms sys-kernel-config.mount
   1ms setvtrgb.service
 626us snapd.socket
```


---

# 安装drawio
https://github.com/jgraph/drawio-desktop/releases/

---

# vscode

don't install by snap, using deb package or apt-repo

```
$ cat /etc/apt/sources.list.d/vscode.list 
### THIS FILE IS AUTOMATICALLY CONFIGURED ###
# You may comment out this entry, but any other modifications may be lost.
deb [arch=amd64,arm64,armhf] http://packages.microsoft.com/repos/code stable main
```
```
sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys EB3E94ADBE1229CF
```
插件
```
outline: AL code outline, Outline map
bash: bash debug, bash beautify, bash ide
c/c++: c/c++, c/c++ Themes, c/c++ extension pack, cmake(至少安装了cmake 和 cmake-gui)， cmake tools
flowchart: flowchart, code flowchart
java: extension pack for java, debugger for java, project manager for java, maven for java, test runner for java, ...by red hat, gradle for java
docker: docker, dev container
doxygen: doxygen documentation generator
drawio: drawio integration, RTL plugin, wavedrom plugin
markdown: markdown, markdown all in one, markdown pdf, markdown preview enhanced, Markdown Checkboxes, Markdown Emoji, Markdown Paste, Markdown Preview Github Styling, Markdown Shortcuts, Markdown TOC, Markdown Math, Markdown+Math, markdownlint, Office Viewer, Excel to Markdown table, Markdown Table Prettifier
git: Git Graph, Git History, GitLens — Git supercharged
python: isort, Jupyter, Jupyter Slide Show, Jupyter Keymap, Jupyter Cell Tags, py2flowchart, PYQT Integration, Tabnine AI Autocomplete
kotlin: Kotlin Language
path: Path Intellisense, Path Autocomplete
ppm: PBM/PPM/PGM Viewer for Visual Studio Code
pdf: vscode-pdf, PDF Viewer
ssh: Remote - SSH
svn: SVN
tcl: TCL
verilog: Verilog-HDL/SystemVerilog/Bluespec SystemVerilog
VHDL: VHDL by VHDLwhiz, VHDL
Vim: Vim(disable it)
other: EditorConfig for VS Code
```

---

# bcompare

apt-repo

```
$ cat /etc/apt/sources.list.d/scootersoftware.list 
deb https://www.scootersoftware.com/ bcompare4 non-free
```
```
sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 331D6DDE7F8840CE
```
这时候把俺要用的scrpits放到老位置
---

# v2ray

科^学%上$网, FUCK CCP!!

原始的go.sh脚本需要修改, 已经修改好的go_mod.sh
`sudo ./go_mod.sh`
v2ray-linux-64.zip下载到相同目录就可以安装到本机, 然后

```
sudo gedit /etc/v2ray/config.json
sudo systemctl enable v2ray.service
sudo systemctl start v2ray.service
sudo systemctl restart v2ray.service
```

---

# opera

```
$ sudo dpkg -i opera-stable_90.0.4480.84_amd64.deb
$ cat /etc/apt/sources.list.d/opera-stable.list 
# This file makes sure that Opera Browser is kept up-to-date
# as part of regular system upgrades

deb https://deb.opera.com/opera-stable/ stable non-free #Opera Browser (final releases)
```
```
sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys DD3C368A8DE1B7A0
```
```
W: http://packages.microsoft.com/repos/code/dists/stable/InRelease: Key is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.
W: https://deb.opera.com/opera-stable/dists/stable/InRelease: Key is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.
W: https://www.scootersoftware.com/dists/bcompare4/Release.gpg: Key is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.
then just keep EB3E94ADBE1229CF key in /etc/apt/trusted.gpg
```
```
$ sudo apt update
$ sudo apt upgrade
$ sudo apt install bcompare opera-stable code
```

`opera://settings`

`opera://extensions`

load SwitchyOmega_Chromium folder and set/load config, then update crx of SwitchyOmega

```
127.0.0.1:10808
https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt

https://clients2.google.com/service/update2/crx?response=redirect&os=linux&arch=x86-64&nacl_arch=x86-64&prod=chromiumcrx&prodchannel=unknown&prodversion=84.0.4147.135&acceptformat=crx2%2Ccrx3&x=id%3Dpadekgcemlokbadohgkifijomclgjgif%26uc
```

don't login opera account for now

---

extensions:
```
Opera Ad Blocker(disable)
Proxy SwitchyOmega
AdBlock — best ad blocker
DownThemAll!
Install Chrome Extensions(DEPRECATED)
Enhancer for Telegram
Tampermonkey
Telegram Browser  
TICloudAgent Bridge(disable)
Video Downloader VeeVee
Video Downloader for Chrome
Video Downloader Pro
Video Downloader Professional
Web Scraper
```

# fcitx

fcitx5
[https://fcitx-im.org/wiki/Fcitx_5](https://fcitx-im.org/wiki/Fcitx_5)
[https://fcitx-im.org/wiki/Install_Fcitx_5](https://fcitx-im.org/wiki/Install_Fcitx_5)
[https://fcitx-im.org/wiki/Input_method_engines](https://fcitx-im.org/wiki/Input_method_engines)
[https://fcitx-im.org/wiki/Setup_Fcitx_5](https://fcitx-im.org/wiki/Setup_Fcitx_5)
[https://fcitx-im.org/wiki/Configtool_(Fcitx_5)](https://fcitx-im.org/wiki/Configtool_(Fcitx_5))
[https://zhuanlan.zhihu.com/p/508797663](https://zhuanlan.zhihu.com/p/508797663)

fcitx
[https://wiki.archlinux.org/title/fcitx](https://wiki.archlinux.org/title/fcitx)
[https://installati.one/install-fcitx-ubuntu-22-04/](https://installati.one/install-fcitx-ubuntu-22-04/)

choose fcitx(not fcitx5)

```
sudo apt install fcitx fcitx-bin fcitx-data fcitx-tools fcitx-table fcitx-table-all fcitx-modules fcitx-module-dbus fcitx-config-gtk fcitx-frontend-gtk2 fcitx-ui-classic fcitx-googlepinyin fcitx-table-wubi fcitx-sunpinyin
```

```
The following additional packages will be installed:
  dbus-x11 fcitx-config-common fcitx-frontend-all fcitx-frontend-gtk3
  fcitx-frontend-qt5 fcitx-module-kimpanel fcitx-module-lua
  fcitx-module-quickphrase-editor5 fcitx-module-x11 fcitx-pinyin
  fcitx-table-bingchan fcitx-table-cangjie fcitx-table-dianbaoma
  fcitx-table-erbi fcitx-table-wanfeng fcitx-table-wbpy fcitx-table-ziranma
  libdouble-conversion3 libfcitx-config4 libfcitx-core0 libfcitx-gclient1
  libfcitx-qt5-1 libfcitx-qt5-data libfcitx-utils0 libgettextpo0
  libgooglepinyin0 liblua5.2-0 libmd4c0 libpcre2-16-0 libpresage-data
  libpresage1v5 libqt5core5a libqt5dbus5 libqt5gui5 libqt5network5 libqt5svg5
  libqt5widgets5 libsunpinyin3v5 libtinyxml2.6.2v5 libxcb-xinerama0
  libxcb-xinput0 presage qt5-gtk-platformtheme qttranslations5-l10n
  sunpinyin-data
Suggested packages:
  fcitx-m17n kdialog plasma-widgets-kimpanel qt5-image-formats-plugins
  qtwayland5
```

for mint-c

```
sudo apt install libfcitx-utils0 libmarisa0 gir1.2-fcitx-1.0 fcitx-config-gtk fcitx-libs libopencc1.1 fcitx-frontend-fbterm ibus-gtk3 libx86-1 ibus-table fcitx-module-kimpanel fcitx-sunpinyin python3-ibus-1.0 fcitx ibus-libpinyin fcitx-module-dbus liblua5.3-0 libpresage1v5 fcitx-modules sunpinyin-data libclutter-imcontext-0.1-0 fcitx-pinyin fbterm fonts-arphic-uming libfcitx-config4 fcitx-bin libtinyxml2.6.2v5 fcitx-module-lua libclutter-imcontext-0.1-bin fcitx-table-wubi ibus-data fcitx-module-x11 fcitx-frontend-gtk2 fcitx-frontend-gtk3 libpresage-data fcitx-config-common fcitx-tools fcitx-data libpinyin13 ibus-sunpinyin fcitx-frontend-all libpinyin-data fcitx-ui-classic libgettextpo0 libfcitx-gclient1 fcitx-frontend-qt5 ibus-gtk libfcitx-core0 ibus-table-wubi fonts-arphic-ukai ibus libsunpinyin3v5 ibus-clutter fcitx-module-cloudpinyin fcitx-table libopencc-data
```

```
sudo apt install fcitx-googlepinyin fcitx fcitx-bin fcitx-data fcitx-modules fcitx-googlepinyin fcitx-config-gtk fcitx-frontend-gtk2 fcitx-ui-classic fcitx-module-dbus
```

## 配置fcitx输入法

```
$ sudo im-config
$ im-config
```

```
Current configuration for the input method:
 * Default mode defined in /etc/default/im-config: 'auto'
 * Active configuration: 'fcitx' (normally missing)
 * Normal automatic choice: 'ibus' (normally ibus or fcitx5)
 * Override rule: 'zh_CN,fcitx5:zh_TW,fcitx5:zh_HK,fcitx5:zh_SG,fcitx5'
 * Current override choice: '' (Locale='en_US')
 * Current automatic choice: 'ibus'
 * Number of valid choices: 2 (normally 1)
 * Desktop environment: 'ubuntu:GNOME'
The configuration set by im-config is activated by re-starting the system.
Explicit selection is not required to enable the automatic configuration if the active one is default/auto/cjkv/missing.
  Available input methods: ibus fcitx xim
Unless you really need them all, please make sure to install only one input method tool.
```

```
Setting the system configuration /etc/X11/xinit/xinputrc to fcitx.
Manual configuration selects: fcitx
Flexible Input Method Framework (fcitx)
 * Required for all: fcitx
 * Language specific input conversion support:
   * Simplified Chinese: fcitx-libpinyin or fcitx-sunpinyin or fcitx-googlepinyin
   * Traditional Chinese / generic Chinese: fcitx-rime
   * Generic keyboard translation table: fcitx-table* packages
 * Application platform support:
   Installing fcitx-frontend-all will cover all GUI platforms.
   * GNOME/GTK: fcitx-frontend-gtk2 and fcitx-frontend-gtk3 (both)
   * KDE/Qt5: fcitx-frontend-qt5

The system configuration is modified by im-config.
```

autostart
`sudo cp /usr/share/fcitx/xdg/autostart/fcitx-autostart.desktop /etc/xdg/autostart/`

~/.xprofile中加入：(不要在/etc/environment)

```
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export QT4_IM_MODULE=fcitx
export XMODIFIERS=@im=fcitx
export SDL_IM_MODULE=fcitx
```

~/.pam_environment

```
GTK_IM_MODULE DEFAULT=fcitx
QT_IM_MODULE DEFAULT=fcitx
QT4_IM_MODULE DEFAULT=fcitx
XMODIFIERS DEFAULT=@im=fcitx
SDL_IM_MODULE DEFAULT=fcitx
```
还需要在输入法选项里选择google-pinyin什么的

---

# wqy fonts

```
sudo apt install fonts-wqy-microhei fonts-wqy-zenhei fonts-ipafont-gothic fonts-ipafont-mincho fonts-indic fonts-freefont-ttf fonts-dejavu fonts-mathjax-extras fonts-stix fonts-freefont-otf fonts-freefont-ttf 
//sudo apt install fontconfig xfonts-utils
```

```
The following additional packages will be installed:
  cabextract fonts-dejavu-extra fonts-mathjax libmspack0
Suggested packages:
  libjs-mathjax
```

```
$ sudo apt install fonts-ipafont-gothic fonts-ipafont-mincho fonts-wqy-microhei fonts-wqy-zenhei fonts-indic
```

# ubunut-extras

```
sudo apt install ubuntu-restricted-extras ttf-mscorefonts-installer
sudo apt install ubuntu-restricted-extras ttf-mscorefonts-installer --reinstall
sudo apt install ttf-mscorefonts-installer --reinstall
```

```
The following additional packages will be installed:
  chromium-codecs-ffmpeg-extra gstreamer1.0-libav gstreamer1.0-plugins-ugly
  gstreamer1.0-vaapi i965-va-driver intel-media-va-driver liba52-0.7.4
  libaacs0 libaom3 libaribb24-0 libass9 libavcodec-extra libavcodec-extra58
  libavfilter7 libavformat58 libavutil56 libbdplus0 libblas3 libbluray2
  libbs2b0 libchromaprint1 libcodec2-1.0 libdav1d5 libdvdread8 libflite1
  libgfortran5 libgme0 libgsm1 libgstreamer-plugins-bad1.0-0 libigdgmm12
  liblapack3 liblilv-0-0 libmfx1 libmpeg2-4 libmysofa1 libnorm1
  libopencore-amrnb0 libopencore-amrwb0 libopenmpt0 libpgm-5.3-0
  libpocketsphinx3 libpostproc55 librabbitmq4 librubberband2 libserd-0-0
  libshine3 libsidplay1v5 libsnappy1v5 libsord-0-0 libsphinxbase3
  libsratom-0-0 libsrt1.4-gnutls libssh-gcrypt-4 libswresample3 libswscale5
  libudfread0 libva-drm2 libva-wayland2 libva-x11-2 libva2 libvdpau1
  libvidstab1.1 libvo-amrwbenc0 libx264-163 libx265-199 libxvidcore4 libzimg2
  libzmq5 libzvbi-common libzvbi0 mesa-va-drivers mesa-vdpau-drivers
  ocl-icd-libopencl1 pocketsphinx-en-us ubuntu-restricted-addons unrar
  va-driver-all vdpau-driver-all
Suggested packages:
  gstreamer1.0-vaapi-doc i965-va-driver-shaders libcuda1 libnvcuvid1
  libnvidia-encode1 libbluray-bdj libdvdcss2 serdi sidplay-base sordi
  opencl-icd libvdpau-va-gl1
Recommended packages:
  gstreamer1.0-fluendo-mp3

ttf-mscorefonts-installer: downloading http://downloads.sourceforge.net/corefonts/andale32.exe
ttf-mscorefonts-installer: downloading http://downloads.sourceforge.net/corefonts/arial32.exe
ttf-mscorefonts-installer: downloading http://downloads.sourceforge.net/corefonts/arialb32.exe
ttf-mscorefonts-installer: downloading http://downloads.sourceforge.net/corefonts/comic32.exe
ttf-mscorefonts-installer: downloading http://downloads.sourceforge.net/corefonts/courie32.exe
ttf-mscorefonts-installer: downloading http://downloads.sourceforge.net/corefonts/georgi32.exe
ttf-mscorefonts-installer: downloading http://downloads.sourceforge.net/corefonts/impact32.exe
ttf-mscorefonts-installer: downloading http://downloads.sourceforge.net/corefonts/times32.exe
ttf-mscorefonts-installer: downloading http://downloads.sourceforge.net/corefonts/trebuc32.exe
ttf-mscorefonts-installer: downloading http://downloads.sourceforge.net/corefonts/verdan32.exe
ttf-mscorefonts-installer: downloading http://downloads.sourceforge.net/corefonts/webdin32.exe
```

缓存位置在
`/var/lib/update-notifier/package-data-downloads/partial/`
中断之后继续
`sudo dpkg --configure -a`

完成后

```
$ ls -l /var/lib/update-notifier/package-data-downloads/
drwx------ 2 _apt root 4096 Nov 23 14:17 partial
-rw-r--r-- 1 root root    0 Nov 23 14:17 ttf-mscorefonts-installer
```

```
run 'dpkg-reconfigure ttf-mscorefonts-installer' to perform the installation again
```

---

# anydesk

安装deb文件
附加安装 libgtkglext1
添加服务
/etc/systemd/system/multi-user.target.wants/anydesk.service → /etc/systemd/system/anydesk.service.
usbstick地址码:
`286168448`

`1439765824`

---

# check boot log

```
$ sudo cat /var/log/boot.log
$ systemctl --failed
```

[https://blog.csdn.net/qq_42427109/article/details/107881734](https://blog.csdn.net/qq_42427109/article/details/107881734)
`systemd-journal`服务，`/run/log/`
`rsyslog`服务，`/var/log/`
常见的日志文件
`/var/log/messages` 绝大多数的系统日志都记录到该文件
`/var/log/secure` 所有跟安全和认证授权等日志都会记录到此文件
`/var/log/maillog` 邮件服务的日志
`/var/log/cron` crond计划任务的日志
`/var/log/boot.log` 系统启动的相关日志

```
logger "Hello World"
cat /var/log/syslog
```

`ls -lhm --full-time /var/log/journal/f9d400c5e1e8c3a8209e990d887d4ac1_bk_20190122/ | sort -k6 | head -n30`

```
total 3.5G
-rw-r-x---+ 1 root systemd-journal  64M 2018-03-28 01:36:01.010275802 +0800 system@00000000000000000000000000000000-00000000000002ca-000567d28f35cca7.journal
-rw-r-x---+ 1 root systemd-journal 8.0M 2018-03-28 01:36:01.100275802 +0800 user-65534@4ee96b2fbd8b4a82beee0402402fee03-0000000000005419-000567f7fd08bd2f.journal
-rw-r-x---+ 1 root systemd-journal  72M 2018-04-02 19:16:41.644934707 +0800 system@00000000000000000000000000000000-0000000000010a47-0005686852f561be.journal
-rw-r-x---+ 1 root systemd-journal 8.0M 2018-04-02 19:16:41.714934707 +0800 user-65534@4ee96b2fbd8b4a82beee0402402fee03-0000000000011f98-00056872cab77761.journal
-rw-r-x---+ 1 root systemd-journal  72M 2018-04-08 05:48:01.673026304 +0800 system@00000000000000000000000000000000-0000000000021c40-000568dbb97116ae.journal
-rw-r-x---+ 1 root systemd-journal  72M 2018-04-13 18:25:01.967846109 +0800 system@00000000000000000000000000000000-0000000000033800-00056949207ae8a1.journal
-rw-r-x---+ 1 root systemd-journal  72M 2018-04-18 04:12:35.385621922 +0800 system@00000000000000000000000000000000-0000000000045c3e-000569b848f6f86c.journal
```

查看垃圾文件
`$ sudo du -t 100M /var`

`$ journalctl --disk-usage`

`$ sudo du -hm --max-depth=1 /var/ | sort -n`

清空 `/var/log/journal`

1.用echo命令，将空字符串内容重定向到指定文件中
比如
`cd /var/log/journal/acce3a42ddb543ee8a905e2102debcc2/`
`$ sudo echo "" > system.journal`

2.journalctl 命令自动维护文件大小[详见 `journalctl`]

1）只保留近一周的日志

```
journalctl --vacuum-time=1w
```

2）只保留500MB的日志

```
journalctl --vacuum-size=500M
```

3）直接删除 /var/log/journal/ 目录下的日志文件

```
rm -rf /var/log/journal/f9d400c5e1e8c3a8209e990d887d4ac1
```

常见问题

执行 journalctl 命令时报错：`Error was encountered while opening journal files: Input/output error`

`journalctl --vacuum-time=1w`

```
Error was encountered while opening journal files: Input/output error
问题分析：日志文件损坏
解决方法：删除之前的日志，并重启 journalctl 服务
mv journal/f9d400c5e1e8c3a8209e990d887d4ac1 journal/f9d400c5e1e8c3a8209e990d887d4ac1_bk_20190122
systemctl restart systemd-journald.service
```

`/var/log/journal/` 日志目录如下

```
# ll /var/log/journal/
drwxr-sr-x  2 root systemd-journal  4096 Jan 22 11:26 f9d400c5e1e8c3a8209e990d887d4ac1
drwxr-sr-x+ 2 root systemd-journal 12288 Jan 14 15:37 f9d400c5e1e8c3a8209e990d887d4ac1_bk_20190122
```

然后，再执行 journalctl 限制日志的命令：

```
# journalctl --vacuum-time=1w
Vacuuming done, freed 0B of archived journals on disk.
 
# journalctl --vacuum-size=500M
Vacuuming done, freed 0B of archived journals on disk.

```

---

# journalctl

[https://www.itbkz.com/11591.html](https://www.itbkz.com/11591.html)
[https://zhuanlan.zhihu.com/p/410995772](https://zhuanlan.zhihu.com/p/410995772)
[http://events.jianshu.io/p/f62c65a8bfc9](http://events.jianshu.io/p/f62c65a8bfc9)

```
$ journalctl -h
$ man journalctl
```

## 查看全部日志

`$ journalctl`

## 查看错误日志

`$ journalctl -p err`

`$ journalctl -p 3`

3==err后面优先级（PRIORITY）有解释

## 最后2行错误日志

`$ journalctl -p err -n2`

## 查看报警日志

`$ journalctl -p alert`

## 最后2行报警日志

`$ journalctl -p alert -n2`

## 查看指定优先级（及其以上级别）的日志，共有8级

```
$ journalctl -F PRIORITY
4
7
5
6
3
2
```

```
0: emerg
1: alert
2: crit
3: err
4: warning
5: notice
6: info
7: debug
```

若要检查上一次引导的日志，请使用 `-b`参数筛选日记。`-b`选项仅显示上次引导后的消息。它以负数作为参数，显示以前引导的日志。
`$ journalctl -p err -b warning`

`$ journalctl _SYSTEMD_UNIT=docker.service PRIORITY=6`

## 监控日志(实时滚动显示最新日志)

`$ journalctl -f`

与 `tail -f`类似

## 动态监控，默认最后10行

`$ journalctl -xf`

## Show kernel message log 查看内核日志（不显示应用日志）

`$ journalctl -k`

## # 查看系统本次启动的日志

```
$ journalctl -b
$ journalctl -b -0
```

## 查看上一次启动的日志（需更改设置）

```
$ journalctl -b -1
$ journalctl -b -1 -p err
```

### 修改配置文件

为了避免报错

```
$ journalctl -b -1
Specifying boot ID has no effect, no persistent journal was found 
```

`sudo gedit /etc/systemd/journald.conf`

`Storage=auto`

修改为

`Storage=persistent`

重启服务生效

`$ sudo systemctl restart systemd-journald`

`$ systemctl status systemd-journald`

tips：

```
Storage参数设置值有：
1、persistent：将日志存储在/var/log/journal目录中，该目录在重新启动后仍然存在。
2、volatile：将日记存储在/run/log/journal目录中。
3、auto：rsyslog将确定使用持久性存储(persistent)还是易失性存储(volatile)，如果存在/var/log/journal目录，则rsyslog使用持久性存储，否则使用易失性存储。
```

ubuntu22.04实际上不修改也不报错，就不改呗

## Add message explanations where available and Immediately jump to the end in the pager

`$ journalctl -xe`

## 日志默认分页输出，--no-pager 改为正常的标准输出

`$ journalctl --no-pager`

## Show logs from the specified unit(按服务查询, 查看某个 Unit 的日志)

```
$ journalctl -u snapd
$ journalctl _SYSTEMD_UNIT=docker.service
$ journalctl -u nginx.service
$ journalctl -u nginx.service --since today
```

## 合并显示多个 Unit 的日志

`$ journalctl -u nginx.service -u php-fpm.service --since today`

## 实时滚动显示某个 Unit 的最新日志

`$ journalctl -u nginx.service -f`

## 以 JSON 格式（单行）输出

`$ journalctl -b -u nginx.service -o json`

## 以 JSON 格式（多行）输出，可读性更好

`$ journalctl -b -u nginx.serviceqq -o json-pretty`

`$ journalctl -p 3 -o json-pretty`

## 查看指定服务的日志

`$ journalctl /usr/lib/systemd/systemd`

## 查看指定进程的日志

`$ journalctl _PID=665`

# 查看指定用户的日志

`$ journalctl UID=33 --since today`

## 查看某个路径的脚本的日志

`$ journalctl /usr/bin/bash`

## 查看指定时间的日志

### 查看某时刻之后的日志

```
$ journalctl --since="2021-09-16 14:22:02"
$ journalctl --since "30 min ago"
```

### 获取昨天日志

```
$ journalctl --since yesterday
```

### 获取今天日志

```
$ journalctl --since today
```

### 今天10点到2小时之后的日志

```
$ journalctl --since 10:00 --until "2 hour ago"
```

### 查看从某时到某时的日志

```
$ journalctl --since "2021-01-01" --until "2021-09-16 13:40"
$ journalctl --since "2021-02-19 15:10:00" --until   "2021-02-19 15:15:00"
$ journalctl --since 07:30 --until "2 hour ago"
```

如果时间未填写，默认 00:00:00

## 显示尾部的最新10行日志

`$ journalctl -n`

## 显示尾部指定行数的日志

`$ journalctl -n 15`

## 显示日志占据的硬盘空间

`$ journalctl --disk-usage`

## 指定日志文件占据的最大空间，默认为8M

保留最新的1G日志
`$ sudo journalctl --vacuum-size=1G`

## 指定日志文件保存多久

清除一年之前的日志
`$ sudo journalctl --vacuum-time=1years`

## 配置文件一般参数说明

`/etc/systemd/journald.conf`

```
SystemMaxUse=2G
SystemKeepFree=4G
SystemMaxFileSize=100M
RuntimeMaxUse=2G
RuntimeKeepFree=4G
RuntimeMaxFileSize=100M
```

System 开头的选项就是 `/var/log/journal` 的使用量， 用于限制磁盘使用量。

Runtime" 开头的选项就是 `/run/log/journal` 的使用量， 用于限制内存使用量。

```
SystemMaxUse=
作用：持久存储占用磁盘大小限制
默认：默认值是10%空间与4G空间两者中的较小者；

RuntimeMaxUse=
作用：占用内存大小限制（/run文件系统之内）
默认：默认值是10%空间与4G空间两者中的较小者

SystemKeepFree=
作用：添加新条目时需要保留的磁盘剩余空间
默认：默认值是15%空间与4G空间两者中的较大者

RuntimeKeepFree=
作用：内存保留的剩余空间
默认：默认值是15%空间与4G空间两者中的较大者

SystemMaxFileSize=
作用：限制单个日志文件的最大体积（到达此限制后日志文件将会自动滚动）
默认： SystemMaxUse 值的1/8

RuntimeMaxFileSize=

作用：限制单个日志文件占用的内存大小（/run文件系统之内）
默认： RuntimeMaxUse= 值的1/8
```

---

# 用 `lnav`软件查看log

[https://www.cnblogs.com/michealLang/p/9761886.html](https://www.cnblogs.com/michealLang/p/9761886.html)
[http://www.imooc.com/article/80502](http://www.imooc.com/article/80502)

## 安装

```
$ sudo apt install lnav libpcrecpp0v5
```

## 获取帮助信息

```
$ lnav -h
```

## 查看日志

```
$ lnav
```

## 查看指定日志(后面加上绝对路径)

```
$ lnav /var/log/dpkg.log
$ lnav /var/log/dpkg.log /var/log/kern.log
```

## 查看压缩的日志文件

```
$ lnav -r /var/log/Xorg.0.log.old.gz
```

## 直方图视图

首先运行 `lnav` 然后按 `i` 键切换到/出直方图视图

## 查看日志解析器结果

首先运行 `lnav` 然后按 `p` 键打开显示日志解析器结果

## 语法高亮

首先运行 `lnav` 然后按 `/` 键并输入你想查找的字符串（可以用 `Tab` 补全）， 比如搜索字符串 Default

## 源码连接

[https://github.com/tstack/lnav](https://github.com/tstack/lnav)

## 帮助网站

[http://blog.topspeedsnail.com/archives/5970](http://blog.topspeedsnail.com/archives/5970)

## 其他

glogg
`sudo apt install glogg libboost-program-options1.74.0`
[http://glogg.bonnefon.org/](http://glogg.bonnefon.org/)

ubuntu22.04默认的log查看器
`$ gnome-logs`

ubuntu之前的log查看器
[https://blog.csdn.net/weixin_39629075/article/details/116695187](https://blog.csdn.net/weixin_39629075/article/details/116695187)

```
sudo apt install gnome-system-log
gnome-system-log
```

---

# iso checksums

high speed mirror: Shanghai Jiao Tong University
[https://mirror.sjtu.edu.cn/](https://mirror.sjtu.edu.cn/)
[https://mirrors.sjtug.sjtu.edu.cn/](https://mirrors.sjtug.sjtu.edu.cn/)

## Ubuntu flavours

[https://ubuntu.com/#download](https://ubuntu.com/#download)
[Kubuntu](https://www.kubuntu.org/)
[Lubuntu](http://lubuntu.me/)
[Xubuntu](https://xubuntu.org/)
[Ubuntu Budgie](https://ubuntubudgie.org/)
[Ubuntu MATE](https://ubuntu-mate.org/)
[Ubuntu Studio](https://ubuntustudio.org/)
[Ubuntu Kylin](http://www.ubuntukylin.com/index.php?lang=en)

## lubuntu

[https://lubuntu.me/](https://lubuntu.me/)
[https://manual.lubuntu.me/](https://manual.lubuntu.me/)
[https://cdimage.ubuntu.com/lubuntu/releases/](https://cdimage.ubuntu.com/lubuntu/releases/)
SHA256SUM
`55fa19c398c23d7721755aa1f4738ebbf03613eeba9fc33aa98cbc324b1e03b1 *lubuntu-22.04.1-desktop-amd64.iso`

## kubuntu

[https://kubuntu.org/](https://kubuntu.org/)
[https://kubuntu.org/support/](https://kubuntu.org/support/)
[http://cdimage.ubuntu.com/kubuntu/releases](http://cdimage.ubuntu.com/kubuntu/releases)
SHA256SUM
`1b03afb1e89bb52ff6264a97d5308ccc330e629af87ee03ee16d8552c2f511de *kubuntu-22.04.1-desktop-amd64.iso`
ref:
[https://blog.csdn.net/jston_learn/article/details/7770844](https://blog.csdn.net/jston_learn/article/details/7770844)
[https://blog.csdn.net/github_35160620/article/details/52374492](https://blog.csdn.net/github_35160620/article/details/52374492)
[https://blog.csdn.net/davidhzq/article/details/102594328](https://blog.csdn.net/davidhzq/article/details/102594328)

## xubuntu

[https://xubuntu.org](https://xubuntu.org)
[https://xubuntu.org/help/](https://xubuntu.org/help/)
[http://cdimage.ubuntu.com/xubuntu/releases/](http://cdimage.ubuntu.com/xubuntu/releases/)
SHA256SUM
`e1ffc4f30bf96f07e11315f71b3342bce4b97bb3b93601ed5e1ba803d144c656 *xubuntu-22.04.1-desktop-amd64.iso`

## linux lite

[https://www.linuxliteos.com/](https://www.linuxliteos.com/)
[https://mirrors.sjtug.sjtu.edu.cn/linuxliteos/isos/](https://mirrors.sjtug.sjtu.edu.cn/linuxliteos/isos/)
SHA256SUM
`8bfee7756772b8f4613b783fa7be3996be9a2bebd39364d407f4c17ad24bdef4  linux-lite-6.2-64bit.iso`

## ubuntu-budgie

[https://ubuntubudgie.org](https://ubuntubudgie.org)
[https://mirror.sjtu.edu.cn/ubuntu-cdimage/ubuntu-budgie/releases/](https://mirror.sjtu.edu.cn/ubuntu-cdimage/ubuntu-budgie/releases/)
SHA256SUM
`54d5642faf1a3b37bff4377ff0363c17ac6f3da8f21a1f366bc1ec0afbf2ef65 *ubuntu-budgie-22.04.1-desktop-amd64.iso`

## ubuntu-mate

[https://ubuntu-mate.org](https://ubuntu-mate.org)
[https://mirror.sjtu.edu.cn/ubuntu-cdimage/ubuntu-mate/releases/](https://mirror.sjtu.edu.cn/ubuntu-cdimage/ubuntu-mate/releases/)
SHA256SUM
`1c18cdabcf820f699cebf6cda7ed4ba230d9acaf0b1573b870b099f678d32c29 *ubuntu-mate-22.04.1-desktop-amd64.iso`

## ubuntukylin

[https://www.ubuntukylin.com](https://www.ubuntukylin.com)
[https://www.ubuntukylin.com/downloads/download-en.html](https://www.ubuntukylin.com/downloads/download-en.html)
[https://mirrors.aliyun.com/ubuntukylin-cdimage/](https://mirrors.aliyun.com/ubuntukylin-cdimage/)
MD5SUM
`0145d61dcea77cd7e7ced4020e09c840   *https://mirrors.aliyun.com/ubuntukylin-cdimage/22.04/ubuntukylin-22.04-pro-amd64.iso`

## lxle linux

[https://www.lxle.net](https://www.lxle.net)
[https://sourceforge.net/projects/lxle/files/Final/OS/Focal-64/](https://sourceforge.net/projects/lxle/files/Final/OS/Focal-64/)
MD5SUM
`b9b252265cd79f84d459c7c3cacdf4ef  LXLE-Focal-Release.iso`

## crunchbang++

[https://www.crunchbangplusplus.org](https://www.crunchbangplusplus.org)
[https://github.com/CBPP/cbpp11-amd64/releases/download/v11.1/cbpp-11.1-amd64-20210923.iso](https://github.com/CBPP/cbpp11-amd64/releases/download/v11.1/cbpp-11.1-amd64-20210923.iso)

## linuxmint

[https://mirror.sjtu.edu.cn/linuxmint-cd/stable/](https://mirror.sjtu.edu.cn/linuxmint-cd/stable/)
[https://linuxmint-installation-guide.readthedocs.io/en/latest/](https://linuxmint-installation-guide.readthedocs.io/en/latest/)
SHA256SUM

```
f524114e4a10fb04ec428af5e8faf7998b18271ea72fbb4b63efe0338957c0f3 *linuxmint-21-cinnamon-64bit.iso
02a80ca98f82838e14bb02753bd73ee0da996c9cda3f027ae1c0ffb4612c8133 *linuxmint-21-mate-64bit.iso
3ad001dc15cb661c6652ce1d20ecdc85a939fa0b4b9325af5d0c65379cc3b17e *linuxmint-21-xfce-64bit.iso
```

| flavour  | feature                                               |
| -------- | ----------------------------------------------------- |
| Cinnamon | The most modern, innovative and full-featured desktop |
| MATE     | A more traditional, and faster desktop                |
| Xfce     | The most lightweight desktop                          |

ref:
[https://blog.51cto.com/u_15147537/5617475](https://blog.51cto.com/u_15147537/5617475)
[https://new.qq.com/rain/a/20210223A0219M00](https://new.qq.com/rain/a/20210223A0219M00)
[https://blog.csdn.net/weixin_39770226/article/details/111664107](https://blog.csdn.net/weixin_39770226/article/details/111664107)

### Linux Mint Releases

[https://wiki.linuxmint.com/download_all.php](https://wiki.linuxmint.com/download_all.php)

| Version | Codename      | Package base    | Status                           |
| ------- | ------------- | --------------- | -------------------------------- |
| 21      | Vanessa       | Ubuntu Jammy    | supported until April 2027       |
| 20.3    | Una           | Ubuntu Focal    | supported until April 2025       |
| 20.2    | Uma           | Ubuntu Focal    | supported until April 2025       |
| 20.1    | Ulyssa        | Ubuntu Focal    | supported until April 2025       |
| 20      | Ulyana        | Ubuntu Focal    | supported until April 2025       |
| 19.3    | Ubuntu Bionic | Ubuntu Bionic   | supported until April 2023.      |
| 19.2    | Ubuntu Bionic | Ubuntu Bionic   | supported until April 2023.      |
| 19.1    | Ubuntu Bionic | Ubuntu Bionic   | supported until April 2023.      |
| 19      | Ubuntu Bionic | Ubuntu Bionic   | supported until April 2023.      |
| 5       | Elsie         | Debian Bullseye | Long term support release (LTS). |

## ubuntu

[https://ubuntu.com/](https://ubuntu.com/)
[https://ubuntu.com/#download](https://ubuntu.com/#download)
[http://archive.ubuntu.com/ubuntu/dists/bionic-updates/main/installer-amd64/current/images/netboot/](http://archive.ubuntu.com/ubuntu/dists/bionic-updates/main/installer-amd64/current/images/netboot/)
[https://help.ubuntu.com/18.04/installation-guide/](https://help.ubuntu.com/18.04/installation-guide/)
[https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/22.04.1/](https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/22.04.1/)
[https://mirror.sjtu.edu.cn/ubuntu-cdimage/ubuntu/releases/22.04.1/release/](https://mirror.sjtu.edu.cn/ubuntu-cdimage/ubuntu/releases/22.04.1/release/)
[https://ubuntu.com/tutorials/install-ubuntu-desktop#1-overview](https://ubuntu.com/tutorials/install-ubuntu-desktop#1-overview)
[https://ubuntu.com/tutorials/install-ubuntu-server#1-overview](https://ubuntu.com/tutorials/install-ubuntu-server#1-overview)
SHA256SUMS

```
c396e956a9f52c418397867d1ea5c0cf1a99a49dcf648b086d2fb762330cc88d *ubuntu-22.04.1-desktop-amd64.iso
10f19c5b2b8d6db711582e0e27f5116296c34fe4b313ba45f9b201a5007056cb *ubuntu-22.04.1-live-server-amd64.iso
```

ref:
[https://www.cnblogs.com/jary-wang/archive/2013/04/13/3017824.html](https://www.cnblogs.com/jary-wang/archive/2013/04/13/3017824.html)
[https://www.likecs.com/show-306190378.html#sc=576](https://www.likecs.com/show-306190378.html#sc=576)
[https://www.cnblogs.com/hhmaizi/p/3698740.html](https://www.cnblogs.com/hhmaizi/p/3698740.html)
[https://ubuntu.dovov.com/24933/%E4%BB%8Egrub%E8%8F%9C%E5%8D%95%E5%90%AF%E5%8A%A8ubuntu-iso%E6%96%87%E4%BB%B6.html](https://ubuntu.dovov.com/24933/%E4%BB%8Egrub%E8%8F%9C%E5%8D%95%E5%90%AF%E5%8A%A8ubuntu-iso%E6%96%87%E4%BB%B6.html)
[http://blog.chinaunix.net/uid-27157907-id-3273638.html](http://blog.chinaunix.net/uid-27157907-id-3273638.html)
[https://blog.csdn.net/liauh/article/details/78156610](https://blog.csdn.net/liauh/article/details/78156610)
[http://www.qb5200.com/article/206696.html](http://www.qb5200.com/article/206696.html)
[https://www.jianshu.com/p/c20cb8984caa?nomobile=yes](https://www.jianshu.com/p/c20cb8984caa?nomobile=yes)
[https://blog.csdn.net/qq_42509275/article/details/127096053](https://blog.csdn.net/qq_42509275/article/details/127096053)
[http://soft.zhiding.cn/software_zone/2008/0617/931223.shtml](http://soft.zhiding.cn/software_zone/2008/0617/931223.shtml)
[https://wiki.ubuntu.com/install.exe/Prototype](https://wiki.ubuntu.com/install.exe/Prototype)
[https://blog.51cto.com/u_15786574/5665057](https://blog.51cto.com/u_15786574/5665057)
[https://blog.csdn.net/w553692064/article/details/127145272](https://blog.csdn.net/w553692064/article/details/127145272)
[https://blog.csdn.net/weixin_53641036/article/details/126528793](https://blog.csdn.net/weixin_53641036/article/details/126528793)
[https://blog.csdn.net/baidu_18624493/article/details/122197188](https://blog.csdn.net/baidu_18624493/article/details/122197188)
[https://blog.csdn.net/m0_56051805/article/details/125649225](https://blog.csdn.net/m0_56051805/article/details/125649225)
[http://t.zoukankan.com/jamesf-p-4751502.html](http://t.zoukankan.com/jamesf-p-4751502.html)

### ubuntu codenames

Getting code name:

```
lsb_release -cs
```

[https://wiki.ubuntu.com/Releases](https://wiki.ubuntu.com/Releases)

### ubuntu long tern support releases

| Version      | Code name                  | Release        | End of Standard Support | End of Life |
| ------------ | -------------------------- | -------------- | ----------------------- | ----------- |
| Ubuntu 22.04 | **Jammy** Jellyfish  | April 21, 2022 | April 2027              | April 2032  |
| Ubuntu 20.04 | **Focal** Fossa      | April 23, 2020 | April 2025              | April 2030  |
| Ubuntu 18.04 | **Bionic** Beaver    | April 26, 2018 | April 2023              | April 2028  |
| Ubuntu 16.04 | **Xenial** Xerus     | April 21, 2016 | April 2021              | April 2026  |
| Ubuntu 14.04 | **Trusty** Tahr      | April 17, 2014 | April 2019              | April 2024  |
| Ubuntu 12.04 | **Precise** Pangolin | April 26, 2012 | -                       | April, 2017 |
| Ubuntu 10.04 | **Lucid** Lynx       | April 29, 2010 | -                       | April, 2015 |
| Ubuntu 8.04  | **Hardy** Heron      | April 24, 2008 | -                       | May, 2013   |
| Ubuntu 6.06  | **Dapper** Drake     | June 1, 2006   | -                       | June, 2011  |

ref:
[https://www.elecfans.com/d/1272406.html](https://www.elecfans.com/d/1272406.html)
[https://www.suloon.com/caijingzixun/202112/195321.html](https://www.suloon.com/caijingzixun/202112/195321.html)

## debian

[https://www.debian.org](https://www.debian.org)
[https://wiki.debian.org/](https://wiki.debian.org/)
[https://cdimage.debian.org/debian-cd/current/amd64/iso-cd](https://cdimage.debian.org/debian-cd/current/amd64/iso-cd)
SHA512SUMS

```
6a6607a05d57b7c62558e9c462fe5c6c04b9cfad2ce160c3e9140aa4617ab73aff7f5f745dfe51bbbe7b33c9b0e219a022ad682d6c327de0e53e40f079abf66a  debian-11.5.0-amd64-netinst.iso
adf2f083bc962d2e3bcad4228ac8c6ca242dafa562b76b3658415347cfe0e6595b5a596eb2c5e05def39d580caae9cfcc5f99b1bce7c18064043b1c3c1d9f1a4  debian-edu-11.5.0-amd64-netinst.iso
0a0f2a8e9385edacf0c50bc946c49e552a3f7899d175ff21e4dbdfde72854a010a8dcb2dd0bba5858f4a1e714863e207a42403d666522f29145ac751cf11d30b  debian-mac-11.5.0-amd64-netinst.iso
```

```
99a532675ec9733c277a3f4661638b5471dc5bce989b3a2dbc3ac694c964a7f7  debian-11.5.0-amd64-DVD-1.iso
e36777b4753663d7ad9f26e82bc1a7330dbaf24e8bcf0761f26f1e07fdf347d6  debian-11.5.0-amd64-DVD-10.iso
775ac38fcde6b1d50c499253e4d41cbdaa0c38dc5df03fc34e2160c88e96d98b  debian-11.5.0-amd64-DVD-11.iso
e4776cee8bea74aed881c3c8ac6d13c7d84afd812fbd50d4f85d9235b9919bf8  debian-11.5.0-amd64-DVD-12.iso
ad8bc450ec4598837f0b0a2b6cb841e69184432815fc2039defed6ba2c4c084f  debian-11.5.0-amd64-DVD-13.iso
2fcadedc731cdfab2a9b8c3d169fd725f6a6e4aa3c655e8bfbb844e00f033cf1  debian-11.5.0-amd64-DVD-14.iso
2fa4a4267a1fb0c039bd390a6e19b51d7c1bec16525300ac7c069552914dd5ed  debian-11.5.0-amd64-DVD-15.iso
53bb3db910f94cf2b032e5382af129a34c21652ecaa0c494658872e4faf50ba7  debian-11.5.0-amd64-DVD-16.iso
e8973a1f98aa07e0555361c738f5c2df8e3cc570958ff663070149a81b38cfd7  debian-11.5.0-amd64-DVD-17.iso
2a76071bef14c7a448011776994190cfda93895d2899ca7f86caba4f461c287d  debian-11.5.0-amd64-DVD-18.iso
a7f14907b0d6f1b79f495d5b06e9a78bb03c1f7952a9f95a130ba3ba4fe228b4  debian-11.5.0-amd64-DVD-19.iso
2d8c0ea5d9b7262ebd1f95cf4a074e4e09d5dc23e2419b88c71ed2bc0b321b53  debian-11.5.0-amd64-DVD-2.iso
65a460692cc2b7ccdd207f1d968d225282f129ce12c239a47a799a6a07da706f  debian-11.5.0-amd64-DVD-3.iso
a2bdbfc4b122ea99a8a33cb466631e639796bf25c2171f327f803dbe7ae3d28b  debian-11.5.0-amd64-DVD-4.iso
21d1131945078e65e82b50bbc33cb4987c29f92df46454cc32b7f4bc6f428e38  debian-11.5.0-amd64-DVD-5.iso
33fe04d413994823274022af704dedb229259c57a05022d2405d35713806cf4b  debian-11.5.0-amd64-DVD-6.iso
566d1d7445734a16530c2e43491576e9ccdc1199acbad706400e3e400ff02bba  debian-11.5.0-amd64-DVD-7.iso
74ec9cb4673a0990ca16a1d3864bda454f3b3f7c1664ed8e9b75c807e76c1dc5  debian-11.5.0-amd64-DVD-8.iso
5363cb239e3b5cab37e6a803c6f646eaee7d4a910701bf0d7634c2905599af88  debian-11.5.0-amd64-DVD-9.iso
```

### debian codenames

[https://www.debian.org/releases/index.en.html](https://www.debian.org/releases/index.en.html)
[https://wiki.debian.org/DebianReleases](https://wiki.debian.org/DebianReleases)
[https://wiki.debian.org/LTS](https://wiki.debian.org/LTS)
[https://en.wikipedia.org/wiki/List_of_Toy_Story_characters](https://en.wikipedia.org/wiki/List_of_Toy_Story_characters)
[https://blog.csdn.net/cunjiu9486/article/details/109076490](https://blog.csdn.net/cunjiu9486/article/details/109076490)

| Version | Code name | Toy Story character                | Release date     | End of life |
| ------- | --------- | ---------------------------------- | ---------------- | ----------- |
| 14      | Forky     |                                    | Not yet released |             |
| 13      | Trixie    | Not yet released                   |                  |             |
| 12      | Bookworm  | Not yet released                   |                  |             |
| -       | sid       | The next door neighbour            | “unstable”     | -           |
| 11      | Bullseye  | Woody’s horse                     | 2021-08-14       | ~2024-07    |
| 10      | Buster    | Andy’s pet dog                    | 2019-07-06       | 2022-09-10  |
| 9       | Stretch   | Rubber octopus from Toy Story 3    | 2017-06-17       | 2020-07-18  |
| 8       | Jessie    | Jessie the cowgirl                 | 2015-04-26       | 2018-06-17  |
| 7       | Wheezy    | Wheezy the penguin                 | 2013-05-04       | 2016-04-25  |
| 6.0     | Squeeze   | Squeeze toy aliens                 | 2011-02-06       | 2014-05-31  |
| 5.0     | Lenny     | Lenny, the binoculars              | 2009-02-14       | 2012-02-06  |
| 4.0     | Etch      | Etch, the Etch-A-Sketch            | 2007-04-08       | 2010-02-15  |
| 3.1     | Sarge     | Sarge from the Bucket O’ Soldiers | 2005-06-06       | 2008-03-31  |
| 3.0     | Woody     | Woody the cowboy                   | 2002-07-19       | 2006-06-30  |
| 2.2     | Potato    | Mr Potato Head                     | 2000-08-15       | 2003-06-30  |
| 2.1     | Slink     | Slinky Dog                         | 1999-03-09       | 2000-09-30  |
| 2.0     | Hamm      | Hamm (the pig)                     | 1998-07-24       | -           |
| 1.3     | Bo        | Bo Peep                            | 1997-06-05       | -           |
| 1.2     | Rex       | Rex (the T-Rex)                    | 1996-12-12       | -           |
| 1.1     | Buzz      | Buzz Lightyear                     | 1996-06-17       | -           |

## puppylinux

[https://puppylinux-woof-ce.github.io/](https://puppylinux-woof-ce.github.io/)
[https://puppylinux-woof-ce.github.io/woof-ce.html](https://puppylinux-woof-ce.github.io/woof-ce.html)
[https://puppylinux-woof-ce.github.io/faq.html](https://puppylinux-woof-ce.github.io/faq.html)
[https://puppylinux-woof-ce.github.io/install.html](https://puppylinux-woof-ce.github.io/install.html)
[https://wikka.puppylinux.com/HomePage](https://wikka.puppylinux.com/HomePage)
FossaPup64 9.5 md5sum
`6a45e7a305b7d3172ebd9eab5ca460e4  fossapup64-9.5.iso`

ref:
[https://www.minilinux.net/node/126](https://www.minilinux.net/node/126)
[https://www.minilinux.net/node/613](https://www.minilinux.net/node/613)
[https://www.minilinux.net/node/161](https://www.minilinux.net/node/161)
[https://www.minilinux.net/node/545](https://www.minilinux.net/node/545)
[http://distro.ibiblio.org/puppylinux/sfs_modules-4/](http://distro.ibiblio.org/puppylinux/sfs_modules-4/)
[https://www.minilinux.net/node/50](https://www.minilinux.net/node/50)
[https://www.minilinux.net/node/612](https://www.minilinux.net/node/612)
[http://www.wikka.puppylinux.com/Pets](http://www.wikka.puppylinux.com/Pets)
[http://web.archive.org/web/20150604144131/http://www.puppylinux.com/development/createpet.htm](http://web.archive.org/web/20150604144131/http://www.puppylinux.com/development/createpet.htm)
[https://www.wikihow.com/Install-Puppy-Linux](https://www.wikihow.com/Install-Puppy-Linux)
[https://www.minilinux.net/node/192](https://www.minilinux.net/node/192)
[https://www.minilinux.net/software/pup2usb](https://www.minilinux.net/software/pup2usb)
[https://community.spiceworks.com/topic/2454648-howto-create-a-bootable-linux-media-using-the-dd-command](https://community.spiceworks.com/topic/2454648-howto-create-a-bootable-linux-media-using-the-dd-command)
[http://www.datafilehost.com/download-fe571dfa.htm](http://www.datafilehost.com/download-fe571dfa.htm)
[http://www.chrysocome.net/dd#google_vignette](http://www.chrysocome.net/dd#google_vignette)

## centos

[https://www.centos.org](https://www.centos.org)
[https://wiki.centos.org/](https://wiki.centos.org/)
[https://wiki.centos.org/Download](https://wiki.centos.org/Download)
[https://mirrors.aliyun.com/centos/8/isos](https://mirrors.aliyun.com/centos/8/isos)
[https://mirrors.cqu.edu.cn/centos/8-stream/isos](https://mirrors.cqu.edu.cn/centos/8-stream/isos)
[https://www.centos.org/download/mirrors/](https://www.centos.org/download/mirrors/)
[http://mirror.stream.centos.org/9-stream/BaseOS/x86_64/iso](http://mirror.stream.centos.org/9-stream/BaseOS/x86_64/iso)

```
# CentOS-8.5.2111-x86_64-boot.iso: 827326464 bytes
SHA256 (CentOS-8.5.2111-x86_64-boot.iso) = 9602c69c52d93f51295c0199af395ca0edbe35e36506e32b8e749ce6c8f5b60a
# CentOS-8.5.2111-x86_64-dvd1.iso: 10794041344 bytes
SHA256 (CentOS-8.5.2111-x86_64-dvd1.iso) = 3b795863001461d4f670b0dedd02d25296b6d64683faceb8f2b60c53ac5ebb3e
```

SHA256SUM

```
# CentOS-Stream-9-20221110.0-x86_64-boot.iso: 890241024 bytes
SHA256 (CentOS-Stream-9-20221110.0-x86_64-boot.iso) = 008c51f52ae5e129f46ffcab67947f3380fbc80cd6e400f26175635b69158e1c
# CentOS-Stream-9-20221110.0-x86_64-dvd1.iso: 9275703296 bytes
SHA256 (CentOS-Stream-9-20221110.0-x86_64-dvd1.iso) = eadfa45db468c44ef6c13a0ff8cd4dfb78de0cb9aa53275fcf0614336877303d
```

ref:
[https://www.php.cn/centos/488532.html](https://www.php.cn/centos/488532.html)
[http://www.linuxintro.org/wiki/Build_rpm_packages_with_the_rpmbuild_command](http://www.linuxintro.org/wiki/Build_rpm_packages_with_the_rpmbuild_command)
[https://bbs.archlinux.org/viewtopic.php?id=210629](https://bbs.archlinux.org/viewtopic.php?id=210629)
[https://pkgbuild.sourceforge.net/](https://pkgbuild.sourceforge.net/)
[https://pkgbuild.sourceforge.net/man.php](https://pkgbuild.sourceforge.net/man.php)
[https://bbs.archlinux.org/viewtopic.php?id=102579](https://bbs.archlinux.org/viewtopic.php?id=102579)
[https://bbs.archlinux.org/viewtopic.php?id=92239](https://bbs.archlinux.org/viewtopic.php?id=92239)
<github.com/matthewbauer/unipkg>
[https://download.csdn.net/download/weixin_42114645/15732639](https://download.csdn.net/download/weixin_42114645/15732639)
[https://download.csdn.net/download/weixin_42128988/15743239?utm_medium=distribute.pc_relevant_download.none-task-download-2~default~BlogCommendFromBaidu~Rate-2-15743239-download-15732639.topnsimilar_compare_v2&amp;depth_1-utm_source=distribute.pc_relevant_download.none-task-download-2~default~BlogCommendFromBaidu~Rate-2-15743239-download-15732639.topnsimilar_compare_v2&amp;dest=https%3A%2F%2Fdownload.csdn.net%2Fdownload%2Fweixin_42128988%2F15743239&amp;spm=1003.2020.3001.6616.2](https://download.csdn.net/download/weixin_42128988/15743239?utm_medium=distribute.pc_relevant_download.none-task-download-2~default~BlogCommendFromBaidu~Rate-2-15743239-download-15732639.topnsimilar_compare_v2&depth_1-utm_source=distribute.pc_relevant_download.none-task-download-2~default~BlogCommendFromBaidu~Rate-2-15743239-download-15732639.topnsimilar_compare_v2&dest=https%3A%2F%2Fdownload.csdn.net%2Fdownload%2Fweixin_42128988%2F15743239&spm=1003.2020.3001.6616.2)

## slackware

[http://www.slackware.com](http://www.slackware.com)
[http://ftp.slackware.com/pub/slackware-iso/](http://ftp.slackware.com/pub/slackware-iso/)
[https://slackware.nl/slackware-live/slackware64-15.0-live/](https://slackware.nl/slackware-live/slackware64-15.0-live/)
[https://slackware.nl/slackware/slackware-iso/slackware64-15.0-iso/](https://slackware.nl/slackware/slackware-iso/slackware64-15.0-iso/)
[https://slackware.nl/slackware/slackware-live/slackware64-15.0-live/](https://slackware.nl/slackware/slackware-live/slackware64-15.0-live/)
[https://slackware.nl/slackware/slackware64-current-iso/](https://slackware.nl/slackware/slackware64-current-iso/)
[https://mirrors.bfsu.edu.cn/slackware/](https://mirrors.bfsu.edu.cn/slackware/)
[https://mirrors.slackware.com/guidelines/](https://mirrors.slackware.com/guidelines/)
[https://download.liveslak.org](https://download.liveslak.org)
MD5SUM

```
e7abe1bd616b643e3ae519fe6e754ed1  slackware64-live-15.0.iso
f8418ef0ec2c0a205adf5dbc2f2a1971  slackware64-15.0-install-dvd.iso
0b8fd275dda97443cf48d2798fa86abe  slackware64-current-install-dvd.iso
cc0e6061264c11fdd5cf1c76c0460642  slackware64-current-mini-install.iso
```

## fedora

[https://fedoraproject.org/](https://fedoraproject.org/)
[https://download.fedoraproject.org/pub/fedora/linux/releases/37/Workstation/x86_64/iso/](https://download.fedoraproject.org/pub/fedora/linux/releases/37/Workstation/x86_64/iso/)
[https://mirror.sjtu.edu.cn/fedora/linux/releases](https://mirror.sjtu.edu.cn/fedora/linux/releases)
[https://fedoraproject.org/wiki/Fedora_Project_Wiki](https://fedoraproject.org/wiki/Fedora_Project_Wiki)

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

# Fedora-Everything-netinst-x86_64-37-1.7.iso: 697413632 bytes
SHA256 (Fedora-Everything-netinst-x86_64-37-1.7.iso) = 55812cc1668f66389d8f88182d71362b7d2b232e6e286ff707ca274102414864
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEErLXuToMcdLt8Fo0n9VrT+1MjVSoFAmNtVpwACgkQ9VrT+1Mj
VSo7vQ//eme7q6NwcQ4L3HLPlShBAmG/7BkbqdftF7gdMTLoH/UPC2odCiLFEPhP
VfxN0VKj6kwoWKkJ4CApmbP4cr3qrlX3+Yu1pm4mQYjBlQGJRhq2sJ7MrSZqpOoZ
mbjB60nJvQ1uE0uZRLYSfy8Ypd2vQwQEnOr8fKU6hRf3vqZRIPHTQeX+AF+Y+T54
mrLo+407JeVgKTn8mW3QEsUNK+r0Z4VeJZGG0qGwTHcl5SfrTcn4Zs715/4K1EDm
r0RNhrefJXib/PWKgxY20dT4CzhqC/h297CaG+xFgPQGmaLe+7RHmUWn3t52ByWC
6rU8TdUMYLhv1gdMFZKrh81yejL14j1ypII5+n7lVLzT4CltatQDlw9fjQcmjri7
a1u7bWv1F9DJ0oePuzgFpjhRh02wY8mMrdwlcqbHNkklqtr+FwkM4KKUbBz22Xuh
dv1ReXdv2cBRLiURmO1eGgFCU9l+h17x7eFvBDEw0WxJRV0L++Sc2kWT/UAolFJ0
Tnzpbh5g5rSg4fzA+d+2SZEi+oZn0++NS/IK0CaL8NFztzoQqMZy3X123EGs6uaD
3DgY4jJboGrCZ4dieswddGv06eZDGBmqXBl6hl128wQ6aZ638Up5JTJcpyxLQbWC
Pi7K+MuBqhMeXDdHWvf8Pjv6Pa4Cb210ljGiXCWKjvqH/A/IhCw=
=SJsQ
-----END PGP SIGNATURE-----
```

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

# Fedora-Workstation-Live-x86_64-37-1.7.iso: 2037372928 bytes
SHA256 (Fedora-Workstation-Live-x86_64-37-1.7.iso) = 9c69005baafdba6e4ff04c1cf4779121b7fc9aacab80b4633394576da336a515
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEErLXuToMcdLt8Fo0n9VrT+1MjVSoFAmNtV1wACgkQ9VrT+1Mj
VSrCDhAAmKe3GNPF3ZEgSMDMpPgWIDpLLIO0NCe0gvWY+RvdxkEs++7AIHxIM9bi
JvNDAYw7JEVHjYixbekM+SYM0z/Cgl3o6jzzehFOTJR36QG0VvROrjaVDm+Lt4wc
r+SfmzCuq2GM8FNU/jGngURhfAGqLUhvj4yyfieABYlNrHNrlDMP3b1uI3FWcpkt
woNrBNYA734b2PzfsrJRjkERprMbOlLgdnlZ8BFy7wRrBMtLFKSqRvcaIUmeUlla
6PYJH0e3w8xcLQrF/5Q2XxAAYXfPCY3oX/iNXl1SkEmj78SRZxHrh+ACQjikOOmv
B9DnYFIRRSDnh50DpYgJWvzYWH00B7t1MilqiYxGCSB4VjevKErP2D2Q3Zquqq1m
awq3o2G5yfTgEtpQuLSKmouSHpXwtv7Fc6FBbSk2I7CRqCQCn1mam1hmSQgZcLfu
umO1c+L3ha4k5cilcazcyU5BZwnMR1ekUGg7PEJHcg/vcX/bbcTljKSQ7ZzP4msN
fa0HiyWZSuU8VQPoq+GxOFMvFxHD9gta7Z5AaKjrxL5o/icKxXmN2puTdum8mkqY
0qO6EPhpP2Ej3q23EtS4cxuZtmhlNPX1e30yty/iHn6WbKT8aq2X5iqsJ8fCGy9A
2DykAHyzvJxpNhdVd8YFQsvN8WHql/xciG1LkXR6BkfmZXdR/q0=
=vuqx
-----END PGP SIGNATURE-----
```

## manjaro

[https://manjaro.org/download/](https://manjaro.org/download/)
SHA256SUM

```
e88cdb2d0077a9b94d64090f609021be685849bf0ea4981c36f99a352cd3bfa2  manjaro-gnome-21.3.7-220816-linux515.iso
8b23a62b0282598ba594695c94cdee302316501f67dd9e5692e2ef8e4c2ac7d4  manjaro-kde-21.3.7-220816-linux515.iso
d275f609aa7c0ee3337d6ab9f09d3dd6062aa2a248d9f9dcddc5e0cf30719506  manjaro-xfce-21.3.7-220816-linux515.iso

```

ref:
[https://www.zhihu.com/question/50326289/answers/updated](https://www.zhihu.com/question/50326289/answers/updated)

## endeavouros

[https://endeavouros.com](https://endeavouros.com)
[https://mirrors.tuna.tsinghua.edu.cn/endeavouros/iso/](https://mirrors.tuna.tsinghua.edu.cn/endeavouros/iso/)
[https://mirror.funami.tech/endeavouros/iso/](https://mirror.funami.tech/endeavouros/iso/)
sha512sum
`fb3a82d9d57bde47fc38bc34b3ca1caab5db4f01e25931a5b739e78f0a188e167660dcc729e578539dfb6216ec5a8793a4590761af0722e441ca32538d62c87a  EndeavourOS_Artemis_nova_22_9.iso`

To check the ISO file with the sha512
`sha512sum -c EndeavourOS_Artemis_nova_22_9.iso.sha512sum`

To verify the key

```
gpg --recv CDF595A1
gpg --verify EndeavourOS_Artemis_nova_22_9.iso.sig
```

## archlinux

[https://archlinux.org/](https://archlinux.org/)
[https://aur.archlinux.org/](https://aur.archlinux.org/)
[https://wiki.archlinux.org/title/Installation_guide](https://wiki.archlinux.org/title/Installation_guide)
[https://wiki.archlinux.org/title/Install_Arch_Linux_on_a_removable_medium](https://wiki.archlinux.org/title/Install_Arch_Linux_on_a_removable_medium)
[https://wiki.archlinux.org/title/Install_Arch_Linux_from_existing_Linux](https://wiki.archlinux.org/title/Install_Arch_Linux_from_existing_Linux)
[https://wiki.archlinux.org/title/USB_flash_installation_medium](https://wiki.archlinux.org/title/USB_flash_installation_medium)
[https://wiki.archlinux.org/title/Netboot](https://wiki.archlinux.org/title/Netboot)
[https://wiki.archlinux.org/title/Archiso](https://wiki.archlinux.org/title/Archiso)

```
# dd bs=4M if=path/to/archlinux-version-x86_64.iso of=/dev/sdx conv=fsync oflag=direct status=progress
```

[https://mirror.sjtu.edu.cn/archlinux/iso/latest/](https://mirror.sjtu.edu.cn/archlinux/iso/latest/)
[https://mirror.sjtu.edu.cn/archlinux/iso/latest/arch/x86_64/](https://mirror.sjtu.edu.cn/archlinux/iso/latest/arch/x86_64/)

```
df6749df55b02cec98e5a9177c7957acfb96fe14d04553b6e4714100a4824f68  archlinux-2022.11.01-x86_64.iso
df6749df55b02cec98e5a9177c7957acfb96fe14d04553b6e4714100a4824f68  archlinux-x86_64.iso
9ed511caca92fe3c86a8eb36b9bfbf79169ae1e295747443df292305af304408  archlinux-bootstrap-2022.11.01-x86_64.tar.gz
9ed511caca92fe3c86a8eb36b9bfbf79169ae1e295747443df292305af304408  archlinux-bootstrap-x86_64.tar.gz
```

chroot tips:

```
# mount --bind squashfs-root squashfs-root
# mount -t proc none squashfs-root/proc
# mount -t sysfs none squashfs-root/sys
# mount -o bind /dev squashfs-root/dev
# mount -o bind /dev/pts squashfs-root/dev/pts  ## important for pacman (for signature check)
# cp -L /etc/resolv.conf squashfs-root/etc  ## this is needed to use networking within the chroot
```

## gentoo

[https://www.gentoo.org/](https://www.gentoo.org/)
[https://wiki.gentoo.org/wiki/Main_Page](https://wiki.gentoo.org/wiki/Main_Page)
[https://www.gentoo.org/downloads/](https://www.gentoo.org/downloads/)
[https://gentoo.osuosl.org](https://gentoo.osuosl.org)
[https://gentoo.osuosl.org/releases/](https://gentoo.osuosl.org/releases/)
[https://mirrors.163.com/gentoo//releases/](https://mirrors.163.com/gentoo//releases/)

## freebsd

[https://www.freebsd.org](https://www.freebsd.org)
[https://docs.freebsd.org/doc/](https://docs.freebsd.org/doc/)
[https://download.freebsd.org/releases/amd64/amd64/ISO-IMAGES](https://download.freebsd.org/releases/amd64/amd64/ISO-IMAGES)
https://mirrors.163.com/freebsd/releases/ISO-IMAGES/
[http://ftp.kaist.ac.kr/FreeBSD/releases/amd64/amd64/ISO-IMAGES](http://ftp.kaist.ac.kr/FreeBSD/releases/amd64/amd64/ISO-IMAGES)

```
SHA256 (FreeBSD-13.1-RELEASE-amd64-bootonly.iso) = 02e77c57bd0a306e3fc92296b3640433a3bd7e4ba39d82db94dfd885f5bb1f78
SHA256 (FreeBSD-13.1-RELEASE-amd64-bootonly.iso.xz) = ffb6def0b167d25d4ee1c8eea292bbd3ac8cf877555f41251ac0d140cee108c0
SHA256 (FreeBSD-13.1-RELEASE-amd64-disc1.iso) = 697d81653fa246b921ddfcf1d15562c55249cc727b11fa3e47f470e2cf2b6a40
SHA256 (FreeBSD-13.1-RELEASE-amd64-disc1.iso.xz) = e18907b6ec09e14c2065049873d28bf78682821903074e0e602e07f29075d347
SHA256 (FreeBSD-13.1-RELEASE-amd64-dvd1.iso) = 5b29c2cd5a604ad24810c994027ec13c9efc53778a307831f6181dfdaf02939f
SHA256 (FreeBSD-13.1-RELEASE-amd64-dvd1.iso.xz) = 8b22dd325280c811725ca8178d8408d7a235161fbb1650b2a369b6e8acbaeaf8
SHA256 (FreeBSD-13.1-RELEASE-amd64-memstick.img) = f73ce6526ccd24dfe2e79740f6de1ad1a304c854bfcff03a4d5b0de35d69d4a0
SHA256 (FreeBSD-13.1-RELEASE-amd64-memstick.img.xz) = 1ad1c64546f27e7720690f7338be2314d0c3097549a3ee12e8d888388bf01a6f
SHA256 (FreeBSD-13.1-RELEASE-amd64-mini-memstick.img) = 348f6541f3b6cc914504c34d035c7ff085baad99298cf646504dcecd4c9913c0
SHA256 (FreeBSD-13.1-RELEASE-amd64-mini-memstick.img.xz) = 8f0df8762fae588c457ce48bc34f617aae8a66723254aa143acadcec93933b8f
```

## openbsd

[http://www.openbsd.org](http://www.openbsd.org)
[https://cdn.openbsd.org/pub/OpenBSD/7.2/amd64/](https://cdn.openbsd.org/pub/OpenBSD/7.2/amd64/)
[https://ftp.kaist.ac.kr/OpenBSD/7.2/amd64/](https://ftp.kaist.ac.kr/OpenBSD/7.2/amd64/)
[https://mirrors.aliyun.com/pub/OpenBSD/](https://mirrors.aliyun.com/pub/OpenBSD/)

install72.img

## netbsd

[http://www.netbsd.org](http://www.netbsd.org)
[https://cdn.netbsd.org/pub/NetBSD/NetBSD-9.3/images/](https://cdn.netbsd.org/pub/NetBSD/NetBSD-9.3/images/)
[http://www.netbsd.org/mirrors/](http://www.netbsd.org/mirrors/)
[https://ftp.kaist.ac.kr/NetBSD/images/](https://ftp.kaist.ac.kr/NetBSD/images/)
[https://mirrors.aliyun.com/netbsd/images](https://mirrors.aliyun.com/netbsd/images)
[https://cdn.netbsd.org/pub/NetBSD/NetBSD-9.3/images/NetBSD-9.3-amd64.iso](https://cdn.netbsd.org/pub/NetBSD/NetBSD-9.3/images/NetBSD-9.3-amd64.iso)
[https://cdn.netbsd.org/pub/NetBSD/NetBSD-9.3/images/NetBSD-9.3-amd64-install.img.gz](https://cdn.netbsd.org/pub/NetBSD/NetBSD-9.3/images/NetBSD-9.3-amd64-install.img.gz)

---

# makedeb

[https://www.makedeb.org/](https://www.makedeb.org/)
[https://github.com/makedeb/makedeb](https://github.com/makedeb/makedeb)
[https://proget.makedeb.org/feeds/makedeb/main/makedeb%3Aall/16.0.0-stable](https://proget.makedeb.org/feeds/makedeb/main/makedeb%3Aall/16.0.0-stable)
[https://proget.makedeb.org/](https://proget.makedeb.org/)
[https://docs.makedeb.org/](https://docs.makedeb.org/)

## APT Repository (better way)

The primary method for installation of makedeb is through the use of makedeb’s APT repository.

```
wget -qO - 'https://proget.makedeb.org/debian-feeds/makedeb.pub' | gpg --dearmor | sudo tee /usr/share/keyrings/makedeb-archive-keyring.gpg 1> /dev/null
echo 'deb [signed-by=/usr/share/keyrings/makedeb-archive-keyring.gpg arch=all] https://proget.makedeb.org/ makedeb main' | sudo tee /etc/apt/sources.list.d/makedeb.list
sudo apt update
sudo apt install makedeb
```

```
sudo apt install makedeb-beta
sudo apt install makedeb-alpha
```

```
The following additional packages will be installed:
  binutils binutils-common binutils-x86-64-linux-gnu build-essential curl dpkg-dev fakeroot g++ g++-11 gawk gcc gcc-11 gettext
  libalgorithm-diff-perl libalgorithm-diff-xs-perl libalgorithm-merge-perl libarchive-tools libasan6 libatomic1 libbinutils libc-dev-bin
  libc-devtools libc6-dev libcc1-0 libcrypt-dev libctf-nobfd0 libctf0 libfakeroot libgcc-11-dev libitm1 liblsan0 libnsl-dev libquadmath0
  libsigsegv2 libstdc++-11-dev libtirpc-dev libtsan0 libubsan1 linux-libc-dev lto-disabled-list make manpages-dev rpcsvc-proto
Suggested packages:
  binutils-doc debian-keyring g++-multilib g++-11-multilib gcc-11-doc gawk-doc gcc-multilib autoconf automake libtool flex bison gcc-doc
  gcc-11-multilib gcc-11-locales gettext-doc autopoint libasprintf-dev libgettextpo-dev glibc-doc libstdc++-11-doc make-doc
```

## interactive usage

install makedeb is via the official installation script.

```
bash -ci "$(wget -qO - 'https://shlink.makedeb.org/install')"
```

## Noninteractive usage

simply omit the `-i` argument to `bash`, and pass in the `MAKEDEB_RELEASE` environment variable, set to a value of `makedeb`, `makedeb-beta`, or `makedeb-alpha`:

```
# Set the makedeb release you want.
export MAKEDEB_RELEASE='makedeb'

# Run the install script. Note that it's `bash -c` and not `bash -ci` now.
bash -c "$(wget -qO - 'https://shlink.makedeb.org/install')"
```

## Docker Images

```
proget.makedeb.org/docker/makedeb/makedeb
proget.makedeb.org/docker/makedeb/makedeb-beta
proget.makedeb.org/docker/makedeb/makedeb-alpha
```

Image tags

append the image name with tags

```
debian-buster
debian-bullseye
debian-latest
ubuntu-bionic
ubuntu-focal
ubuntu-jammy
ubuntu-rolling
ubuntu-latest
```

For example

```
proget.makedeb.org/docker/makedeb/makedeb:ubuntu-jammy
```

PKGBUILD Syntax
[https://wiki.archlinux.org/title/PKGBUILD](https://wiki.archlinux.org/title/PKGBUILD)
For more information, run man PKGBUILD on a machine where makedeb is installed. An example PKGBUILD that showcases common options is shown below.

```
# Maintainer: Your Name <foobar@example.com>
pkgname=NAME
pkgver=VERSION
pkgrel=1
pkgdesc=''
arch=()
depends=()
focal_depends=()
makedepends=()
makedepends_x86_64=()
checkdepends=()
optdepends=()
focal_optdepends_x86_64=()
provides=()
conflicts=()
replaces=()
preinst=''
postinst=''
prerm=''
postrm=''
backup=()
options=()
license=()
url=''

source=()
sha256sums=()
noextract=()

prepare() {
    cd "${pkgname}-${pkgver}/"
    git submodule init
}

build() {
    cd "${pkgname}-${pkgver}/"
    make
}

package() {
    cd "${pkgname}-${pkgver}/"
    make DESTDIR="${pkgdir}/" install
}

# vim: set sw=4 expandtab:
```

---

# set up the APT repository

For example:

```
curl -q 'https://proget.makedeb.org/debian-feeds/prebuilt-mpr.pub' | gpg --dearmor | sudo tee /usr/share/keyrings/prebuilt-mpr-archive-keyring.gpg 1> /dev/null
echo "deb [signed-by=/usr/share/keyrings/prebuilt-mpr-archive-keyring.gpg] https://proget.makedeb.org prebuilt-mpr $(lsb_release -cs)" | sudo tee /etc/apt/sources.list.d/prebuilt-mpr.list
sudo apt update
```

---

# git

```
$ sudo apt-get install git gitk git-doc git-svn subversion xxdiff
```

```
The following additional packages will be installed:
  git-man liberror-perl libtk8.6 tk tk8.6 libapr1 libaprutil1 libserf-1-1 libsvn-perl
  libsvn1 libterm-readkey-perl libutf8proc2 libyaml-libyaml-perl libyaml-perl
Suggested packages:
  git-daemon-run | git-daemon-sysvinit git-email git-gui gitweb git-cvs
  git-mediawiki  libyaml-shell-perl db5.3-util libapache2-mod-svn subversion-tools
```

```
$ sudo apt-get install git-gui
```

vscode安装插件 `Git Graph`

---

# 7z

```
$ sudo apt install p7zip p7zip-full p7zip-rar
$ sudo apt install rar p7zip p7zip-full p7zip-rar unace unrar zip unzip p7zip-full p7zip-rar
```

```
$ sudo apt install sharutils uudeview mpack jlha-utils arj cabextract file-roller xz-utils
```

```
file-roller is already the newest version (3.42.0-1).
xz-utils is already the newest version (5.2.5-2ubuntu1).
cabextract is already the newest version (1.9-3).
The following additional packages will be installed:
  libjlha-java libuu0
Suggested packages:
  default-jre libjlha-java-doc-ja default-mta | mail-transport-agent inews sharutils-doc
  bsd-mailx | mailx xdeview
```

$ cat /etc/rarreg.key

```
RAR registration data
Andreas Zhang
Unlimited Company License
UID=95d88025e605e7f69a7d
64122122509a7d8fe151cac66f48da9a7eba775d78b0928b03d738
409ffd2cdd69047f79b560fce6cb5ffde62890079861be57638717
7131ced835ed65cc743d9777f2ea71a8e32c7e593cf66794343565
b41bcf56929486b8bcdac33d50ecf7739960cf9a562353a49af6f9
69d97d19b1c2fb9c0a37971376ad4e3d6a18705e8f9b541bdffccf
bfcd3a6fe09f73b6f6ead20f2606d79374df1160d8db0a1f603850
4e86565158c437a7ff6ea0b2a21104b968ad6ddc336e0342949312
```

把 rarreg.key 复制到你的 home 目录，或：/etc， /usr/lib， /usr/local/lib， /usr/local/etc

没有放到~, 就不需要保护了（我放到/etc）

```
//$ sudo chattr +i rarreg.key
$ sudo chattr -i rarreg.key
$ lsattr -a
```

---

# chrpath

Tool to edit the rpath in ELF binaries

```
$ sudo apt install chrpath
```

---

# foxitreader

build deb by makedeb, then install deb
`sudo dpkg -i foxitreader_2.4.5.0727-jammy_amd64.deb`

`evince` and `xreader` are not as good as foxitreader

# locate

```
$ sudo apt install mlocate plocate
$ sudo updatedb
```

```
The following NEW packages will be installed:
  liburing2 mlocate plocate

update-alternatives: using /usr/bin/plocate to provide /usr/bin/locate (locate) in auto mode
  
/etc/systemd/system/timers.target.wants/plocate-updatedb.timer → /lib/systemd/system/plocate-updatedb.timer
```

---

# privoxy etc.

```
sudo apt install privoxy
```

```
The following additional packages will be installed:
  doc-base libmbedtls14 libmbedx509-1 libuuid-perl libyaml-tiny-perl
```

```
sudo systemctl start privoxy.service
sudo systemctl enable privoxy.service
Created symlink /etc/systemd/system/multi-user.target.wants/privoxy.service → /usr/lib/systemd/system/privoxy.service.
```

配置

```
sudo gedit /etc/privoxy/config
```

```
...
#listen-address  localhost:8118
listen-address  127.0.0.1:8118
...
#forward-socks5 / 127.0.0.1:1081 .
forward-socks5 / 127.0.0.1:10808 .
...
```

```
sudo systemctl restart privoxy.service
```

## 如果出错

```
sudo apt install --reinstall privoxy
```

## 测试 privoxy

### 测试1

```
aria2c --all-proxy='http://127.0.0.1:8118' -D
```

### 测试2

```
export https_proxy="127.0.0.1:8118"
export http_proxy="127.0.0.1:8118"

[ 上面两句可以添加到类似 /etc/profile 的地方去 ]

curl www.google.com

apt yay 什么的就可以加速了
```

---

# shadowsocks

[https://supporthost.in/how-to-install-shadowsocks-on-ubuntu/](https://supporthost.in/how-to-install-shadowsocks-on-ubuntu/)
[https://tutorialforlinux.com/2022/05/31/how-to-install-shadowsocks-server-on-ubuntu-22-04/3/](https://tutorialforlinux.com/2022/05/31/how-to-install-shadowsocks-server-on-ubuntu-22-04/3/)

```
sudo apt install shadowsocks-libev
```

```
The following additional packages will be installed:
  libbloom1 libc-ares2 libcork16 libcorkipset1 libev4 libjsonparser1.1
  libmbedcrypto7
Suggested packages:
  haveged kcptun simple-obfs
```

```
sudo systemctl start shadowsocks-libev
sudo systemctl enable shadowsocks-libev
Created symlink /etc/systemd/system/multi-user.target.wants/shadowsocks-libev.se
rvice → /lib/systemd/system/shadowsocks-libev.service.
//sudo systemctl stop shadowsocks-libev
```

配置

```
sudo gedit /etc/shadowsocks-libev/config.json
```

set it like

```
{
"server":"0.0.0.0",
"server_port":8388,
"local_port":1080,
"password":"[PASSWORD]",
"timeout":600,
"method":"aes-128-cfb"
}
```

Allow the port in the server firewall.

```
ufw allow proto tcp to 0.0.0.0/0 port 8388 comment "Shadowsocks".
```

```
sudo systemctl restart shadowsocks-libev
```

---

# proxychains

proxychains-ng==proxychains4，其实安装

```
sudo apt install proxychains-ng libproxychains4
sudo apt purge proxychains4 libproxychains4
sudo apt install proxychains libproxychains3
sudo apt purge proxychains libproxychains3
```

```
Note, selecting 'proxychains4' instead of 'proxychains-ng'
The following NEW packages will be installed:
  libproxychains4 proxychains4
```

配置

```
sudo gedit /etc/proxychains.conf    （proxychains and proxychains4）
or
sudo gedit /etc/proxychains4.conf  （proxychains4）
```

```
[ProxyList]
# add proxy here ...
# meanwile
# defaults set to "tor"
#socks4 	127.0.0.1 9050    # comment this line
# set to "SS"
#socks5 	127.0.0.1 1081
# set to "v2ray"
socks5 	127.0.0.1 10808
```

## 测试

```
proxychains curl www.google.com
```

```
export PROXY_DNS_SERVER=8.8.8.8
PROXYCHAINS_SOCKS5=10808 proxychains4 -f /etc/proxychains.conf curl www.google.com
proxychains curl www.google.com
```

---

# net-tools

```
sudo apt install net-tools
```

---

# devmem2

```
sudo apt install devmem2
```

---

# iptux

```
sudo apt install iptux
```

```
The following additional packages will be installed:
  libgflags2.2 libgoogle-glog0v5 libjsoncpp25
```

---

# gparted

```
sudo apt install gparted gparted-common
```

```
Suggested packages:
  dmraid gpart jfsutils kpartx mtools reiser4progs reiserfsprogs udftools
  xfsprogs exfatprogs
```

```
$ sudo apt install gparted dmraid gpart jfsutils kpartx reiser4progs reiserfsprogs udftools xfsprogs dvd+rw-tools udfclient xfsdump attr quota dosfstools mtools
```

```
The following additional packages will be installed:
  growisofs kpartx-boot libdmraid1.0.0.rc16
Suggested packages:
  cdrskin libnet-ldap-perl rpcbind default-mta | mail-transport-agent floppyd
```

---

# ssh

```
cd ~/.ssh/
```

复制私钥和公钥，这里只贴公钥

```
$ cat id_rsa.pub 
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC2i/Lu18LrmuAFTsiATM6DPbmqfhhZ2hreUSw0t9I6qGjAxyfUY0ecNW5ZOo2fUORFUSDBpqP6fkWyNxFfkq/hPVq0EYsNIIzrCKL1ZqPqfXqcbgkRpvU0R0+rWTT6gmdjwcPo8SQnJ6bQ9PQFDVh/H4f3HAG9AzJqkOy9OcTS3qbVTpK3TWlu96NKpfifpIzyQNi1rA4Q/0JSCPTKogRt8vateV4pV2lC110yvVHy8NsYaNPoFUYIIgyIlG44Gr7DuqtqrJOVxdHJxn0TtGjtBprQVaQEhRDNBYCJIdSP1MZZOxMFMokeQ2Lf/6hOV/Rpp1kEVdvaisQmO1S2uNKX denglitsch@gmail.com
```

---

# git config 初步配置

```
git config --global user.name "Andreas Zhang"
git config --global user.email denglitsch@gmail.com
git config --global core.editor "vim"
git config --list
```

```
user.name=Andreas Zhang
user.email=denglitsch@gmail.com
core.editor=vim
```

```
git config --list --show-origin
```

```
file:/home/andy/.gitconfig      user.name=Andreas Zhang
file:/home/andy/.gitconfig      user.email=denglitsch@gmail.com
file:/home/andy/.gitconfig      core.editor=vim
file:.git/config        core.repositoryformatversion=0
file:.git/config        core.filemode=true
file:.git/config        core.bare=false
file:.git/config        core.logallrefupdates=true
file:.git/config        remote.origin.url=git@github.com:yxgi5/my_os_log.git
file:.git/config        remote.origin.fetch=+refs/heads/*:refs/remotes/origin/*
file:.git/config        branch.master.remote=origin
file:.git/config        branch.master.merge=refs/heads/master
file:.git/config        pull.rebase=false
```

`$ cat ~/.gitconfig`

```
[user]
	name = Andreas Zhang
	email = denglitsch@gmail.com
[core]
	editor = vim
```

## The remote end hung up unexpectedly 解决方案

```
git config --global http.postBuffer 1048576000
git config --global http.lowSpeedLimit 0
git config --global http.lowSpeedTime 999999
```

## pull一律使用快进合并

```
git config pull.rebase false  # merge
git config pull.rebase true   # rebase
git config pull.ff only       # fast-forward only
```

全局配置

```
git config --global pull.ff only
```

特别指定

```
gut pull --rebase     # 对团队不安全
gut pull --no-rebase  # 合并
gut pull --ff-only    # 快进
```

## merge 一律用非快进

```
git merge --no-ff   # 非快进，保留被合并分支的记录，无分支和`git merge --ff`一样
git merge --ff      # 快进，不保留被合并分支的记录，无分支和`git merge --no-ff`一样
// git rebase       # 尽量不要用rebase
```

## git add 的几种参数区别

```
git add -A 保存所有的修改
git add . 保存新的添加和修改，但是不包括删除
git add -u 保存修改和删除，但是不包括新建文件
```

---

# meld / xxdiff

```
sudo apt install meld xxdiff xxdiff-scripts
```

```
The following additional packages will be installed:
  gir1.2-gtksource-3.0 libgtksourceview-3.0-1 libgtksourceview-3.0-common
```

---

# tweaks

```
sudo apt install gnome-tweaks
```

```
Suggested packages:
  gnome-shell-extension-prefs | gnome-shell-extension-manager
```

---

# dconf-tools

```
$ sudo apt install dconf-editor
$ dconf-editor
```

添加gedit的encodings

```
依次点开->org->gnome->gedit->preferences->encodings
改成
['UTF-8', 'GB18030', 'GB2312', 'GBK', 'BIG5', 'CURRENT', 'ISO-8859-15', 'UTF-16']
```

nautilus显示绝对路径

```
Then navigate to 
org > gnome > nautilus > preferences
and check always-use-location-entry.
```

or
`dconf write /org/gnome/nautilus/preferences/always-use-location-entry true`

---

# gedit for mint-c

```
$ sudo apt install dconf-editor gedit gedit-plugins
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  gedit-common gedit-plugin-bookmarks gedit-plugin-bracket-completion
  gedit-plugin-character-map gedit-plugin-code-comment
  gedit-plugin-color-picker gedit-plugin-color-schemer gedit-plugin-commander
  gedit-plugin-draw-spaces gedit-plugin-find-in-files gedit-plugin-git
  gedit-plugin-join-lines gedit-plugin-multi-edit gedit-plugin-session-saver
  gedit-plugin-smart-spaces gedit-plugin-synctex gedit-plugin-terminal
  gedit-plugin-text-size gedit-plugin-translate gedit-plugin-word-completion
  gedit-plugins-common gir1.2-ggit-1.0 gir1.2-gucharmap-2.90 libgit2-1.1
  libgit2-glib-1.0-0 libhttp-parser2.9 libssh2-1

```

---

# aria2 etc.

```
sudo apt install curl wget aria2 libaria2-0 libssh2-1
```

---

# run 32-bit programs

```
$ dpkg-architecture -l
$ dpkg --print-foreign-architectures
i386
$ dpkg --print-architecture
amd64
$ sudo apt-get install libc6:i386 libncurses5:i386 libstdc++6:i386
```

```
The following additional packages will be installed:
  gcc-12-base:i386 krb5-locales libcom-err2:i386 libcrypt1:i386 libgcc-s1:i386
  libgpm2:i386 libgssapi-krb5-2:i386 libidn2-0:i386 libk5crypto3:i386
  libkeyutils1:i386 libkrb5-3:i386 libkrb5support0:i386 libnsl2:i386
  libnss-nis:i386 libnss-nisplus:i386 libssl3:i386 libtinfo5:i386
  libtirpc3:i386 libunistring2:i386
Suggested packages:
  glibc-doc:i386 locales:i386 gpm:i386 krb5-doc:i386 krb5-user:i386
```

```
$ sudo aptitude search multiarch
p   binutils-multiarch                                                 - Binary utilities that support multi-arch targets                           
p   binutils-multiarch:i386                                            - Binary utilities that support multi-arch targets                           
p   binutils-multiarch-dbg                                             - Binary utilities that support multi-arch targets (debug symbols)           
p   binutils-multiarch-dbg:i386                                        - Binary utilities that support multi-arch targets (debug symbols)           
p   binutils-multiarch-dev                                             - GNU binary utilities that support multi-arch targets (BFD development files) 
p   binutils-multiarch-dev:i386                                        - GNU binary utilities that support multi-arch targets (BFD development files) 
p   gdb-multiarch                                                      - GNU Debugger (with support for multiple architectures)                     
p   gdb-multiarch:i386                                                 - GNU Debugger (with support for multiple architectures)  
```

```
$ sudo apt install g++-multilib gcc-multilib binutils-multiarch binutils-multiarch-dev gdb-multiarch

The following additional packages will be installed:
  binutils-dev g++-11-multilib gcc-11-multilib lib32asan6 lib32atomic1
  lib32gcc-11-dev lib32gcc-s1 lib32gomp1 lib32itm1 lib32quadmath0
  lib32stdc++-11-dev lib32stdc++6 lib32ubsan1 libc6-dev-i386 libc6-dev-x32
  libc6-i386 libc6-x32 libx32asan6 libx32atomic1 libx32gcc-11-dev libx32gcc-s1
  libx32gomp1 libx32itm1 libx32quadmath0 libx32stdc++-11-dev libx32stdc++6
  libx32ubsan1
Suggested packages:
  lib32stdc++6-11-dbg libx32stdc++6-11-dbg

```

---

# sunloginclient

`$ sudo dpkg -i sunloginclient-11.0.0.36662-amd64.deb`
garbage! not as good as anydesk.

```
sudo dpkg -i SunloginClient_11.0.1.44968_amd64.deb
/etc/systemd/system/multi-user.target.wants/runsunloginclient.service → /etc/systemd/system/runsunloginclient.service
```

---

# SunloginRemote

```
$ ./SunloginRemote 
bash: ./SunloginRemote: No such file or directory
andy@andy-usbstick:~/Downloads/sunlogin_remote_linux$ file SunloginRemote 
SunloginRemote: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.2, for GNU/Linux 2.6.15, BuildID[sha1]=b72efebe1ac65c1c169a5e1b0eb777cf6ab60bbb, not stripped
andy@andy-usbstick:~/Downloads/sunlogin_remote_linux$ ldd ./SunloginRemote 
	not a dynamic executable
```

```
$ dpkg --print-foreign-architectures
i386
$ dpkg --print-architecture
amd64
$ sudo apt-get install libc6:i386 libncurses5:i386 libstdc++6:i386
```

```
The following additional packages will be installed:
  gcc-12-base:i386 krb5-locales libcom-err2:i386 libcrypt1:i386 libgcc-s1:i386
  libgpm2:i386 libgssapi-krb5-2:i386 libidn2-0:i386 libk5crypto3:i386
  libkeyutils1:i386 libkrb5-3:i386 libkrb5support0:i386 libnsl2:i386
  libnss-nis:i386 libnss-nisplus:i386 libssl3:i386 libtinfo5:i386
  libtirpc3:i386 libunistring2:i386
Suggested packages:
  glibc-doc:i386 locales:i386 gpm:i386 krb5-doc:i386 krb5-user:i386
```

## `cannot open shared object file`处理报错

```
$ ./SunloginRemote 
./SunloginRemote: error while loading shared libraries: libuuid.so.1: cannot open shared object file: No such file or directory
```

```
$ sudo updatedb
$ locate libuuid.so.1
/usr/lib/x86_64-linux-gnu/libuuid.so.1
/usr/lib/x86_64-linux-gnu/libuuid.so.1.3.0
```

```
  libuuid.so.1
  libGL.so.1
  libpulse.so.0
  libgobject-2.0.so.0
```

查文件归属哪个deb包

```
$ sudo dpkg -S /usr/lib/x86_64-linux-gnu/libuuid.so.1
libuuid1:amd64: /usr/lib/x86_64-linux-gnu/libuuid.so.1
```

最后得到

```
sudo apt install libuuid1:i386 libgl1:i386 libpulse0:i386 libglib2.0-0:i386
```

```
The following additional packages will be installed:
  libatomic1:i386 libbsd0:i386 libdrm-amdgpu1:i386 libdrm-nouveau2:i386 libdrm-radeon1:i386 libdrm2:i386 libedit2:i386 libelf1:i386 libexpat1:i386
  libffi8:i386 libgl1-mesa-dri:i386 libglapi-mesa:i386 libglvnd0:i386 libglx-mesa0:i386 libglx0:i386 libicu70:i386 libllvm13:i386 liblzma5:i386
  libmd0:i386 libsensors5:i386 libtinfo6:i386 libvulkan1:i386 libwayland-client0:i386 libx11-6:i386 libx11-xcb1:i386 libxau6:i386 libxcb-dri2-0:i386
  libxcb-dri3-0:i386 libxcb-glx0:i386 libxcb-present0:i386 libxcb-randr0:i386 libxcb-shm0:i386 libxcb-sync1:i386 libxcb-xfixes0:i386 libxcb1:i386
  libxdmcp6:i386 libxext6:i386 libxfixes3:i386 libxml2:i386 libxshmfence1:i386 libxxf86vm1:i386 libzstd1:i386 mesa-vulkan-drivers:i386 zlib1g:i386 libapparmor1:i386 libasyncns0:i386 libcap2:i386 libdbus-1-3:i386 libflac8:i386 libgcrypt20:i386 libgpg-error-l10n libgpg-error0:i386 libblkid1:i386 libmount1:i386 libpcre2-8-0:i386 libpcre3:i386 libselinux1:i386
Suggested packages:
  lm-sensors:i386 rng-tools:i386 opus-tools:i386 cryptsetup-bin:i386
Recommended packages:
  libgl1-amber-dri:i386
```

## xcb报错处理

```
$ ./SunloginRemote 
This application failed to start because it could not find or load the Qt platform plugin "xcb".

Available platform plugins are: eglfs, linuxfb, minimal, minimalegl, offscreen, xcb.

Reinstalling the application may fix this problem.
```

```
$ export QT_DEBUG_PLUGINS=1
$ ./SunloginRemote 
```

```
: "Cannot load library sunlogin_remote_linux/plugins/platforms/libqxcb.so: (libXi.so.6: cannot open shared object file: No such file or directory)" 
This application failed to start because it could not find or load the Qt platform plugin "xcb".

Available platform plugins are: eglfs, linuxfb, minimal, minimalegl, offscreen, xcb.

Reinstalling the application may fix this problem.
```

`ldd sunlogin_remote_linux/plugins/platforms/libqxcb.so`

`ldd libqxcb.so | grep "not found"`

```
  libXi.so.6 => not found
	libXrender.so.1 => not found
	libQt5DBus.so.5 => not found
	libQt5Gui.so.5 => not found
	libQt5Core.so.5 => not found
```

在 `/usr/lib/x86_64-linux-gnu/`都有，那么是architecture不对。

这样查文件归属哪个deb包

```
$ sudo dpkg -S /usr/lib/x86_64-linux-gnu/libgobject-2.0.so.0
libglib2.0-0:amd64: /usr/lib/x86_64-linux-gnu/libgobject-2.0.so.0
```

最后得到

```
sudo apt install libxi6:i386 libsm6:i386 libfontconfig1:i386 libqt5dbus5:i386 libqt5gui5:i386 libqt5core5a:i386 libxrender1:i386
```

```
The following additional packages will be installed:
  libxi6:i386 libice6:i386 libbrotli1:i386 libfreetype6:i386 libpng16-16:i386 libatk-bridge2.0-0:i386 libatk1.0-0:i386 libatspi2.0-0:i386 libavahi-client3:i386 libavahi-common-data:i386 libavahi-common3:i386
  libcairo-gobject2:i386 libcairo2:i386 libcolord2:i386 libcups2:i386 libdatrie1:i386 libdeflate0:i386 libdouble-conversion3:i386 libegl-mesa0:i386
  libegl1:i386 libepoxy0:i386 libevdev2:i386 libfribidi0:i386 libgbm1:i386 libgdk-pixbuf-2.0-0:i386 libgmp10:i386 libgnutls30:i386
  libgraphite2-3:i386 libgtk-3-0:i386 libgudev-1.0-0:i386 libharfbuzz0b:i386 libhogweed6:i386 libinput10:i386 libjbig0:i386 libjpeg-turbo8:i386
  libjpeg8:i386 liblcms2-2:i386 libmd4c0:i386 libmtdev1:i386 libnettle8:i386 libp11-kit0:i386 libpango-1.0-0:i386 libpangocairo-1.0-0:i386
  libpangoft2-1.0-0:i386 libpcre2-16-0:i386 libpixman-1-0:i386 libqt5network5:i386 libqt5svg5:i386 libqt5widgets5:i386 librsvg2-2:i386
  librsvg2-common:i386 libtasn1-6:i386 libthai0:i386 libtiff5:i386 libudev1:i386 libwacom9:i386 libwayland-cursor0:i386 libwayland-egl1:i386
  libwayland-server0:i386 libwebp7:i386 libxcb-icccm4:i386 libxcb-image0:i386 libxcb-keysyms1:i386 libxcb-render-util0:i386 libxcb-render0:i386
  libxcb-shape0:i386 libxcb-util1:i386 libxcb-xinerama0:i386 libxcb-xinput0:i386 libxcb-xkb1:i386 libxcomposite1:i386 libxcursor1:i386
  libxdamage1:i386 libxinerama1:i386 libxkbcommon-x11-0:i386 libxkbcommon0:i386 libxrandr2:i386 qt5-gtk-platformtheme:i386
Suggested packages:
  gnutls-bin:i386 gvfs:i386 qt5-image-formats-plugins:i386 qtwayland5:i386 librsvg2-bin:i386
Recommended packages:
  qttranslations5-l10n:i386
```

一条解决上面两个
`$ sudo apt install libglib2.0-0:i386 libuuid1:i386 libgl1:i386 libpulse0:i386 libglib2.0-0:i386 libxi6:i386 libsm6:i386 libfontconfig1:i386 libqt5dbus5:i386 libqt5gui5:i386 libqt5core5a:i386 libxrender1:i386`

再运行一下

`sudo apt install libglib2.0-0 libuuid1 libgl1 libpulse0 libglib2.0-0 libxi6 libsm6 libfontconfig1 libqt5dbus5 libqt5gui5 libqt5core5a libxrender1 --reinstall`

---

# 备选的桌面环境

```
aptitude search desktop
sudo apt install lubuntu-desktop
sudo apt install xubuntu-desktop
sudo apt install kubuntu-desktop
sudo apt install kde-plasma-desktop
sudo apt install desktop-base
sudo apt install budgie-desktop
sudo apt install cinnamon-desktop-environment
sudo apt install ubuntukylin-desktop
sudo apt install ubuntustudio-desktop
sudo apt install ubuntu-desktop  [default]
sudo apt install ubuntu-gnome-desktop
sudo apt install ubuntu-mate-desktop
sudo apt install ubuntu-unity-desktop
sudo apt install ubuntu-budgie-desktop
aptitude search lxde
sudo apt install lxde 
sudo apt install task-lxde-desktop
aptitude search openbox
```

---

# mint-meta-cinnamon

```
$ sudo gedit /etc/apt/sources.list
deb http://archive.canonical.com/ubuntu jammy partner
deb https://mirrors.ustc.edu.cn/linuxmint vanessa main upstream import backport

$ sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys A6616109451BBBF2

$ sudo apt update
$ sudo apt upgrade
$ sudo apt install mint-meta-cinnamon
The following additional packages will be installed:
  app-install-data bulky catdoc cinnamon cinnamon-common cinnamon-control-center cinnamon-control-center-data cinnamon-desktop-data cinnamon-l10n
  cinnamon-screensaver cinnamon-session cinnamon-session-common cinnamon-settings-daemon cjs exfatprogs exif flatpak folder-color-switcher
  gir1.2-appstream-1.0 gir1.2-appstreamglib-1.0 gir1.2-camel-1.2 gir1.2-caribou-1.0 gir1.2-cinnamondesktop-3.0 gir1.2-clutter-1.0 gir1.2-cmenu-3.0
  gir1.2-cogl-1.0 gir1.2-coglpango-1.0 gir1.2-cvc-1.0 gir1.2-ecal-2.0 gir1.2-edataserver-1.2 gir1.2-flatpak-1.0 gir1.2-gdata-0.0 gir1.2-gkbd-3.0
  gir1.2-gsound-1.0 gir1.2-gtkclutter-1.0 gir1.2-ical-3.0 gir1.2-keybinder-3.0 gir1.2-matemenu-2.0 gir1.2-meta-muffin-0.0 gir1.2-nemo-3.0
  gir1.2-timezonemap-1.0 gir1.2-xapp-1.0 gir1.2-xkl-1.0 html2text hwdata id3 inxi iso-flag-png libappstream-glib8 libcaribou-common libcaribou0
  libcinnamon-control-center1 libcinnamon-desktop4 libcinnamon-menu-3-0 libcjs0f libcscreensaver0 libcvc0 libept1.6.0 libflatpak0 libfuse2
  libgail-3-0 libgsf-bin libgtk-layer-shell0 libjs-mathjax libkeybinder-3.0-0 libmalcontent-0-0 libmate-desktop-2-17 libmate-menu2
  libmate-panel-applet-4-1 libmateweather-common libmateweather1 libmetacity3 libmozjs-78-0 libmuffin0 libnemo-extension1 libostree-1-1
  librda-common librda0 libtimezonemap-data libtimezonemap1 libxapp1 libxdo3 libxpresent1 libxreaderdocument3 libxreaderview3 linuxmint-keyring
  lm-sensors mate-desktop mate-desktop-common mate-menus mate-panel mate-panel-common mate-polkit mate-polkit-common mate-user-guide mesa-utils
  mesa-utils-bin metacity metacity-common mint-artwork mint-backgrounds-vanessa mint-common mint-info-xfce mint-meta-core mint-mirrors mint-themes
  mint-translations mint-upgrade-info mint-x-icons mint-y-icons mintbackup mintdrivers mintinstall mintreport mintsources mintstick mintsystem
  mintupdate mintwelcome muffin-common nemo nemo-data nemo-fileroller odt2txt policykit-1-gnome python-tinycss2-common python3-bs4 python3-configobj
  python3-html5lib python3-lxml python3-magic python3-pam python3-parted python3-psutil python3-pycurl python3-pyinotify python3-setproctitle
  python3-soupsieve python3-tinycss2 python3-webencodings python3-xapp python3-xlib python3-xlrd streamer synaptic thingy tree ubuntu-dbgsym-keyring
  ubuntu-system-adjustments untex xapps-common xawtv-plugins xreader xreader-common
Suggested packages:
  cinnamon-doc gnome-screenshot malcontent-gui libxml-dumper-perl imagemagick libjs-mathjax-doc fancontrol read-edid i2c-tools
  mate-desktop-environment python-configobj-doc python3-genshi python-lxml-doc python3-pam-dbg python-parted-doc python-psutil-doc
  libcurl4-gnutls-dev python-pycurl-doc python-pyinotify-doc python-tinycss2-doc xawtv dwww menu deborphan apt-xapian-index tasksel
```

```
dpkg: error processing archive /tmp/apt-dpkg-install-fUtn6G/126-mintupdate_5.8.8_all.deb (--unpack):
 trying to overwrite '/usr/share/icons/hicolor/16x16/apps/software-properties.png', which is also in package software-properties-gtk 0.99.22.3
```

强制覆盖

```
$ sudo apt-get -o Dpkg::Options::="--force-overwrite" install -f
Unpacking mintupdate (5.8.8) ...
dpkg: warning: overriding problem because --force enabled:
dpkg: warning: trying to overwrite '/usr/share/icons/hicolor/16x16/apps/software-properties.png', which is also in package software-properties-gtk 0.99.22.3

```

强制更新配置文件

```
$ sudo apt-get -o DPkg::options::=--force-confmiss --reinstall install linuxmint-keyring
```

## ubuntu orig

```
$ cat /etc/apt/sources.list
#deb cdrom:[Ubuntu 22.04.1 LTS _Jammy Jellyfish_ - Release amd64 (20220809.1)]/ jammy main restricted

# See http://help.ubuntu.com/community/UpgradeNotes for how to upgrade to
# newer versions of the distribution.
deb http://cn.archive.ubuntu.com/ubuntu/ jammy main restricted
# deb-src http://cn.archive.ubuntu.com/ubuntu/ jammy main restricted

## Major bug fix updates produced after the final release of the
## distribution.
deb http://cn.archive.ubuntu.com/ubuntu/ jammy-updates main restricted
# deb-src http://cn.archive.ubuntu.com/ubuntu/ jammy-updates main restricted

## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu
## team. Also, please note that software in universe WILL NOT receive any
## review or updates from the Ubuntu security team.
deb http://cn.archive.ubuntu.com/ubuntu/ jammy universe
# deb-src http://cn.archive.ubuntu.com/ubuntu/ jammy universe
deb http://cn.archive.ubuntu.com/ubuntu/ jammy-updates universe
# deb-src http://cn.archive.ubuntu.com/ubuntu/ jammy-updates universe

## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu 
## team, and may not be under a free licence. Please satisfy yourself as to 
## your rights to use the software. Also, please note that software in 
## multiverse WILL NOT receive any review or updates from the Ubuntu
## security team.
deb http://cn.archive.ubuntu.com/ubuntu/ jammy multiverse
# deb-src http://cn.archive.ubuntu.com/ubuntu/ jammy multiverse
deb http://cn.archive.ubuntu.com/ubuntu/ jammy-updates multiverse
# deb-src http://cn.archive.ubuntu.com/ubuntu/ jammy-updates multiverse

## N.B. software from this repository may not have been tested as
## extensively as that contained in the main release, although it includes
## newer versions of some applications which may provide useful features.
## Also, please note that software in backports WILL NOT receive any review
## or updates from the Ubuntu security team.
deb http://cn.archive.ubuntu.com/ubuntu/ jammy-backports main restricted universe multiverse
# deb-src http://cn.archive.ubuntu.com/ubuntu/ jammy-backports main restricted universe multiverse

deb http://security.ubuntu.com/ubuntu jammy-security main restricted
# deb-src http://security.ubuntu.com/ubuntu jammy-security main restricted
deb http://security.ubuntu.com/ubuntu jammy-security universe
# deb-src http://security.ubuntu.com/ubuntu jammy-security universe
deb http://security.ubuntu.com/ubuntu jammy-security multiverse
# deb-src http://security.ubuntu.com/ubuntu jammy-security multiverse

# This system was installed using small removable media
# (e.g. netinst, live or single CD). The matching "deb cdrom"
# entries were disabled at the end of the installation process.
# For information about how to configure apt package sources,
# see the sources.list(5) manual.
```

```
$ cat /usr/lib/os-release
PRETTY_NAME="Ubuntu 22.04.1 LTS"
NAME="Ubuntu"
VERSION_ID="22.04"
VERSION="22.04.1 LTS (Jammy Jellyfish)"
VERSION_CODENAME=jammy
ID=ubuntu
ID_LIKE=debian
HOME_URL="https://www.ubuntu.com/"
SUPPORT_URL="https://help.ubuntu.com/"
BUG_REPORT_URL="https://bugs.launchpad.net/ubuntu/"
PRIVACY_POLICY_URL="https://www.ubuntu.com/legal/terms-and-policies/privacy-policy"
UBUNTU_CODENAME=jammy

$ cat /etc/lsb-release
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=22.04
DISTRIB_CODENAME=jammy
DISTRIB_DESCRIPTION="Ubuntu 22.04.1 LTS"


$ sudo cp /usr/lib/os-release /usr/lib/os-release.bk
$ sudo cp /etc/lsb-release /etc/lsb-release.bk
$ sudo cp /etc/apt/sources.list /etc/apt/sources.list.bk
```

## mint record

```
$ cat /etc/apt/sources.list

# This system was installed using small removable media
# (e.g. netinst, live or single CD). The matching "deb cdrom"
# entries were disabled at the end of the installation process.
# For information about how to configure apt package sources,
# see the sources.list(5) manual.
```

```
$ cat /etc/apt/sources.list.d/official-package-repositories.list
deb https://mirrors.ustc.edu.cn/linuxmint vanessa main upstream import backport 

deb http://mirrors.cqu.edu.cn/ubuntu jammy main restricted universe multiverse
deb http://mirrors.cqu.edu.cn/ubuntu jammy-updates main restricted universe multiverse
deb http://mirrors.cqu.edu.cn/ubuntu jammy-backports main restricted universe multiverse

deb http://security.ubuntu.com/ubuntu/ jammy-security main restricted universe multiverse
deb http://archive.canonical.com/ubuntu jammy partner
```

```
$ cat /usr/lib/os-release
NAME="Linux Mint"
VERSION="21 (Vanessa)"
ID=linuxmint
ID_LIKE="ubuntu debian"
PRETTY_NAME="Linux Mint 21"
VERSION_ID="21"
HOME_URL="https://www.linuxmint.com/"
SUPPORT_URL="https://forums.linuxmint.com/"
BUG_REPORT_URL="http://linuxmint-troubleshooting-guide.readthedocs.io/en/latest/"
PRIVACY_POLICY_URL="https://www.linuxmint.com/"
VERSION_CODENAME=vanessa
UBUNTU_CODENAME=jammy

$ cat /etc/lsb-release
DISTRIB_ID=LinuxMint
DISTRIB_RELEASE=21
DISTRIB_CODENAME=vanessa
DISTRIB_DESCRIPTION="Linux Mint 21 Vanessa"
```

## mintwelcome

```
/usr/bin/python3 /usr/bin/mintwelcome
```

## 解决 `yout apt configuration is corrupt`

[https://forums.linuxmint.com/viewtopic.php?t=361477](https://forums.linuxmint.com/viewtopic.php?t=361477)

```
$ sudo xed /etc/apt/preferences.d/official-package-repositories.pref
```

```
Package: *
Pin: origin live.linuxmint.com
Pin-Priority: 750

Package: *
Pin: release o=linuxmint,c=upstream
Pin-Priority: 700

Package: *
Pin: release o=LP-PPA-linuxmint-daily-build-team-daily-builds
Pin-Priority: 700
```

无用的尝试

```
$ sudo rm -rf /var/lib/apt/lists/
$ sudo mkdir -p /var/lib/apt/lists/partial
$ sudo apt-get clean
$ sudo apt-get update
$ sudo apt install --reinstall mintsources
$ inxi -Fxxxrz
$ inxi -G
$ inxi -SGxxx
$ glxinfo -B
$ xrandr
```

---

# lightdm

```
$ sudo apt install lightdm lightdm-gtk-greeter
The following additional packages will be installed:
  gnome-themes-standard liblightdm-gobject-1-0
Suggested packages:
  bindfs desktop-base
```

```
$ sudo apt install bindfs desktop-base
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  fonts-quicksand
Suggested packages:
  gnome | kde-standard | xfce4 | wmaker
```

```
$ sudo dpkg-reconfigure gdm3
$ sudo dpkg-reconfigure lightdm
```

```
$ sudo gedit /etc/lightdm/lightdm.conf.d/70-linuxmint.conf
```

change

```
[SeatDefaults]
user-session=xfce
```

to

```
[SeatDefaults]
user-session=cinnamon
```

```
sudo systemctl disable gdm.service
sudo systemctl enable lightdm.service
sudo systemctl start lightdm.service
sudo systemctl stop gdm.service
```

查询已经安装软件和导出列表
[https://www.myfreax.com/how-to-list-installed-packages-on-ubuntu/](https://www.myfreax.com/how-to-list-installed-packages-on-ubuntu/)

```
sudo apt list --installed | less
sudo apt list --installed
sudo dpkg-query -l
sudo dpkg-query -l | less
sudo dpkg-query -f '${binary:Package}\n' -W > packages_list.txt
```

导入列表

```
sudo apt install grub-efi-amd64 grub-efi grub-common grub2-common grub-efi-amd64-bin grub-efi-amd64-signed
xargs sudo apt-get -y  -o Dpkg::Options::="--force-overwrite" install < pkg_list.txt
```

或者

```
sudo apt-get -y  -o Dpkg::Options::="--force-overwrite" install $(cat pkg_list.txt)
```

```
sudo apt-get -o DPkg::options::=--force-confnew --reinstall install mint-info-cinnamon
```

## Failed to start casper-md5check Verify Live ISO checksums

```
$ sudo cat /var/log/boot.log
$ systemctl --failed
$ sudo systemctl disable casper-md5check.service
```

## lightdm 配置

```
sudo gedit /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf
```

change

```

```

[Seat:*]
user-session=ubuntu

```

```

to

```
[Seat:*]
greeter-session=unity-greeter
user-session=ubuntu
greeter-show-manual-login=true
all-guest=false
```

```
$ sudo gedit /etc/lightdm/lightdm.conf.d/70-linuxmint.conf
```

change

```
[SeatDefaults]
user-session=cinnamon
```

to

```
[Seat:*]
greeter-show-manual-login=true
[SeatDefaults]
user-session=cinnamon
greeter-setup-script=xhost +
```

```
$ sudo gedit /etc/gdm3/custom.conf
```

change

```
# GDM configuration storage
#
# See /usr/share/gdm/gdm.schemas for a list of available options.

[daemon]
# Uncomment the line below to force the login screen to use Xorg
#WaylandEnable=false

# Enabling automatic login
#  AutomaticLoginEnable = true
#  AutomaticLogin = user1

# Enabling timed login
#  TimedLoginEnable = true
#  TimedLogin = user1
#  TimedLoginDelay = 10

[security]

[xdmcp]

[chooser]

[debug]
# Uncomment the line below to turn on debugging
# More verbose logs
# Additionally lets the X server dump core if it crashes
#Enable=true
```

to

```
# GDM configuration storage
#
# See /usr/share/gdm/gdm.schemas for a list of available options.

[daemon]
# Uncomment the line below to force the login screen to use Xorg
#WaylandEnable=false

# Enabling automatic login
#  AutomaticLoginEnable = true
#  AutomaticLogin = user1

# Enabling timed login
#  TimedLoginEnable = true
#  TimedLogin = user1
#  TimedLoginDelay = 10

[security]
DisallowTCP=false

[xdmcp]
Enable=true
DisplaysPerHost=10 

[chooser]

[debug]
# Uncomment the line below to turn on debugging
# More verbose logs
# Additionally lets the X server dump core if it crashes
#Enable=true
```

```
$ sudo gedit /etc/ssh/ssh_config
```

change

```
#   ForwardX11 no
#   ForwardX11Trusted yes
```

to

```
    ForwardX11 yes
    ForwardX11Trusted yes
```

---

# wlan driver

```
$ sudo apt install bcmwl-kernel-source
The following additional packages will be installed:
  dctrl-tools dkms
Suggested packages:
  debtags menu
```

---

# timeshift

```
$ sudo apt install timeshift 
The following additional packages will be installed:
  btrfs-progs
Suggested packages:
  duperemove
```

---

# xed for mint21

```
$ sudo apt install xed xed-common
```

---

# leafpad

[https://askubuntu.com/questions/1142518/leafpad-not-available-for-newer-releases-of-ubuntu](https://askubuntu.com/questions/1142518/leafpad-not-available-for-newer-releases-of-ubuntu)

## 编译准备工作

```
$ sudo apt-get install build-essential checkinstall intltool libgtk2.0-dev
```

```
The following additional packages will be installed:
  autoconf automake autopoint autotools-dev debhelper debugedit dh-autoreconf
  dh-strip-nondeterminism dwz gir1.2-gtk-2.0 icu-devtools libarchive-cpio-perl
  libatk1.0-dev libblkid-dev libbrotli-dev libcairo2-dev libdatrie-dev
  libdebhelper-perl libdeflate-dev libexpat1-dev libffi-dev
  libfile-stripnondeterminism-perl libfontconfig-dev libfontconfig1-dev
  libfreetype-dev libfreetype6-dev libfribidi-dev libgdk-pixbuf-2.0-dev
  libglib2.0-dev libglib2.0-dev-bin libgraphite2-dev libharfbuzz-dev
  libharfbuzz-gobject0 libice-dev libicu-dev libjbig-dev libjpeg-dev
  libjpeg-turbo8-dev libjpeg8-dev libltdl-dev liblzma-dev
  libmail-sendmail-perl libmount-dev libpango1.0-dev libpcre16-3 libpcre2-dev
  libpcre2-posix3 libpcre3-dev libpcre32-3 libpixman-1-dev libpng-dev
  libpng-tools libpthread-stubs0-dev libselinux1-dev libsepol-dev libsm-dev
  libsub-override-perl libsys-hostname-long-perl libthai-dev libtiff-dev
  libtiffxx5 libtool libx11-dev libxau-dev libxcb-render0-dev libxcb-shm0-dev
  libxcb1-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxdmcp-dev
  libxext-dev libxfixes-dev libxft-dev libxi-dev libxinerama-dev libxml2-utils
  libxrandr-dev libxrender-dev pango1.0-tools po-debconf python3-distutils
  uuid-dev x11proto-dev xorg-sgml-doctools xtrans-dev zlib1g-dev
Suggested packages:
  autoconf-archive gnu-standards autoconf-doc dh-make libcairo2-doc
  libdatrie-doc freetype2-doc libgirepository1.0-dev libglib2.0-doc
  libgraphite2-utils libgtk2.0-doc libice-doc icu-doc libtool-doc liblzma-doc
  libpango1.0-doc libsm-doc libthai-doc gfortran | fortran95-compiler gcj-jdk
  libx11-doc libxcb-doc libxext-doc graphicsmagick libmail-box-pe
```

## 获取合适的参考cflags和cxxflags

```
$ sudo apt install python3-dev
```

```
The following additional packages will be installed:
  javascript-common libjs-jquery libjs-sphinxdoc libjs-underscore libpython3-dev libpython3.10-dev python3.10-dev
Suggested packages:
  apache2 | lighttpd | httpd
```

```
$ python3-config --cflags
```

```
-I/usr/include/python3.10 -I/usr/include/python3.10  -Wno-unused-result -Wsign-compare -g      -fstack-protector-strong -Wformat -Werror=format-security  -DNDEBUG -g -fwrapv -O2 -Wall

```

## 修改makedeb的配置

```
$ sudo gedit /etc/makepkg.conf
```

修改

```
#MAKEFLAGS="-j2"
```

为

```
MAKEFLAGS="-j$(nproc)"
```

为了编译leafpad，修改

```
-Werror=format-security
```

为

```
-Wno-error=format-security
```

## PKGBUILD

```
# Maintainer: Lex Black <autumn-wind at web dot de>
# Contributor: SiD

pkgname=leafpad
pkgver=0.8.18.1
pkgrel=3
pkgdesc="A notepad clone for GTK+ 2.0 with print header disabled"
arch=('i386' 'amd64')
url="http://tarot.freeshell.org/leafpad/"
license=('GPL')
depends=('libgtk2.0-dev' 'desktop-file-utils' 'gtk-update-icon-cache')
makedepends=('intltool')
conflicts=('leafpad')
provides=('leafpad')
source=(http://download.savannah.gnu.org/releases/${pkgname}/${pkgname}-${pkgver}.tar.gz
        gtkprint.c.diff)
md5sums=('254a72fc67505e3aa52884c729cd7b97'
         'a01afce5b77fd78845e1d4985fd3c0f7')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  patch -p0 <../gtkprint.c.diff
  ./configure --prefix=/usr --enable-chooser
  make
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make DESTDIR="${pkgdir}" install
  echo 'StartupNotify=true' >> "${pkgdir}/usr/share/applications/leafpad.desktop"
}
```

## 生成leafpad_0.8.18.1-3_amd64.deb

```
$ makedeb
```

## 安装leafpad

```
$ sudo dpkg -i leafpad_0.8.18.1-3_amd64.deb
或
$ sudo apt install ./leafpad_0.8.18.1-3_amd64.deb
```

---

# tcl

```
sudo apt install tk-dev
```

```
The following additional packages will be installed:
  libxss-dev tcl-dev tcl8.6-dev tk8.6-dev
Suggested packages:
  tcl-doc tcl8.6-doc tk-doc tk8.6-doc
```

---

# openbox

## Note, selecting 'suckless-tools' instead of 'dmenu'

```
$ sudo apt install xinit openbox menu libxml2-dev tint2 openbox-menu openbox-gnome-session pkg-config menu-l10n lxdm feh suckless-tools fonts-dejavu gnome-screenshot
```

```
pkg-config is already the newest version (0.29.2-1ubuntu3).
xinit is already the newest version (1.4.1-0ubuntu4).
fonts-dejavu is already the newest version (2.37-2build1).
The following additional packages will be installed:
  icu-devtools libfm-extra4 libicu-dev libjpeg-progs libjpeg9
  libmenu-cache-bin libmenu-cache3 libobrender32v5 libobt2v5 obconf scrot
  yudit-common
Suggested packages:
  icu-doc lxde-common gksu | kde-runtime | ktsuss openbox-kde-session dwm
  stterm surf yudit-doc yudit
```

```
$ sudo apt install lxappearance pcmanfm libfm-tools lxterminal libgtk2.0-dev libpango-perl libpango1.0-dev
```

```
libpango1.0-dev is already the newest version (1.50.6+ds-2).
libpango1.0-dev set to manually installed.
libgtk2.0-dev is already the newest version (2.24.33-2ubuntu2).
The following additional packages will be installed:
  libfm-data libfm-gtk-data libfm-gtk4 libfm-modules libfm4 lxde-settings-daemon lxmenu-data
Suggested packages:
  nautilus-actions
```

## obmenu hasn't been available since bionic

[https://askubuntu.com/questions/1337888/with-ubuntu-21-04-can-openbox-be-customized-like-the-openbox-of-other-distros](https://askubuntu.com/questions/1337888/with-ubuntu-21-04-can-openbox-be-customized-like-the-openbox-of-other-distros)

## 安装配置 obmenu-generator

```
$ sudo apt install build-essential cpanminus git
```

```
build-essential is already the newest version (12.9ubuntu3).
git is already the newest version (1:2.34.1-1ubuntu1.5).
The following additional packages will be installed:
  libalgorithm-c3-perl libany-uri-escape-perl libclass-c3-perl libclass-c3-xs-perl libcpan-changes-perl libcpan-distnameinfo-perl libcpan-meta-check-perl
  libdata-perl-perl libdata-section-perl libfile-pushd-perl libfile-slurp-perl libgetopt-long-descriptive-perl liblocal-lib-perl libmodule-build-perl
  libmodule-cpanfile-perl libmodule-signature-perl libmoox-handlesvia-perl libmro-compat-perl libnamespace-autoclean-perl libparams-validate-perl libparse-pmfile-perl
  libpod-markdown-perl libpod-readme-perl libreadonly-perl libref-util-perl libref-util-xs-perl libsoftware-license-perl libstring-shellquote-perl
  libtext-template-perl libtype-tiny-perl libtype-tiny-xs-perl liburi-escape-xs-perl
Suggested packages:
  libdevel-lexalias-perl
```

```
//sudo cpan install YAML Gtk2 Pango Linux::DesktopFiles Data::Dump
sudo cpan install YAML Gtk3 Pango Linux::DesktopFiles Data::Dump File::DesktopEntry Log::Log4perl
sudo cpanm Linux::DesktopFiles
sudo cpanm Data::Dump
```

```
$ git clone https://github.com/trizen/obmenu-generator.git
sudo cp obmenu-generator/obmenu-generator /usr/bin
mkdir -p ~/.config/obmenu-generator/
//cp -r obmenu-generator/schema.pl ~/.config/obmenu-generator/
schema.pl和config.pl都用存档的
sudo chown root:root /usr/bin/obmenu-generator
sudo chmod 755 /usr/bin/obmenu-generator 
```

测试

```
obmenu-generator -i
```

## 安装浏览器 for mint21，比如opera

```
$ sudo apt install opera-stable chromium-browser 
```

```
opera-stable is already the newest version (93.0.4585.11).
The following additional packages will be installed:
  chromium libgl1-mesa-glx
The following packages will be REMOVED:
  chromium-codecs-ffmpeg-extra
```

```
sudo apt install opera-stable chromium-browser firefox
```

## 安装cbatticon

```
$ sudo apt install cbatticon
```

## 恢复默认网卡为eth0

```
sudo gedit /etc/default/grub
```

```
查找
GRUB_CMDLINE_LINUX=""
修改为
GRUB_CMDLINE_LINUX="net.ifnames=0 biosdevname=0"
或
GRUB_CMDLINE_LINUX="net.ifnames=0 biosdevname=0 nomodeset"
```

重新生成grub引导配置文件

```
sudo grub-mkconfig -o /boot/grub/grub.cfg
或者
sudo update-grub
```
---
# modprob blacklist

```
ll /etc/modprobe.d/blacklist.conf
sudo cp /etc/modprobe.d/blacklist.conf /etc/modprobe.d/blacklist.conf.bk
sudo chmod 666 /etc/modprobe.d/blacklist.conf
sudo sh -c 'echo "blacklist vga16fb">>/etc/modprobe.d/blacklist.conf'
sudo sh -c 'echo "blacklist nouveau">>/etc/modprobe.d/blacklist.conf'
sudo sh -c 'echo "blacklist rivafb">>/etc/modprobe.d/blacklist.conf'
sudo sh -c 'echo "blacklist rivatv">>/etc/modprobe.d/blacklist.conf'
sudo sh -c 'echo "blacklist nvidiafb">>/etc/modprobe.d/blacklist.conf'
cat /etc/modprobe.d/blacklist.conf
sudo chmod 644 /etc/modprobe.d/blacklist.conf
sudo update-initramfs -u
sudo reboot -h now
```

## 安装配置 conky

```
$ sudo apt install conky conky-all
```

```
The following additional packages will be installed:
  libaudclient2 libircclient1 libxmmsclient6 libxnvctrl0
Suggested packages:
  apcupsd audacious moc mpd xmms
```

```
$ cat /home/andy/.cpu.lua
```

```
function conky_mycpus()
        local file = io.popen("grep -c processor /proc/cpuinfo")
        local numcpus = file:read("*n")
        file:close()
        listcpus = ""
        for i = 1,numcpus
        do listcpus = listcpus.."${cpubar cpu"..tostring(i).."}\n"
         -- do listcpus = listcpus.."${offset 0}Core "..tostring(i).." ${color ff8300}${cpubar cpu"..tostring(i).." 6}${color FFFDE2}\n"
         -- do  listcpus = listcpus.."${cpu cpu"..tostring(i).."} "
        end

        return listcpus
end
```

```
$ cat /home/andy/.config/conky/conky.conf
```

```
conky.config = {
lua_load = '~/.cpu.lua',
background = true,
use_xft = true,
font = 'monospace:size=9',
xftalpha = 1,
update_interval = 1.0,
total_run_times = 0,
own_window = true,
own_window_transparent = true,
own_window_type = 'desktop',
own_window_hints = 'undecorated,below,sticky,skip_taskbar,skip_pager',
own_window_colour = 'black',
double_buffer = true,
minimum_height = 390,
maximum_width = 340,
draw_shades = false,
draw_outline = false,
draw_borders = false,
draw_graph_borders = false,
default_color = 'white',
default_shade_color = '000000',
default_outline_color = 'd9d7d6',
alignment = 'top_right',
gap_x = 12,
gap_y = 12,
no_buffers = true,
uppercase = false,
cpu_avg_samples = 2,
override_utf8_locale = false,
color1 = 'gray',
color2 = 'gray',
color3 = 'gray',
}

conky.text = [[
#${pre_exec nproc}
#${execi 86400 nproc}
##${exec nproc}
${color2}${font sans:normal:size=9}CPU ${cpu cpu0}%${color1}
${lua_parse conky_mycpus}
#${cpu cpu0} is the total usage
#${cpubar cpu1}
#${cpubar cpu2}
#${cpubar cpu3}
#${cpubar cpu4}
#${cpubar cpu5}
#${cpubar cpu6}
#${cpubar cpu7}
#${cpubar cpu8}
#${cpubar cpu9}
#${cpubar cpu10}
#${cpubar cpu11}
#${cpubar cpu12}
#${cpubar cpu13}
#${cpubar cpu14}
#${cpubar cpu15}
#${cpubar cpu16}
${color2}${font sans:normal:size=9}RAM ${color1} $alignr$mem/$memmax
${membar}
#${memgraph 30,555 AAF5D0 00B35B}
${if_existing /proc/net/route wlan0}
NET1: wireless 
${upspeed wlan0}/s$alignr${totalup wlan0}
${upspeedgraph wlan0 25,150 0000ff ff0000}
${downspeed wlan0}/s$alignr${totaldown wlan0}
${downspeedgraph wlan0 25,150 00ff00 d000d0}
${endif}
NET2: wired
${upspeed eth0}/s$alignr${totalup eth0}
${upspeedgraph eth0 25,150 0000ff ff0000}
${downspeed eth0}/s$alignr${totaldown eth0}
${downspeedgraph eth0 25,150 00ff00 d000d0}
#
#${color2}${font sans:normal:size=9}SYSTEM ${color1}${hr 2}
#${color1}${font sans:normal:size=9}$sysname $kernel $alignr $machine
#Host:$alignr$nodename
#Uptime:$alignr$uptime
#
${color2}${font sans:bold:size=9}TOP PROCESSES ${color1}${hr 2}
${color1}${font sans:normal:size=9}${top_mem name 1}${alignr}${top mem 1} %
${top_mem name 2}${alignr}${top mem 2} %
${top_mem name 3}${alignr}${top mem 3} %

${color2}${font sans:bold:size=9}SHORTCUT KEYS ${color1}${hr 2}${color1}${font sans:normal:size=9}
Super+space$alignr Main Menu
Super+t$alignr Terminal
Super+f$alignr File Manager
Super+e$alignr Editor
Super+w$alignr Web Browser
Super+q$alignr Force Quit
Super+r$alignr Read the DOC
Super+a$alignr Toggle Maximize
Super+h$alignr Toggle Horizontal
Super+v$alignr Toggle Vertical
Super+c$alignr Move to Center
Super+Arrow$alignr Move
Alt+F3$alignr Dmenu
Alt+Super+Arrow$alignr Resize]]
```

```
$ sudo apt install volumeicon-alsa gnome-icon-theme
```

```
gnome-icon-theme is already the newest version (3.12.0-4).
Suggested packages:
  alsamixergui | aumix-gtk | kmix | gnome-alsamixer
```

## 高级剪贴板

```
$ sudo apt install parcellite
```

```
The following additional packages will be installed:
  libayatana-appindicator1 libayatana-indicator7 libdbusmenu-gtk4
```

## 截图工具

```
$ sudo apt install shutter
```

```
The following additional packages will be installed:
  gir1.2-goocanvas-2.0 libcarp-always-perl libclass-accessor-perl
  libcommon-sense-perl libcrypt-openssl-bignum-perl
  libcrypt-openssl-random-perl libcrypt-openssl-rsa-perl libdigest-hmac-perl
  libfile-copy-recursive-perl libfile-which-perl libgoocanvas-2.0-9
  libgoocanvas-2.0-common libgoocanvas2-cairotypes-perl libgoocanvas2-perl
  libgtk3-imageview-perl libhttp-server-simple-perl libimage-exiftool-perl
  libimage-magick-perl libimage-magick-q16-perl libjson-perl libjson-xs-perl
  libmime-charset-perl libnet-dbus-glib-perl libnet-oauth-perl
  libnumber-bytes-human-perl libpath-class-perl libproc-simple-perl libsombok3
  libsort-naturally-perl libtypes-serialiser-perl libunicode-linebreak-perl
  libwww-mechanize-perl libx11-protocol-other-perl libxml-simple-perl
Suggested packages:
  libposix-strptime-perl imagemagick-doc libencode-hanextra-perl
  libpod2-base-perl
```

```
cp /usr/share/applications/shutter.desktop ~/.config/autostart
```

## 基本编译工具

```
$ sudo apt install g++ make autoconf libtool automake cmake cmake-gui
```

```
Note, selecting 'cmake-qt-gui' instead of 'cmake-gui'
autoconf is already the newest version (2.71-2).
autoconf set to manually installed.
automake is already the newest version (1:1.16.5-1.3).
automake set to manually installed.
g++ is already the newest version (4:11.2.0-1ubuntu1).
g++ set to manually installed.
libtool is already the newest version (2.4.6-15build2).
libtool set to manually installed.
make is already the newest version (4.3-4.1build1).
The following additional packages will be installed:
  cmake-data dh-elpa-helper librhash0
Suggested packages:
  cmake-doc ninja-build cmake-format
```

## 屏保 xscreensaver

```
sudo apt install xscreensaver libopengl-xscreensaver-perl xscreensaver-data xscreensaver-data-extra xscreensaver-gl xscreensaver-gl-extra xscreensaver-screensaver-bsod xscreensaver-screensaver-dizzy xscreensaver-screensaver-webcollage fonts-freefont-ttf
```

```
fonts-freefont-ttf is already the newest version (20120503-10build1).
The following additional packages will be installed:
  dizzy fonts-sil-gentium fonts-sil-gentium-basic freeglut3 gsfonts-x11
  libalien-sdl-perl libclass-inspector-perl libconvert-color-perl
  libfile-sharedir-perl libfluidsynth3 libgdk-pixbuf-xlib-2.0-0 libgle3
  libinstpatch-1.0-2 libjpeg-turbo-progs libmad0 libmikmod3
  libmodule-pluggable-perl libopengl-perl libsdl-gfx1.2-5 libsdl-image1.2
  libsdl-mixer1.2 libsdl-pango1 libsdl-perl libsdl-ttf2.0-0 libsdl1.2debian
  libtie-simple-perl timgm6mb-soundfont
Suggested packages:
  fluid-soundfont-gm fortune xdaliclock xfishtank
The following packages will be REMOVED:
  libjpeg-progs
```

```
$ touch ~/.xinitrc
$ gedit ~/.xinitrc
$ cat ~/.xinitrc
xscreensaver -no-splash
```

## 补全网络工具

```
sudo apt install network-manager-dev network-manager-openvpn network-manager-pptp network-manager-vpnc network-manager-openconnect network-manager-iodine pppoe ppp pppoeconf pppconfig
```

```
network-manager-openvpn is already the newest version (1.8.18-1).
network-manager-pptp is already the newest version (1.2.10-1).
ppp is already the newest version (2.4.9-1+1ubuntu3).
pppconfig is already the newest version (2.3.26).
pppoeconf is already the newest version (1.21+nmu2ubuntu1).
The following additional packages will be installed:
  iodine libopenconnect5 libpskc0 libstoken1 libtomcrypt1 libtss2-tctildr0
  libxmlsec1-openssl openconnect python3-asn1crypto python3-mechanize vpnc
  vpnc-scripts
Suggested packages:
  fping | oping ipcalc network-manager-iodine-gnome resolvconf dnsmasq
```

## openbox环境的一些补充

```
$ sudo apt install openbox-dev
The following additional packages will be installed:
  bzip2-doc libbz2-dev libgif-dev libid3tag0-dev libimlib2-dev librsvg2-dev
  libwebp-dev
Suggested packages:
  librsvg2-doc
```

```
sudo apt install lxappearance-obconf adwaita-icon-theme-full
```

## 其他一些杂碎

```
sudo apt install libgtk2.0-dev libglib2.0-dev
```

```
$ sudo apt install libgconf2-dev
```

```
The following additional packages will be installed:
  gconf-service gconf-service-backend gconf2 gconf2-common gir1.2-gconf-2.0
  libdbus-1-dev libgconf-2-4 libgconf2-doc
Suggested packages:
  gconf-defaults-service
```

```
$ sudo apt install libgstreamer1.0-dev
```

```
The following additional packages will be installed:
  libdw-dev libelf-dev libunwind-dev
Suggested packages:
  gstreamer1.0-doc
```

```
$ sudo apt install libgst-dev
```

```
The following additional packages will be installed:
  libgst7
```

```
//sudo apt install python-pip
The following additional packages will be installed:
  libpython2-stdlib libpython2.7-minimal libpython2.7-stdlib
  python-pkg-resources python-setuptools python2 python2-minimal python2.7
  python2.7-minimal
Suggested packages:
  python-setuptools-doc python2-doc python-tk python2.7-doc binfmt-support
Recommended packages:
  python2-dev
```

```
$ sudo apt install python3-pip
The following additional packages will be installed:
  python3-setuptools python3-wheel
Suggested packages:
  python-setuptools-doc
```

```
$ sudo apt install gtk-theme-switch gtk2-engines
gtk2-engines is already the newest version (1:2.20.2-5build2).
The following NEW packages will be installed:
  gtk-theme-switch
```

```
sudo apt install libreoffice-l10n-en-za libreoffice-l10n-en-gb libreoffice-help-en-gb hyphen-en-gb hunspell-en-ca mythes-en-au hunspell-en-za hunspell-en-au hunspell-en-gb gimp-help-common gimp-help-en thunderbird-locale-en-gb gimp gimp-data-extras
```

## home_andy_openbox_base.tar.bz2

解压出来到~

## 全局文件查找 mlocate

```
sudo apt install mlocate
sudo updatedb
```

## 配置pcmanfm

修改pcmanfm的默认shell

```
x-terminal-emulator %s
```

to

```
lxterminal
```

deb系的可以这配置terminal

```
sudo update-alternatives --config  x-terminal-emulator
```

pcmanfm的bookmark文件在

```
/home/andy/.config/gtk-3.0/bookmarks
```

## 配置lxterminal

回滚设置成10000行

光标闪烁cursor blink

字体monospace 12号

背景 透明度200

## 配置  volumeicon

```
$ sudo apt install alsamixergui
```

```
The following additional packages will be installed:
  libfltk1.1
```

```
$ sudo apt install xterm
```

```
The following additional packages will be installed:
  libutempter0
Suggested packages:
  xfonts-cyrillic
```

```
$ gedit ~/.config/volumeicon/volumeicon
```

从
`xterm -bg black -e 'alsamixer'`
改成
`alsamixergui`

从
`xterm -e 'alsamixer'`
改成
`alsamixergui`
不好看，换成lxterminal

```
$ gedit ~/.config/volumeicon/volumeicon
```

从
`xterm -e 'alsamixer'`
改成
`lxterminal -e 'alsamixer'`

## tint2 systraybar icons color keep going black

[https://forum.maboxlinux.org/t/problem-with-battery-icon/335/2](https://forum.maboxlinux.org/t/problem-with-battery-icon/335/2)
在 `tint2conf`里修改 `system tray`

`Icon saturation`为37
`Icon brightness`为48

都恢复为0好了

试试lxpanel，好像也不好

```
$ sudo apt install lxpanel
The following additional packages will be installed:
  libkeybinder0 libwnck-common libwnck22 lxpanel-data pavucontrol
```

---

# * * *

# 启用 swapfile

查看系统是否有交换分区：

`sudo swapon --show`

free命令用来查看空闲的内存空间，其中包括交换分区的空间。

`free -h`

检查当前磁盘的使用情况：

`df -h`

创建swap文件

使用以下命令创建swapfile

`sudo fallocate -l 8G /swapfile`

经过测试，OpenSuSE系统要使用以下命令才能成功创建swapfile

`sudo dd if=/dev/zero of=/swapfile count=4096 bs=1MiB`

使用以下命令查看是否正确创建。

`ls -lh /swapfile`

结果应该类似下面这样：

```
-rw-r--r-- 1 root root 8.0G Apr 26 17:04 /swapfile
```

修改swapfile权限

`sudo chmod 600 /swapfile`

查看效果

`ls -lh /swapfile`

结果应该类似下面这样：

```
-rw------- 1 root root 8.0G Apr 26 17:04 /swapfile
```

激活交换空间

`sudo mkswap /swapfile`
`sudo swapon /swapfile`

之后使用以下命令查看使用成功开启交换空间：

`sudo swapon --show`

结果类似下面这样：

```
NAME      TYPE SIZE USED PRIO

/swapfile file   8G   0B   -1
```

添加到fstab

这样每次开机系统就会自动吧swapfile挂载为交换空间。 首先请自行备份fstab文件。 然后把以下配置添加到fstab文件末尾。

```
/swapfile none swap sw 0 0
```

或者直接使用以下命令：

`sudo cp /etc/fstab /etc/fstab.bak`

`echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab`

---

# pasystray

```
sudo apt install xfce4-pulseaudio-plugin pulseaudio-utils pulseaudio-module-zeroconf pulseaudio-module-raop pulseaudio-module-lirc pulseaudio-module-jack pulseaudio-module-bluetooth pulseaudio-equalizer pulseaudio-dlna gstreamer1.0-pulseaudio mkchromecast-pulseaudio osspd-pulseaudio pulsemixer
sudo apt install pasystray paprefs pavumeter pulseaudio-module-zeroconf
```

---

# wine

## wine quick config

比如已经安装了winehq-7.21-staging，winetricks-20220411-next
`sudo apt-get install --install-recommends --fix-missing --reinstall winehq-staging=7.21~jammy-1 wine-staging=7.21~jammy-1 wine-staging-amd64=7.21~jammy-1 wine-staging-i386=7.21~jammy-1`

```
//rm -rf ~/.wine
rm -f ~/.local/share/applications/wine-extension*.desktop
rm -f ~/.local/share/icons/hicolor/*/*/application-x-wine-extension*
rm -f ~/.local/share/icons/????_*.{xpm,png}
rm -f ~/.local/share/icons/*-x-wine-*.{xpm,png}
rm -f ~/.local/share/icons/hicolor/*/*/????_*.{xpm,png}
rm -f ~/.local/share/icons/hicolor/*/*/*-x-wine-*.{xpm,png}
rm -f ~/.local/share/icons/hicolor/*/*/*.{xpm,png}
rm -f ~/.local/share/applications/mimeinfo.cache
rm -f ~/.local/share/mime/packages/x-wine*
rm -f ~/.local/share/mime/application/x-wine-extension*
rm -rf ~/.local/share/applications/*
rm -f ~/.config/menus/applications-merged/*
update-desktop-database ~/.local/share/applications/
update-mime-database ~/.local/share/mime/
```

~/.bashrc

```
export WINEPREFIX=$HOME/.wine/
# export WINEARCH=win32
export WINEARCH=win64
export LANG=zh_CN.UTF-8
# alias wine='env LC_ALL=zh_CN.UTF-8 LANG=zh_CN.UTF-8 WINEARCH=win32 WINEPREFIX=$HOME/.wine wine'
alias wine='env LC_ALL=zh_CN.UTF-8 LANG=zh_CN.UTF-8 WINEARCH=win64 WINEPREFIX=$HOME/.wine wine'
```

安装一些基础工具

```
winecfg
wine regedit
wine explorer
//wine iexplore
wine msiexec /i wine-mono-7.4.0-x86.msi
wine msiexec /i wine-gecko-2.47.3-x86.msi
wine msiexec /i wine-gecko-2.47.3-x86_64.msi

winetricks -q gdiplus riched20 riched30
winetricks -q allfonts
winetricks --force cjkfonts fakechinese fakejapanese fakekorean fakejapanese_ipamona fakejapanese_vlgothic pptfonts

然后把ms的一些fonts复制进来，并更新reg
wine regedit /S ch_font.reg

wine winrar-x64-611.exe    ## 默认文件类型关联即可
wine "Foxit Reader Pro 3.0 Build 1817.exe"   ## 勾选创建桌面快捷方式

winetricks -q vb6run vcrun6 vcrun6sp6 secur32 msvcirt mfc42 cmd comctl32 vcrun2003 msxml3 cmd comctl32 vcrun2005
```

批量修复desktop文件

```
SAVEIFS=$IFS
IFS=$(echo -en "\n\b")
for files in `find -name '*.desktop'`; do echo $files | sed 's/$/"/' | sed 's/^/"/' | xargs perl -pi -e 's|^(.*)?\/dosdevices\/e\:\/home\/andy\/\.wine(.*)$|$1$2|g' ; done
for files in `find -name '*.desktop'`; do echo $files | sed 's/$/"/' | sed 's/^/"/' | xargs perl -pi -e 's|^Exec\=env\ WINEPREFIX\=(.*)$|Exec\=env\ LANG=zh\_CN.UTF\-8\ WINEPREFIX\=$1|' ; done
```

## winehq版本（有缺陷我无法搞定）

[https://www.winehq.org](https://www.winehq.org)
[https://wiki.winehq.org/Ubuntu](https://wiki.winehq.org/Ubuntu)

```
sudo dpkg --add-architecture i386
//wget -O - https://dl.winehq.org/wine-builds/winehq.key | sudo apt-key add -
//sudo apt-key add /usr/share/keyrings/winehq-archive.key

sudo mkdir -pm755 /etc/apt/keyrings
sudo wget -O /etc/apt/keyrings/winehq-archive.key https://dl.winehq.org/wine-builds/winehq.key
sudo wget -NP /etc/apt/sources.list.d/ https://dl.winehq.org/wine-builds/ubuntu/dists/jammy/winehq-jammy.sources

```

这key名字不能修改，比如后缀改成gpg就是不行。

```
cat /etc/apt/sources.list.d/winehq-jammy.sources
Types: deb
URIs: https://dl.winehq.org/wine-builds/ubuntu
Suites: jammy
Components: main
Architectures: amd64 i386
Signed-By: /etc/apt/keyrings/winehq-archive.key
```

如果key没有设置对就有报错

```
$ sudo apt update
W: GPG error: https://dl.winehq.org/wine-builds/ubuntu jammy InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 76F1A20FF987672F
E: The repository 'https://dl.winehq.org/wine-builds/ubuntu jammy InRelease' is not signed
```

尝试解决，下面几句都不行，实际上wine的key文件的名字或者后缀不能修改，最好是按官方说明放 `/etc/apt/keyrings/winehq-archive.key`

```
$ sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-key 76F1A20FF987672F
$ sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 76F1A20FF987672F
$ gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 76F1A20FF987672F
```

解决了key问题就可以安装了，可以选winehq-stable，winehq-devel，winehq-staging, 这里我用winehq-staging(还是换回winehq-stable)
[https://wiki.winehq.org/Wine_User%27s_Guide#Wine_from_WineHQ](https://wiki.winehq.org/Wine_User%27s_Guide#Wine_from_WineHQ)

```
$ sudo apt update
$ sudo apt install --install-recommends winehq-staging --fix-missing
```

```
The following additional packages will be installed:
  gstreamer1.0-plugins-base:i386 i965-va-driver:i386 intel-media-va-driver:i386 libasound2:i386 libasound2-plugins:i386 libbz2-1.0:i386 libcdparanoia0:i386
  libcurl3-gnutls:i386 libcurl4:i386 libdb5.3:i386 libdecor-0-0:i386 libdecor-0-plugin-1-cairo:i386 libdrm-intel1:i386 libdw1:i386 libexif12:i386 libgd3:i386
  libgdbm-compat4:i386 libgdbm6:i386 libglu1-mesa:i386 libgphoto2-6:i386 libgphoto2-port12:i386 libgstreamer-plugins-base1.0-0:i386 libgstreamer1.0-0:i386
  libieee1284-3:i386 libigdgmm12:i386 libjack-jackd2-0:i386 libldap-2.5-0:i386 libltdl7:i386 libnghttp2-14:i386 libnspr4:i386 libnss3:i386 libodbc1:i386 libodbc1
  libodbc2 libodbc2:i386 libodbccr2 libodbccr2:i386 libopengl0:i386 libopenjp2-7:i386 liborc-0.4-0:i386 libosmesa6 libosmesa6:i386 libpcap0.8:i386 libpci3:i386
  libpciaccess0:i386 libperl5.34:i386 libpoppler-glib8:i386 libpoppler118:i386 libpsl5:i386 librtmp1:i386 libsamplerate0:i386 libsane1:i386 libsasl2-2:i386
  libsasl2-modules:i386 libsasl2-modules-db:i386 libsdl2-2.0-0:i386 libsnmp40:i386 libsqlite3-0:i386 libssh-4:i386 libtheora0:i386 libunwind8:i386 libusb-1.0-0:i386
  libv4l-0:i386 libv4lconvert0:i386 libva-drm2:i386 libva-x11-2:i386 libva2:i386 libvisual-0.4-0:i386 libwrap0:i386 libxpm4:i386 libxss1:i386 mesa-va-drivers:i386
  ocl-icd-libopencl1:i386 va-driver-all:i386 wine-staging wine-staging-amd64 wine-staging-i386:i386
Suggested packages:
  gvfs:i386 i965-va-driver-shaders:i386 libgd-tools:i386 gdbm-l10n:i386 gphoto2:i386 libvisual-0.4-plugins:i386 gstreamer1.0-tools:i386 jackd2:i386 odbc-postgresql
  tdsodbc odbc-postgresql:i386 tdsodbc:i386 hplip:i386 libsasl2-modules-gssapi-mit:i386 | libsasl2-modules-gssapi-heimdal:i386 libsasl2-modules-ldap:i386
  libsasl2-modules-otp:i386 libsasl2-modules-sql:i386 opencl-icd:i386
Recommended packages:
  sane-airscan:i386
```

```
$ sudo apt install --install-recommends winehq-stable

The following packages were automatically installed and are no longer required:
  i965-va-driver:i386 intel-media-va-driver:i386 libdrm-intel1:i386
  libigdgmm12:i386 libpciaccess0:i386 libva-drm2:i386 libva-x11-2:i386
  libva2:i386 mesa-va-drivers:i386 va-driver-all:i386 wine-staging
  wine-staging-amd64 wine-staging-i386:i386
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
  libcapi20-3:i386 libcapi20-3 libgsm1:i386 libopenal1:i386 libsndio7.0:i386
  libxslt1.1:i386 wine-stable wine-stable-amd64 wine-stable-i386:i386
Suggested packages:
  libportaudio2:i386 sndiod:i386
The following packages will be REMOVED:
  winehq-staging

$ sudo apt autoremove
The following packages will be REMOVED:
  i965-va-driver:i386 intel-media-va-driver:i386 libdrm-intel1:i386 libigdgmm12:i386 libpciaccess0:i386 libva-drm2:i386 libva-x11-2:i386 libva2:i386
  mesa-va-drivers:i386 va-driver-all:i386 wine-staging wine-staging-amd64 wine-staging-i386:i386
```

winetricks(最好从github下最新的)
[https://github.com/Winetricks/winetricks/tree/master/src](https://github.com/Winetricks/winetricks/tree/master/src)

vcrun6 and vcrun6sp6 don't install and break wine prefix
[https://github.com/Winetricks/winetricks/issues/1804](https://github.com/Winetricks/winetricks/issues/1804)

```
$ sudo apt install winetricks 
The following additional packages will be installed:
  fuseiso
Suggested packages:
  tor

$ winetricks --version
20210206 - sha256sum: 0f21da98811e0bfda16a7d6d6b8e860a9cedbd4e836c7dd9b02f068d3092ee2e
```

playonlinux（没啥卵用）
[https://www.playonlinux.com/en/](https://www.playonlinux.com/en/)
[https://www.playonlinux.com/en/documentation.html](https://www.playonlinux.com/en/documentation.html)
[https://www.how2shout.com/linux/how-to-install-playonlinux-on-ubuntu-22-04-lts-jammy/](https://www.how2shout.com/linux/how-to-install-playonlinux-on-ubuntu-22-04-lts-jammy/)
[https://linuxhint.com/run_32_bit_windows_64_bit_unbuntu/](https://linuxhint.com/run_32_bit_windows_64_bit_unbuntu/)

```
$ sudo apt install playonlinux 
The following additional packages will be installed:
  icoutils jq libjq1 libonig5 libwxbase3.0-0v5 libwxgtk3.0-gtk3-0v5 python3-natsort python3-numpy python3-wxgtk4.0
Suggested packages:
  libterm-readline-gnu-perl | libterm-readline-perl-perl winbind python-natsort-doc gfortran python-numpy-doc python3-pytest wx3.0-doc
```

```
$ playonlinux --version
PlayOnLinux 4.3.4
```

如果要删除

```
$ sudo apt autoremove playonlinux -y
```

Installing without Internet

```
sudo apt-get clean
sudo apt-get --download-only install winehq-<branch>
sudo apt-get --download-only dist-upgrade
```

To check the version

```
$ wine --version
wine-7.21 (Staging)
```

Setup Wine

```
$ export WINEARCH=win32
$ export WINEPREFIX=~/.wine32
$ winecfg
$ wine regedit     # 产生基本的*.desktop

$ ls ~/.cache/wine/
```

安装Mono

[https://wiki.winehq.org/Mono](https://wiki.winehq.org/Mono)

[https://wiki.winehq.org/Gecko](https://wiki.winehq.org/Gecko)

[http://mirrors.ustc.edu.cn/wine/wine/wine-mono/](http://mirrors.ustc.edu.cn/wine/wine/wine-mono/)

[http://mirrors.ustc.edu.cn/wine/wine/wine-gecko/](http://mirrors.ustc.edu.cn/wine/wine/wine-gecko/)

[https://dl.winehq.org/wine/wine-gecko/](https://dl.winehq.org/wine/wine-gecko/)

[https://dl.winehq.org/wine/wine-mono/](https://dl.winehq.org/wine/wine-mono/)

wine运行exe

```
env LANG=zh_CN.UTF-8 WINEPREFIX="/home/andy/.wine" wine XXXXXXXX.exe
```

```
export WINEPREFIX=$HOME/.wine/
export WINEARCH=win32
export LANG=zh_CN.UTF-8
wine xxx.exe
unset  WINEARCH=win32
```

```
env LC_ALL=zh_CN.UTF-8 LANG=zh_CN.UTF-8 WINEARCH=win32 WINEPREFIX=/home/andy/.wine wine xxx.exe
```

~/.bashrc

```
export WINEPREFIX=$HOME/.wine/
# export WINEARCH=win32
export WINEARCH=win64
export LANG=zh_CN.UTF-8
# alias wine='env LC_ALL=zh_CN.UTF-8 LANG=zh_CN.UTF-8 WINEARCH=win32 WINEPREFIX=/home/andy/.wine wine'
alias wine='env LC_ALL=zh_CN.UTF-8 LANG=zh_CN.UTF-8 WINEARCH=win64 WINEPREFIX=/home/andy/.wine wine'
```

winehq-staging 自动安装的wine-mono-7.4.0-x86.msi等

winehq-stable 自动安装的wine-mono-7.0.0-x86.msi，wine-gecko-2.47.2-x64.msi，wine-gecko-2.47.2-x86.msi

winecfg时候自动安装mono，比如安装winrar-x64-611.exe之前会自动安装64位gecho，安装winrar-x32-611.exe之前会自动安装32位gecho

msi下载到 `~/.cache/wine`就自动安装，手动安装按下面命令

```
$ export WINEARCH=win32
$ export WINEPREFIX=~/.wine32
$ winecfg
$ wine msiexec /i wine-mono-7.4.0-x86.msi
$ wine msiexec /i wine-gecko-2.47.3-x86.msi
```

```
$ export WINEARCH=win64
$ export WINEPREFIX=~/.wine
$ winecfg
$ wine msiexec /i wine-mono-7.4.0-x86.msi
$ wine msiexec /i wine-gecko-2.47.3-x86.msi
$ wine msiexec /i wine-gecko-2.47.3-x86_64.msi
```

查看已经安装的

```
$ wine uninstaller
```

Running .msi files

```
wine msiexec /i whatever.msi
```

or

```
wine start whatever.msi
```

run Windows programs from the command line

```
cd '.wine/drive_c/Games/Tron'
wine tron.exe 
```

```
$ wine "C:\Program Files\appname\appname.exe"
$ wine start 'C:\Games\Tron\tron.exe'
$ wine start "C:\\Games\\Tron\\tron.exe"
$ wine start /unix "$HOME/installers/TronSetup.exe"
```

basic applications and control panel applets

```
$ wine uninstaller
$ wine control
$ wine wineconsole
$ wine regedit
$ wine clock
$ wine iexplore
$ wineserver -h
$ wine taskmgr
$ wine explorer
$ wine explorer /desktop=name,1024x768 program.exe
$ WINEDEBUG=+all,-relay wine program_name
```

WINEARCH

```
win32 (support only 32-bit applications)
win64 (support both 64-bit applications and 32-bit ones in WoW64 mode)
```

WINEPREFIX

```
export WINEPREFIX=~/.wine-new
wine winecfg 
```

```
WINEPREFIX=path_to_wineprefix wine winecfg 
```

```
WINEARCH=win32 WINEPREFIX=path_to_wineprefix winecfg
```

```
WINEPREFIX=path_to_wineprefix wine start /unix path_to_installer
```

```
WINEPREFIX="$HOME/.wine-second" wine second-program.exe 
```

重启wine

```
wineboot
```

用winetricks配置wine

```
$ winetricks --gui
```

wine winrar
[https://www.win-rar.com/download.html?&amp;L=0](https://www.win-rar.com/download.html?&L=0)
[https://linuxhint.com/install-wine-ubuntu-22-04/](https://linuxhint.com/install-wine-ubuntu-22-04/)

影响的文件所在位置

```
/home/andy/.config/menus/applications-merged/
/home/andy/.config/menus/cinnamon-applications-merged
/home/andy/.local/share/applications/wine
/home/andy/.local/share/applications
/home/andy/.local/share/icons/hicolor
/home/andy/.local/share/mime/application
/home/andy/.local/share/mime/packages/
```

```
Usage: update-mime-database [-hvVn] MIME-DIR
The databases in
/usr/share/gnome/applications, 
/usr/share/cinnamon/applications, 
/usr/share/gnome/applications, 
/home/andy/.local/share/flatpak/exports/share/applications, 
/var/lib/flatpak/exports/share/applications, 
/usr/local/share/applications, 
/usr/share/applications, 
/var/lib/snapd/desktop/applications
could not be updated.
```

## 删除wine关联

[https://appuals.com/unregister-wine-file-associations-linux/](https://appuals.com/unregister-wine-file-associations-linux/)
[https://wiki.winehq.org/FAQ#How_do_I_get_Wine_to_launch_an_application_in_a_virtual_desktop.3F](https://wiki.winehq.org/FAQ#How_do_I_get_Wine_to_launch_an_application_in_a_virtual_desktop.3F)

```
//rm -rf ~/.wine
rm -f ~/.local/share/applications/wine-extension*.desktop
rm -f ~/.local/share/icons/hicolor/*/*/application-x-wine-extension*
rm -f ~/.local/share/icons/????_*.{xpm,png}
rm -f ~/.local/share/icons/*-x-wine-*.{xpm,png}
rm -f ~/.local/share/icons/hicolor/*/*/????_*.{xpm,png}
rm -f ~/.local/share/icons/hicolor/*/*/*-x-wine-*.{xpm,png}
rm -f ~/.local/share/applications/mimeinfo.cache
rm -f ~/.local/share/mime/packages/x-wine*
rm -f ~/.local/share/mime/application/x-wine-extension*
rm -rf ~/.local/share/applications/*
rm -f ~/.config/menus/applications-merged/*
update-desktop-database ~/.local/share/applications/
update-mime-database ~/.local/share/mime/
```

命令行mime工具

```
xdg-mime query filetype [filename]
mimetype [filename]
mimeopen -d [/path/to/file]
```

图形化mime工具

```
$ sudo apt install xfce4-settings

The following additional packages will be installed:
  elementary-xfce-icon-theme exo-utils greybird-gtk-theme libexo-2-0 libexo-common libgarcon-1-0 libgarcon-common libxfce4ui-2-0 libxfce4ui-common libxfce4util-bin
  libxfce4util-common libxfce4util7 libxfconf-0-3 xfce4-helpers xfconf xiccd
Suggested packages:
  devhelp

$ xfce4-mime-settings

```

winehq目前发现缺陷

驱动器在通过desktop文件比如打开rar文件的时候丢失，于是打不开

```
Exec=env WINEPREFIX="/home/andy/.wine/dosdevices/e:/home/andy/.wine" wine start /ProgIDOpen WinRAR %f
```

如果没有同时打开winecfg，那么e盘会丢失，发现改成

```
Exec=env WINEPREFIX="/home/andy/.wine/dosdevices/z:/home/andy/.wine" wine start /ProgIDOpen WinRAR %f
```

就可以打开。

## 全删，用repo自带的wine版本

```
//$ sudo apt-get remove winehq-staging --purge
$ sudo apt autoremove winehq-staging playonlinux

The following packages will be REMOVED:
  fuseiso gstreamer1.0-plugins-base:i386 i965-va-driver:i386 icoutils intel-media-va-driver:i386 jq libasound2:i386 libasound2-plugins:i386 libcdparanoia0:i386
  libcurl3-gnutls:i386 libcurl4:i386 libdecor-0-0:i386 libdecor-0-plugin-1-cairo:i386 libdrm-intel1:i386 libdw1:i386 libexif12:i386 libgd3:i386 libgdbm-compat4:i386
  libgdbm6:i386 libglu1-mesa:i386 libgphoto2-6:i386 libgphoto2-port12:i386 libgstreamer-plugins-base1.0-0:i386 libgstreamer1.0-0:i386 libieee1284-3:i386
  libigdgmm12:i386 libjack-jackd2-0:i386 libjq1 libldap-2.5-0:i386 libltdl7:i386 libnghttp2-14:i386 libnspr4:i386 libnss3:i386 libodbc1:i386 libodbc1 libodbc2
  libodbc2:i386 libodbccr2 libodbccr2:i386 libonig5 libopengl0:i386 libopenjp2-7:i386 liborc-0.4-0:i386 libosmesa6:i386 libpcap0.8:i386 libpci3:i386 libpciaccess0:i386
  libperl5.34:i386 libpoppler-glib8:i386 libpoppler118:i386 libpsl5:i386 librtmp1:i386 libsamplerate0:i386 libsane1:i386 libsasl2-2:i386 libsasl2-modules:i386
  libsasl2-modules-db:i386 libsdl2-2.0-0:i386 libsnmp40:i386 libsqlite3-0:i386 libssh-4:i386 libtheora0:i386 libunwind8:i386 libusb-1.0-0:i386 libv4l-0:i386
  libv4lconvert0:i386 libva-drm2:i386 libva-x11-2:i386 libva2:i386 libvisual-0.4-0:i386 libwrap0:i386 libxpm4:i386 libxss1:i386 mesa-va-drivers:i386
  ocl-icd-libopencl1:i386 playonlinux python3-natsort va-driver-all:i386 wine-staging wine-staging-amd64 wine-staging-i386:i386 winehq-staging winetricks

```

```
$ sudo rm -rf /etc/apt/keyrings/
$ sudo rm /etc/apt/sources.list.d/winehq-jammy.sources 
$ sudo apt update
```

```
$ sudo apt-get --install-recommends install playonlinux

The following additional packages will be installed:
  fonts-wine glib-networking:i386 gstreamer1.0-plugins-base:i386 gstreamer1.0-plugins-good:i386 gstreamer1.0-x:i386 icoutils jq libaa1:i386 libasound2:i386
  libasound2-plugins:i386 libavc1394-0:i386 libcaca0:i386 libcapi20-3:i386 libcdparanoia0:i386 libcurl4:i386 libdecor-0-0:i386 libdecor-0-plugin-1-cairo:i386
  libdv4:i386 libdw1:i386 libexif12:i386 libfaudio0:i386 libgd3:i386 libgphoto2-6:i386 libgphoto2-port12:i386 libgsm1:i386 libgstreamer-plugins-base1.0-0:i386
  libgstreamer-plugins-good1.0-0:i386 libgstreamer1.0-0:i386 libiec61883-0:i386 libjack-jackd2-0:i386 libjq1 libldap-2.5-0:i386 libltdl7:i386 libmp3lame0:i386
  libmpg123-0:i386 libncurses6:i386 libncursesw6:i386 libnghttp2-14:i386 libodbc2:i386 libonig5 libopenal1:i386 liborc-0.4-0:i386 libosmesa6:i386 libpcap0.8:i386
  libproxy1v5:i386 libpsl5:i386 libraw1394-11:i386 librtmp1:i386 libsamplerate0:i386 libsasl2-2:i386 libsasl2-modules:i386 libsasl2-modules-db:i386 libsdl2-2.0-0:i386
  libshout3:i386 libslang2:i386 libsndio7.0:i386 libsoup2.4-1:i386 libspeex1:i386 libsqlite3-0:i386 libssh-4:i386 libstb0:i386 libtag1v5:i386 libtag1v5-vanilla:i386
  libtheora0:i386 libtwolame0:i386 libunwind8:i386 libusb-1.0-0:i386 libv4l-0:i386 libv4lconvert0:i386 libvisual-0.4-0:i386 libvkd3d1:i386 libvpx7:i386
  libwavpack1:i386 libwine:i386 libxpm4:i386 libxslt1.1:i386 libxss1:i386 libxv1:i386 libz-mingw-w64 ocl-icd-libopencl1:i386 python3-natsort wine wine32:i386
Suggested packages:
  gvfs:i386 libterm-readline-gnu-perl | libterm-readline-perl-perl libdv-bin:i386 oss-compat:i386 libgd-tools:i386 gphoto2:i386 libvisual-0.4-plugins:i386
  gstreamer1.0-tools:i386 jackd2:i386 odbc-postgresql:i386 tdsodbc:i386 libportaudio2:i386 libraw1394-doc:i386 libsasl2-modules-gssapi-mit:i386
  | libsasl2-modules-gssapi-heimdal:i386 libsasl2-modules-ldap:i386 libsasl2-modules-otp:i386 libsasl2-modules-sql:i386 sndiod:i386 speex:i386 gstreamer1.0-libav:i386
  gstreamer1.0-plugins-bad:i386 gstreamer1.0-plugins-ugly:i386 opencl-icd:i386 winbind python-natsort-doc q4wine winetricks wine-binfmt dosbox exe-thumbnailer
  | kio-extras wine32-preloader:i386
Recommended packages:
  libvkd3d-shader1:i386

```

```
$ sudo apt-get --install-recommends install wine

The following additional packages will be installed:
  fonts-wine glib-networking:i386 gstreamer1.0-plugins-base:i386 gstreamer1.0-plugins-good:i386 gstreamer1.0-x:i386 libaa1:i386 libasound2:i386 libasound2-plugins:i386
  libavc1394-0:i386 libcaca0:i386 libcapi20-3:i386 libcapi20-3 libcdparanoia0:i386 libcurl4:i386 libdecor-0-0:i386 libdecor-0-plugin-1-cairo:i386 libdv4:i386
  libdw1:i386 libexif12:i386 libfaudio0 libfaudio0:i386 libgd3:i386 libgphoto2-6:i386 libgphoto2-port12:i386 libgsm1:i386 libgstreamer-plugins-base1.0-0:i386
  libgstreamer-plugins-good1.0-0:i386 libgstreamer1.0-0:i386 libiec61883-0:i386 libjack-jackd2-0:i386 libldap-2.5-0:i386 libltdl7:i386 libmp3lame0:i386
  libmpg123-0:i386 libncurses6:i386 libncursesw6:i386 libnghttp2-14:i386 libodbc2 libodbc2:i386 libopenal1:i386 liborc-0.4-0:i386 libosmesa6:i386 libpcap0.8:i386
  libproxy1v5:i386 libpsl5:i386 libraw1394-11:i386 librtmp1:i386 libsamplerate0:i386 libsasl2-2:i386 libsasl2-modules:i386 libsasl2-modules-db:i386 libsdl2-2.0-0:i386
  libshout3:i386 libslang2:i386 libsndio7.0:i386 libsoup2.4-1:i386 libspeex1:i386 libsqlite3-0:i386 libssh-4:i386 libstb0 libstb0:i386 libtag1v5:i386
  libtag1v5-vanilla:i386 libtheora0:i386 libtwolame0:i386 libunwind8:i386 libusb-1.0-0:i386 libv4l-0:i386 libv4lconvert0:i386 libvisual-0.4-0:i386 libvkd3d1
  libvkd3d1:i386 libvpx7:i386 libwavpack1:i386 libwine libwine:i386 libxpm4:i386 libxslt1.1:i386 libxss1:i386 libxv1:i386 libz-mingw-w64 ocl-icd-libopencl1:i386
  wine32:i386 wine64
Suggested packages:
  gvfs:i386 libdv-bin:i386 oss-compat:i386 libgd-tools:i386 gphoto2:i386 libvisual-0.4-plugins:i386 gstreamer1.0-tools:i386 jackd2:i386 odbc-postgresql tdsodbc
  odbc-postgresql:i386 tdsodbc:i386 libportaudio2:i386 libraw1394-doc:i386 libsasl2-modules-gssapi-mit:i386 | libsasl2-modules-gssapi-heimdal:i386
  libsasl2-modules-ldap:i386 libsasl2-modules-otp:i386 libsasl2-modules-sql:i386 sndiod:i386 speex:i386 gstreamer1.0-plugins-bad gstreamer1.0-libav:i386
  gstreamer1.0-plugins-bad:i386 gstreamer1.0-plugins-ugly:i386 opencl-icd:i386 q4wine winbind winetricks playonlinux wine-binfmt dosbox exe-thumbnailer | kio-extras
  wine32-preloader:i386 wine64-preloader
Recommended packages:
  libvkd3d-shader1 libvkd3d-shader1:i386
```

```
$ sudo apt install winetricks fuseiso
$ winetricks --version
20210206 - sha256sum: 0f21da98811e0bfda16a7d6d6b8e860a9cedbd4e836c7dd9b02f068d3092ee2e
```

```
$ sudo apt install mono-runtime
$ sudo apt install mono-complete
The following additional packages will be installed:
  libjs-xmlextras libmono-2.0-1 libmono-profiler libmonoboehm-2.0-1
  mono-4.0-service mono-utils mono-xsp4 mono-xsp4-base monodoc-base
  monodoc-http monodoc-manual
Suggested packages:
  monodoc-gtk-manual monodoc-gecko-manual monodoc-nunit-manual
```

```
$ sudo cp /usr/share/doc/wine/examples/wine.desktop /usr/share/applications/
```

```
$ sudo apt autoremove wine playonlinux

The following packages will be REMOVED:
  fonts-wine fuseiso glib-networking:i386 gstreamer1.0-plugins-base:i386 gstreamer1.0-plugins-good:i386 gstreamer1.0-x:i386 icoutils jq libaa1:i386 libasound2:i386
  libasound2-plugins:i386 libavc1394-0:i386 libcaca0:i386 libcapi20-3:i386 libcapi20-3 libcdparanoia0:i386 libcurl4:i386 libdecor-0-0:i386
  libdecor-0-plugin-1-cairo:i386 libdv4:i386 libdw1:i386 libexif12:i386 libfaudio0 libfaudio0:i386 libgd3:i386 libgphoto2-6:i386 libgphoto2-port12:i386 libgsm1:i386
  libgstreamer-plugins-base1.0-0:i386 libgstreamer-plugins-good1.0-0:i386 libgstreamer1.0-0:i386 libiec61883-0:i386 libjack-jackd2-0:i386 libjq1 libldap-2.5-0:i386
  libltdl7:i386 libmp3lame0:i386 libmpg123-0:i386 libnghttp2-14:i386 libodbc2 libodbc2:i386 libonig5 libopenal1:i386 liborc-0.4-0:i386 libosmesa6:i386 libpcap0.8:i386
  libproxy1v5:i386 libpsl5:i386 libraw1394-11:i386 librtmp1:i386 libsamplerate0:i386 libsasl2-2:i386 libsasl2-modules:i386 libsasl2-modules-db:i386 libsdl2-2.0-0:i386
  libshout3:i386 libslang2:i386 libsndio7.0:i386 libsoup2.4-1:i386 libspeex1:i386 libsqlite3-0:i386 libssh-4:i386 libstb0 libstb0:i386 libtag1v5:i386
  libtag1v5-vanilla:i386 libtheora0:i386 libtwolame0:i386 libunwind8:i386 libusb-1.0-0:i386 libv4l-0:i386 libv4lconvert0:i386 libvisual-0.4-0:i386 libvkd3d1
  libvkd3d1:i386 libvpx7:i386 libwavpack1:i386 libwine libwine:i386 libxpm4:i386 libxslt1.1:i386 libxss1:i386 libxv1:i386 libz-mingw-w64 ocl-icd-libopencl1:i386
  playonlinux python3-natsort wine wine32:i386 wine64 winetricks
```

## 配置wine

如下只使用Builtin DLL

```
advapi32, capi2032, ddraw, gdi32, glu32, icmp, iphlpapi, kernel32, mswsock, ntdll, opengl32, stdole2.tlb, stdole32.tlb, twain_32, unicows, user32, vdmdbg, w32skrnl, winealsa.drv, wined3d, winejoystick.drv, wineoss.drv, wineps.drv, winex11.drv, winmm, wintab32, wnaspi32, wow32, ws2_32, wsock32
```

用repo自带的wine版本6.0.3, winecfg没有要安装wine-mono

```
$ sudo update-alternatives --config wine
There is only one alternative in link group wine (providing /usr/bin/wine): /usr/bin/wine-stable
```

环境变量是

```
export WINEPREFIX=$HOME/.wine/
# export WINEARCH=win32
export WINEARCH=win64
export LANG=zh_CN.UTF-8
# alias wine='env LC_ALL=zh_CN.UTF-8 LANG=zh_CN.UTF-8 WINEARCH=win32 WINEPREFIX=/home/andy/.wine wine'
alias wine='env LC_ALL=zh_CN.UTF-8 LANG=zh_CN.UTF-8 WINEARCH=win64 WINEPREFIX=/home/andy/.wine wine'
```

安装 `winrar-x64-611.exe`，没有要安装wine-gecho

`/home/andy/.local/share/applications`里 自动生成的desktop大概像这样

```
Exec=env WINEPREFIX="/home/andy/.wine/" wine-stable start /ProgIDOpen WinRAR %f
```

不会有驱动器丢失问题，打开rar文件正常

```
$ wine msiexec /i wine-mono-7.0.0-x86.msi
$ wine msiexec /i wine-gecko-2.47.2-x86.msi
$ wine msiexec /i wine-gecko-2.47.2-x86_64.msi

$ sudo apt install winbind
Suggested packages:
  libnss-winbind libpam-winbind
```

[https://github.com/Winetricks/winetricks/src](https://github.com/Winetricks/winetricks/src)

```
$ sudo winetricks --self-update
$ winetricks --version
20220411-next - sha256sum: 013a9062d25b07ab3cc5d60e664bd171899a397a8614fa953bc2b8e9a9fff049
$ WINEPREFIX="/home/andy/.wine" winetricks -q mfc42 vcrun6sp6
```

```
winetricks --gui
env LC_ALL=zh_CN.UTF-8 LANG=zh_CN.UTF-8 WINEARCH=win64 WINEPREFIX=/home/andy/.wine winetricks --gui

也可以像这样命令行添加
winetricks vb6run vcrun6 vcrun6sp6 secur32 msvcirt mfc42 riched20 riched30 ie6 gdiplus
winetricks cmd comctl32 gdiplus mfc42 vcrun2003 vcrun2005 vcrun2008 vcrun2010 riched20 riched30
winetricks msxml3 gdiplus riched20 riched30 vcrun6 vcrun2005 ie6 flash
winetricks win2k vcrun2005
winetricks vcrun2005sp1
winetricks win2k vcrun2005sp1
winetricks -q dotnet40
$ winetricks -q vb6run vcrun6 vcrun6sp6 secur32 msvcirt mfc42 riched20 riched30 gdiplus cmd comctl32 mfc42 vcrun2003 vcrun2008 vcrun2010 ie6 msxml3 flash win2k vcrun2005 vcrun2005sp1
```

64bit可行的几个

```
$ winetricks -q vb6run vcrun6 vcrun6sp6 secur32 msvcirt mfc42 cmd comctl32 mfc42 vcrun2003 msxml3
$ winetricks -q gdiplus riched20 riched30
$ winetricks -q allfonts
$ winetricks --force cjkfonts fakechinese fakejapanese fakekorean fakejapanese_ipamona fakejapanese_vlgothic pptfonts
```

```
com1 -> /dev/ttyS0
...
com32 -> /dev/ttyS31
```

```
$ find -name '*.desktop' | xargs perl -pi -e 's|^(.*)?\/dosdevices\/e\:\/home\/andy\/\.wine(.*)$|$1$2|g'
$ for files in `find -name '*.desktop'`; do echo $files; echo $files | xargs perl -pi -e 's|^(.*)?\/dosdevices\/e\:\/home\/andy\/\.wine(.*)$|$1$2|g'; done
$ a='Exec=env WINEPREFIX="/home/andy/.wine/dosdevices/e:/home/andy/.wine" wine start /ProgIDOpen WinRAR %f'
$ echo $a | sed -r -e 's/^(.*)?\/dosdevices\/e\:\/home\/andy\/\.wine(.*)$/\1\2/'Exec=env WINEPREFIX="/home/andy/.wine" wine start /ProgIDOpen WinRAR %f
$ echo $a | perl -p -e 's|^(.*)?\/dosdevices\/e\:\/home\/andy\/\.wine(.*)$|$1$2|'
$ echo './wine-extension-pdf.desktop' | sed 's/$/"/' | sed 's/^/"/'
```

批量修复desktop文件

```
SAVEIFS=$IFS
IFS=$(echo -en "\n\b")
for files in `find -name '*.desktop'`; do echo $files | sed 's/$/"/' | sed 's/^/"/' | xargs perl -pi -e 's|^(.*)?\/dosdevices\/e\:\/home\/andy\/\.wine(.*)$|$1$2|g' ; done
```

补齐winetricks缓存，应该要挂代理

```
$ winetricks dlls list | grep -e "\[可下载\]"
$ winetricks list-all | grep -e "\[可下载\]"
$ env WINEARCH=win32 WINEPREFIX=~/.wine32 winetricks xxx
$ winetricks dlls list | grep -e "\[可下载\]" | tee list.txt
```

---

# crossover

[https://www.crossoverchina.com/xiazai.html#linux](https://www.crossoverchina.com/xiazai.html#linux)
[https://cpv2.mairuan.com/crossoverchina.com/trial/Linux/crossover-22.deb](https://cpv2.mairuan.com/crossoverchina.com/trial/Linux/crossover-22.deb)

```
$ sudo dpkg -i crossover-22.deb
```

可以先不安装这玩意

---

# cvs

```
$ sudo apt-get install cvs 
Suggested packages:
  mksh rcs
```

---

# OpenGL支持

```
$ sudo apt-get install xlibmesa-glu-dev
Note, selecting 'libglu1-mesa-dev' instead of 'xlibmesa-glu-dev'
The following additional packages will be installed:
  libgl-dev libglx-dev
The following NEW packages will be installed:
  libgl-dev libglu1-mesa-dev libglx-dev
```

```
sudo apt-get install libglx-dev 
```

```
$ sudo apt install libgl1-mesa-dev

The following additional packages will be installed:
  libgles-dev libgles1 libglvnd-core-dev libglvnd-dev
```

---

# apt-show-versions

```
$ sudo apt install apt-show-versions
$ apt-show-versions | fgrep avail
```

---

# fakechroot

```
$ sudo apt install fakechroot schroot debootstrap

The following additional packages will be installed:
  libfakechroot schroot-common
Suggested packages:
  squid-deb-proxy-client debian-archive-keyring arch-test aufs-tools
  | unionfs-fuse qemu-user-static
```

---

# adb

```
$ sudo apt-get install android-tools-adb

Note, selecting 'adb' instead of 'android-tools-adb'
The following additional packages will be installed:
  android-libadb android-libbase android-libboringssl android-libcrypto-utils
  android-libcutils android-liblog android-sdk-platform-tools-common
```

---

# cpu-x

```
$ sudo apt install cpu-x libcpuid15 libglfw3
```

---

# python3-examples

```
$ sudo apt install python3-examples python3-extras

The following additional packages will be installed:
  python3-fixtures python3-pbr python3-testtools python3.10-examples
Suggested packages:
  python-testtools-doc
```

---

# peco

```
$ sudo apt install peco
```

---

# samba

```
$ sudo apt-get install samba samba-common samba-client

Note, selecting 'smbclient' instead of 'samba-client'
samba-common is already the newest version (2:4.15.9+dfsg-0ubuntu0.2).
smbclient is already the newest version (2:4.15.9+dfsg-0ubuntu0.2).
The following additional packages will be installed:
  ibverbs-providers libcephfs2 libgfapi0 libgfrpc0 libgfxdr0 libglusterfs0 libibverbs1 librados2 librdmacm1 python3-dnspython python3-markdown python3-pygments
  python3-requests-toolbelt samba-vfs-modules tdb-tools
Suggested packages:
  python3-sniffio python3-trio python-markdown-doc python-pygments-doc ttf-bitstream-vera bind9 bind9utils ctdb ldb-tools ntp | chrony smbldap-tools winbind
```

---

# sqlite

```
$ sudo apt install sqlite3 sqlite3-doc sqlitebrowser

sqlite3 is already the newest version (3.37.2-2ubuntu0.1).
sqlite3-doc is already the newest version (3.37.2-2ubuntu0.1).
The following additional packages will be installed:
  libqscintilla2-qt5-15 libqscintilla2-qt5-l10n libqt5printsupport5 libqt5xml5
Suggested packages:
  libqscintilla2-doc
```

```
$ sudo apt-get install libdb5.3-dev libgdbm-dev libsqlite3-dev libssl-dev

Suggested packages:
  db5.3-doc libssl-doc
```

repo的版本maximize按钮没有，从git拉取最新的编译出deb可以解决。需要安装qt5

PKGBUILD

```
# Maintainer: sakure <duarm at disroot dot org>
# Old Maintainer: nixi <nixi at cock dot li>
# Contributor: <darkfeline@felesatra.moe>
# Contributor: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Douglas Soares de Andrade <dsandrade@gmail.com>
# Contributor: Michael Fellinger <m.fellinger@gmail.com>

pkgname=sqlitebrowser-git
pkgver=3.12.99
pkgrel=1
pkgdesc="SQLite Database browser is a light GUI editor for SQLite databases, built on top of Qt"
arch=('i386' 'amd64')
url="http://sqlitebrowser.org/"
license=('GPL3')
provides=('sqlitebrowser')
conflicts=('sqlitebrowser')
#depends=('libc6' 'libgcc-s1' 'libqscintilla2-qt5-15' 'libqt5core5a' 'libqt5gui5' 'libqt5gui5-gles' 'libqt5network5' 'libqt5printsupport5' 'libqt5widgets5' 'libqt5xml5' 'libsqlite3-0' 'libstdc++6')
depends=('libc6' 'libgcc-s1' 'libqscintilla2-qt5-15' 'libqt5core5a' 'libqt5gui5' 'libqt5network5' 'libqt5printsupport5' 'libqt5widgets5' 'libqt5xml5' 'libsqlite3-0' 'libstdc++6')
makedepends=('cmake')
install=sqlitebrowser.install
source=($pkgname'::git+https://github.com/sqlitebrowser/sqlitebrowser.git')
md5sums=('SKIP')

#pkgver() {
#	cd "$pkgname"
#	git describe --long --tags | sed 's/\([^-]*-g\)/r\1/;s/^non-daw-v//;s/-/./g'
#}

build() {
	cd $srcdir/$pkgname
	cmake -DUSE_QT5=TRUE -DCMAKE_INSTALL_PREFIX=/usr .
	make
}

package() {
	cd $srcdir/$pkgname
	make install DESTDIR=$pkgdir
	install -Dm0644 distri/sqlitebrowser.desktop $pkgdir/usr/share/applications/sqlitebrowser.desktop
	install -dm0755 $pkgdir/usr/share/icons/
	install -m0644 images/logo.svg $pkgdir/usr/share/icons/
}
```

sqlitebrowser.install

```
post_install() {
	[[ -x usr/bin/update-desktop-database ]] && update-desktop-database -q || true
	[[ -x usr/bin/gtk-update-icon-cache ]] && gtk-update-icon-cache -q -t -f usr/share/icons/hicolor || true
}

post_upgrade() {
	post_install
}


post_remove() {
	post_install
}
```

```
$ sudo apt remove sqlitebrowser
$ sudo dpkg -i sqlitebrowser-git_3.12.99-1_amd64.deb
```

---

# qt5

```
$ sudo apt install qtcreator qtbase5-dev qt5-qmake cmake
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
cmake is already the newest version (3.22.1-1ubuntu1.22.04.1).
The following additional packages will be installed:
  binfmt-support clang-14 clang-tidy clang-tidy-14 clang-tools-14
  libclang-common-14-dev libclang-cpp14 libclang1-14 libegl-dev
  libkf5syntaxhighlighting-data libkf5syntaxhighlighting5 libllvm14
  libncurses-dev libobjc-11-dev libobjc4 libpfm4 libqt5concurrent5
  libqt5designer5 libqt5designercomponents5 libqt5help5 libqt5opengl5
  libqt5opengl5-dev libqt5positioning5 libqt5qml5 libqt5qmlmodels5
  libqt5qmlworkerscript5 libqt5quick5 libqt5quicktest5 libqt5quickwidgets5
  libqt5sensors5 libqt5serialport5 libqt5sql5 libqt5sql5-sqlite libqt5test5
  libqt5webchannel5 libqt5webkit5 libqt5xmlpatterns5 libtinfo-dev
  libvulkan-dev libyaml-cpp0.7 libz3-4 libz3-dev llvm-14 llvm-14-dev
  llvm-14-linker-tools llvm-14-runtime llvm-14-tools qdoc-qt5
  qhelpgenerator-qt5 qml-module-qtgraphicaleffects qml-module-qtqml
  qml-module-qtqml-models2 qml-module-qtquick-controls
  qml-module-qtquick-layouts qml-module-qtquick-window2 qml-module-qtquick2
  qmlscene qt3d5-doc qt5-assistant qt5-doc qt5-qmake-bin
  qt5-qmltooling-plugins qtattributionsscanner-qt5 qtbase5-dev-tools
  qtbase5-doc qtcharts5-doc qtchooser qtconnectivity5-doc qtcreator-data
  qtcreator-doc qtdatavisualization5-doc qtdeclarative5-dev-tools
  qtdeclarative5-doc qtgamepad5-doc qtgraphicaleffects5-doc qtlocation5-doc
  qtmultimedia5-doc qtnetworkauth5-doc qtquickcontrols2-5-doc
  qtquickcontrols5-doc qtscript5-doc qtscxml5-doc qtsensors5-doc
  qtserialbus5-doc qtserialport5-doc qtsvg5-doc qttools5-dev-tools
  qttools5-doc qtvirtualkeyboard5-doc qtwayland5-doc qtwebchannel5-doc
  qtwebengine5-doc qtwebsockets5-doc qtwebview5-doc qtx11extras5-doc
  qtxmlpatterns5-dev-tools qtxmlpatterns5-doc
Suggested packages:
  clang-14-doc ncurses-doc llvm-14-doc default-libmysqlclient-dev firebird-dev
  libpq-dev unixodbc-dev clazy meson valgrind python3-pylsp
```

```
$ sudo apt install qtbase5-dev qt5-qmake qttools5-dev qttools5-dev-tools qtwebengine5-dev libqt5svg5-dev libqt5websockets5-dev

qttools5-dev-tools is already the newest version (5.15.3-1).
qttools5-dev-tools set to manually installed.
qt5-qmake is already the newest version (5.15.3+dfsg-2ubuntu0.2).
qtbase5-dev is already the newest version (5.15.3+dfsg-2ubuntu0.2).
The following additional packages will be installed:
  libminizip1 libqt5positioning5-plugins libqt5positioningquick5
  libqt5quickparticles5 libqt5quickshapes5 libqt5webchannel5-dev
  libqt5webengine-data libqt5webengine5 libqt5webenginecore5
  libqt5webenginewidgets5 libqt5websockets5 libre2-9 qtdeclarative5-dev
  qtpositioning5-dev
```

Could not find a package configuration file provided by "Qt5LinguistTools"

```
$ sudo apt install qttools5-dev qttools5-dev-tools
```

据说要设置CMAKE_PREFIX_PATH环境变量

```
$ printenv | grep CMAKE
CMAKE_PREFIX_PATH=/usr/lib/x86_64-linux-gnu/cmake/Qt5LinguistTools
```

```
$ sudo apt install libqt5x11extras5
```

---

# qt6

```
$ sudo apt install qt6-base-dev

The following additional packages will be installed:
  libb2-1 libopengl-dev libqt6concurrent6 libqt6core6 libqt6dbus6 libqt6gui6 libqt6network6 libqt6opengl6 libqt6opengl6-dev libqt6openglwidgets6 libqt6printsupport6
  libqt6sql6 libqt6sql6-sqlite libqt6test6 libqt6widgets6 libqt6xml6 libts0 qmake6 qmake6-bin qt6-base-dev-tools qt6-gtk-platformtheme qt6-qpa-plugins
```

```
$ sudo apt-get install libglu1-mesa-dev freeglut3-dev mesa-common-dev

libglu1-mesa-dev is already the newest version (9.0.2-1).
The following additional packages will be installed:
  libdrm-dev libpciaccess-dev libxt-dev
Suggested packages:
  libxt-doc
```

```
$ sudo apt install gcc g++ gdb binutils build-essential openssl libssl-dev libssl-dev libgl1-mesa-dev
```

```
$ sudo apt install qtcreator qmake6 qtchooser qt6-tools-dev assistant-qt6 designer-qt6 qt6-qmltooling-plugins

qmake6 is already the newest version (6.2.4+dfsg-2ubuntu1).
qmake6 set to manually installed.
qtchooser is already the newest version (66-2build1).
qtchooser set to manually installed.
qtcreator is already the newest version (6.0.2-2build1).
The following additional packages will be installed:
  libqt6designer6 libqt6designercomponents6 libqt6help6 libqt6qml6 libqt6qmlmodels6 libqt6quick6 libqt6quickwidgets6 libqt6uitools6
```

---

# build-essential

```
$ sudo apt install build-essential git cmake libsndfile1-dev libjack-jackd2-dev libfftw3-dev emacs libudev-dev

build-essential is already the newest version (12.9ubuntu3).
cmake is already the newest version (3.22.1-1ubuntu1.22.04.1).
git is already the newest version (1:2.34.1-1ubuntu1.5).
The following additional packages will be installed:
  emacs-bin-common emacs-common emacs-el emacs-gtk libfftw3-bin libfftw3-long3
  libfftw3-quad3 libflac-dev libm17n-0 libogg-dev libopus-dev libotf1
  libvorbis-dev m17n-db
Suggested packages:
  mailutils emacs-common-non-dfsg libfftw3-doc m17n-docs
```

```
$ sudo apt-get install libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm

libbz2-dev is already the newest version (1.0.8-5build1).
libbz2-dev set to manually installed.
wget is already the newest version (1.21.2-2ubuntu1).
curl is already the newest version (7.81.0-1ubuntu1.6).
libsqlite3-dev is already the newest version (3.37.2-2ubuntu0.1).
The following additional packages will be installed:
  llvm-runtime
Suggested packages:
  readline-doc
```

```
sudo apt-get install bison flex
```

```
$ sudo apt-get install curl texinfo quilt dc libcrypt-ssleay-perl ccache quilt libusb-dev libexpect-perl mono-devel libgtk2.0-dev

dc is already the newest version (1.07.1-3build1).
libgtk2.0-dev is already the newest version (2.24.33-2ubuntu2).
curl is already the newest version (7.81.0-1ubuntu1.6).
The following additional packages will be installed:
  ca-certificates-mono cli-common libbytes-random-secure-perl libcrypt-random-seed-perl libgdiplus libhiredis0.14 libio-pty-perl libio-stty-perl
  libmath-random-isaac-perl libmath-random-isaac-xs-perl libmono-2.0-dev libmono-accessibility4.0-cil libmono-btls-interface4.0-cil libmono-cairo4.0-cil
  libmono-cecil-private-cil libmono-cil-dev libmono-codecontracts4.0-cil libmono-compilerservices-symbolwriter4.0-cil libmono-corlib4.5-cil libmono-corlib4.5-dll
  libmono-cscompmgd0.0-cil libmono-csharp4.0c-cil libmono-custommarshalers4.0-cil libmono-data-tds4.0-cil libmono-db2-1.0-cil libmono-debugger-soft4.0a-cil
  libmono-http4.0-cil libmono-i18n-cjk4.0-cil libmono-i18n-mideast4.0-cil libmono-i18n-other4.0-cil libmono-i18n-rare4.0-cil libmono-i18n-west4.0-cil
  libmono-i18n4.0-all libmono-i18n4.0-cil libmono-ldap4.0-cil libmono-management4.0-cil libmono-messaging-rabbitmq4.0-cil libmono-messaging4.0-cil
  libmono-microsoft-build-engine4.0-cil libmono-microsoft-build-framework4.0-cil libmono-microsoft-build-tasks-v4.0-4.0-cil
  libmono-microsoft-build-utilities-v4.0-4.0-cil libmono-microsoft-build4.0-cil libmono-microsoft-csharp4.0-cil libmono-microsoft-visualc10.0-cil
  libmono-microsoft-web-infrastructure1.0-cil libmono-oracle4.0-cil libmono-parallel4.0-cil libmono-peapi4.0a-cil libmono-posix4.0-cil libmono-rabbitmq4.0-cil
  libmono-relaxng4.0-cil libmono-security4.0-cil libmono-sharpzip4.84-cil libmono-simd4.0-cil libmono-smdiagnostics0.0-cil libmono-sqlite4.0-cil
  libmono-system-componentmodel-composition4.0-cil libmono-system-componentmodel-dataannotations4.0-cil libmono-system-configuration-install4.0-cil
  libmono-system-configuration4.0-cil libmono-system-core4.0-cil libmono-system-data-datasetextensions4.0-cil libmono-system-data-entity4.0-cil
  libmono-system-data-linq4.0-cil libmono-system-data-services-client4.0-cil libmono-system-data-services4.0-cil libmono-system-data4.0-cil
  libmono-system-deployment4.0-cil libmono-system-design4.0-cil libmono-system-drawing-design4.0-cil libmono-system-drawing4.0-cil libmono-system-dynamic4.0-cil
  libmono-system-enterpriseservices4.0-cil libmono-system-identitymodel-selectors4.0-cil libmono-system-identitymodel4.0-cil
  libmono-system-io-compression-filesystem4.0-cil libmono-system-io-compression4.0-cil libmono-system-json-microsoft4.0-cil libmono-system-json4.0-cil
  libmono-system-ldap-protocols4.0-cil libmono-system-ldap4.0-cil libmono-system-management4.0-cil libmono-system-messaging4.0-cil
  libmono-system-net-http-formatting4.0-cil libmono-system-net-http-webrequest4.0-cil libmono-system-net-http4.0-cil libmono-system-net4.0-cil
  libmono-system-numerics-vectors4.0-cil libmono-system-numerics4.0-cil libmono-system-reactive-core2.2-cil libmono-system-reactive-debugger2.2-cil
  libmono-system-reactive-experimental2.2-cil libmono-system-reactive-interfaces2.2-cil libmono-system-reactive-linq2.2-cil
  libmono-system-reactive-observable-aliases0.0-cil libmono-system-reactive-platformservices2.2-cil libmono-system-reactive-providers2.2-cil
  libmono-system-reactive-runtime-remoting2.2-cil libmono-system-reactive-windows-forms2.2-cil libmono-system-reactive-windows-threading2.2-cil
  libmono-system-reflection-context4.0-cil libmono-system-runtime-caching4.0-cil libmono-system-runtime-durableinstancing4.0-cil
  libmono-system-runtime-serialization-formatters-soap4.0-cil libmono-system-runtime-serialization4.0-cil libmono-system-runtime4.0-cil libmono-system-security4.0-cil
  libmono-system-servicemodel-activation4.0-cil libmono-system-servicemodel-discovery4.0-cil libmono-system-servicemodel-internals0.0-cil
  libmono-system-servicemodel-routing4.0-cil libmono-system-servicemodel-web4.0-cil libmono-system-servicemodel4.0a-cil libmono-system-serviceprocess4.0-cil
  libmono-system-threading-tasks-dataflow4.0-cil libmono-system-transactions4.0-cil libmono-system-web-abstractions4.0-cil
  libmono-system-web-applicationservices4.0-cil libmono-system-web-dynamicdata4.0-cil libmono-system-web-extensions-design4.0-cil libmono-system-web-extensions4.0-cil
  libmono-system-web-http-selfhost4.0-cil libmono-system-web-http-webhost4.0-cil libmono-system-web-http4.0-cil libmono-system-web-mobile4.0-cil
  libmono-system-web-mvc3.0-cil libmono-system-web-razor2.0-cil libmono-system-web-regularexpressions4.0-cil libmono-system-web-routing4.0-cil
  libmono-system-web-services4.0-cil libmono-system-web-webpages-deployment2.0-cil libmono-system-web-webpages-razor2.0-cil libmono-system-web-webpages2.0-cil
  libmono-system-web4.0-cil libmono-system-windows-forms-datavisualization4.0a-cil libmono-system-windows-forms4.0-cil libmono-system-windows4.0-cil
  libmono-system-workflow-activities4.0-cil libmono-system-workflow-componentmodel4.0-cil libmono-system-workflow-runtime4.0-cil libmono-system-xaml4.0-cil
  libmono-system-xml-linq4.0-cil libmono-system-xml-serialization4.0-cil libmono-system-xml4.0-cil libmono-system4.0-cil libmono-tasklets4.0-cil
  libmono-webbrowser4.0-cil libmono-webmatrix-data4.0-cil libmono-windowsbase4.0-cil libmono-xbuild-tasks4.0-cil libmonosgen-2.0-1 libmonosgen-2.0-dev libnunit-cil-dev
  libnunit-console-runner2.6.3-cil libnunit-core-interfaces2.6.3-cil libnunit-core2.6.3-cil libnunit-framework2.6.3-cil libnunit-mocks2.6.3-cil libnunit-util2.6.3-cil
  libtext-unidecode-perl libusb-0.1-4 mono-4.0-gac mono-csharp-shell mono-gac mono-mcs mono-runtime mono-runtime-common mono-runtime-sgen mono-xbuild tex-common
Suggested packages:
  distcc | icecc libgnomeui-0 libgamin0 libnunit-doc monodoc-nunit-manual default-mta | mail-transport-agent graphviz procmail texlive-base texlive-latex-base
  texlive-plain-generic texlive-fonts-recommended
Recommended packages:
  libgluezilla
```

```
$ sudo apt-get install xinetd tftpd nfs-kernel-server minicom build-essential libncurses5-dev u-boot-tools autoconf automake tree git-core subversion

Note, selecting 'git' instead of 'git-core'
autoconf is already the newest version (2.71-2).
automake is already the newest version (1:1.16.5-1.3).
build-essential is already the newest version (12.9ubuntu3).
tree is already the newest version (2.0.2-1).
tree set to manually installed.
git is already the newest version (1:2.34.1-1ubuntu1.5).
subversion is already the newest version (1.14.1-3ubuntu0.22.04.1).
The following additional packages will be installed:
  device-tree-compiler libevent-core-2.1-7 libfdt1 libnfsidmap1 libubootenv-tool libubootenv0.1 lrzsz nfs-common rpcbind
Suggested packages:
  open-iscsi watchdog
```

```
$ sudo apt-get install fakeroot pkg-config
$ sudo apt-get install tofrodos iproute2 gawk
$ sudo apt-get install gcc git make
$ sudo apt-get install xvfb
$ sudo apt-get install net-tools libncurses5-dev tftpd
sudo apt-get install gnupg wget diffstat chrpath socat xterm
```

```
$ sudo apt-get install zlib1g-dev zlib1g-dev:i386 libssl-dev flex bison libselinux1

bison is already the newest version (2:3.8.2+dfsg-1build1).
flex is already the newest version (2.6.4-8build2).
libselinux1 is already the newest version (3.3-1build2).
libssl-dev is already the newest version (3.0.2-0ubuntu1.7).
zlib1g-dev is already the newest version (1:1.2.11.dfsg-2ubuntu9.2).
zlib1g-dev set to manually installed.
Suggested packages:
  glibc-doc:i386
```

```
$ sudo apt-get install autoconf libtool tar unzip texinfo zlib1g-dev gcc-multilib build-essential libsdl1.2-dev libglib2.0-dev

autoconf is already the newest version (2.71-2).
build-essential is already the newest version (12.9ubuntu3).
gcc-multilib is already the newest version (4:11.2.0-1ubuntu1).
libglib2.0-dev is already the newest version (2.72.1-1).
libtool is already the newest version (2.4.6-15build2).
tar is already the newest version (1.34+dfsg-1build3).
texinfo is already the newest version (6.8-4build1).
unzip is already the newest version (6.0-26ubuntu3.1).
zlib1g-dev is already the newest version (1:1.2.11.dfsg-2ubuntu9.2).
The following additional packages will be installed:
  libasound2-dev libcaca-dev libpulse-dev libslang2-dev
Suggested packages:
  libasound2-doc
```

```
$ sudo apt-get install screen pax gzip tar

tar is already the newest version (1.34+dfsg-1build3).
gzip is already the newest version (1.10-4ubuntu4.1).
Suggested packages:
  byobu | screenie | iselect
```

```
$ sudo apt-get install lib32z1 libncurses5 libbz2-1.0:i386 lib32stdc++6 libncurses5:i386

libbz2-1.0:i386 is already the newest version (1.0.8-5build1).
libbz2-1.0:i386 set to manually installed.
libncurses5:i386 is already the newest version (6.3-2).
lib32stdc++6 is already the newest version (12.1.0-2ubuntu1~22.04).
lib32stdc++6 set to manually installed.
The following additional packages will be installed:
  libtinfo5
```

```
$ sudo apt-get install libncurses5 libncurses5-dev
```

---

# sh 设置

```
$ sudo dpkg-reconfigure dash
选否
Removing 'diversion of /bin/sh to /bin/sh.distrib by dash'
Adding 'diversion of /bin/sh to /bin/sh.distrib by bash'
Removing 'diversion of /usr/share/man/man1/sh.1.gz to /usr/share/man/man1/sh.distrib.1.gz by dash'
Adding 'diversion of /usr/share/man/man1/sh.1.gz to /usr/share/man/man1/sh.distrib.1.gz by bash'

$ ls -al /bin/sh
lrwxrwxrwx 1 root root 4 Nov 22 12:18 /bin/sh -> bash
```

---

# tftp

```
$ sudo apt-get install tftp-hpa tftpd-hpa xinetd

xinetd is already the newest version (1:2.3.15.3-1).
Suggested packages:
  pxelinux
The following packages will be REMOVED:
  tftpd
```

```
sudo gedit /etc/default/tftpd-hpa
```

修改

```
# /etc/default/tftpd-hpa

TFTP_USERNAME="tftp"
TFTP_DIRECTORY="/srv/tftp"
TFTP_ADDRESS=":69"
TFTP_OPTIONS="--secure"
```

为

```
TFTP_USERNAME="tftp"
TFTP_DIRECTORY="/tftpboot"
TFTP_ADDRESS="0.0.0.0:69"
TFTP_OPTIONS="-l -c -s"
```

```
sudo mkdir -p /tftpboot
sudo chmod 777 /tftpboot
sudo chown nobody /tftpboot
sudo service tftpd-hpa restart
sudo systemctl start tftpd-hpa.service
sudo systemctl enable tftpd-hpa.service
sudo systemctl status tftpd-hpa.service
sudo systemctl stop xinetd.service
sudo systemctl disable xinetd.service
sudo systemctl status xinetd.service
```

确认tftp服务是否已经开启

```
netstat -an | more | grep udp | grep 69
```

显示

```
udp        0      0 0.0.0.0:69              0.0.0.0:*
```

```
netstat -au | grep tftp
```

显示

```
udp        0      0 0.0.0.0:tftp            0.0.0.0:*                *:*
```

本机测试,需要tftp客户端

```
tftp <ip>
get <testfile>
```

目标板上

```
tftp -g -r <testfile> <ip>
```

---

# ftp client

```
$ sudo apt-get install gftp

The following additional packages will be installed:
  gftp-common gftp-gtk gftp-text
```

```
$ sudo apt-get install filezilla

The following additional packages will be installed:
  filezilla-common libfilezilla-common libfilezilla24 libpugixml1v5
```

---

# BitTorrent client

```
$ sudo apt install deluge

The following additional packages will be installed:
  deluge-common deluge-gtk gir1.2-appindicator3-0.1 libboost-python1.74.0 libmodplug1 libopusfile0 libportmidi0 libsdl2-image-2.0-0 libsdl2-mixer-2.0-0
  libsdl2-ttf-2.0-0 libtorrent-rasterbar2.0 python3-attr python3-automat python3-constantly python3-geoip python3-hamcrest python3-hyperlink python3-incremental
  python3-libtorrent python3-openssl python3-pyasn1 python3-pyasn1-modules python3-pygame python3-rencode python3-service-identity python3-twisted
  python3-zope.interface
Suggested packages:
  python-attr-doc python-openssl-doc python3-openssl-dbg python-pygame-doc timidity python3-pampy python3-serial python3-tk

```

```
$ sudo apt install transmission transmission-gtk
```

---

# torbrowser

```
$ sudo apt-get install torbrowser-launcher 
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  python3-pyqt5 python3-pyqt5.sip python3-socks tor tor-geoipdb torsocks
Suggested packages:
  mixmaster apparmor-utils nyx obfs4proxy
```

```
$ sudo apt-get install apparmor-utils nyx obfs4proxy

The following additional packages will be installed:
  python3-apparmor python3-libapparmor python3-stem
Suggested packages:
  vim-addon-manager
```

`/home/andy/.cache/torbrowser/download`

删掉torbrowser-launcher 
```
sudo apt purge torbrowser-launcher 
sudo apt install python3-gpg python3-packaging
```
直接下载解压用，不要打包成deb，一大堆权限要解决

---

# usbview

```
$ sudo apt-get install usbview
$ sudo usbview
```

---

# qr code 二维码工具

```
$ sudo apt install qtqr

The following additional packages will be installed:
  libqrencode4 libzbar0 python3-qrtools python3-zbar qrencode
```

---

# cutecom

```
$ sudo apt install cutecom
```

---

# tree

```
$ sudo apt install tree
```

---

# java

## openjre and openjdk

[https://www.cloudbooklet.com/how-to-install-java-on-ubuntu-22-04/](https://www.cloudbooklet.com/how-to-install-java-on-ubuntu-22-04/)

```
$ java --version
openjdk 11.0.17 2022-10-18
OpenJDK Runtime Environment (build 11.0.17+8-post-Ubuntu-1ubuntu222.04)
OpenJDK 64-Bit Server VM (build 11.0.17+8-post-Ubuntu-1ubuntu222.04, mixed mode, sharing)


$ sudo apt-get install openjdk-11-jre-headless default-jre openjdk-17-jre-headless openjdk-18-jre-headless openjdk-8-jre-headless

default-jre is already the newest version (2:1.11-72build2).
openjdk-11-jre-headless is already the newest version (11.0.17+8-1ubuntu2~22.04).
The following NEW packages will be installed:
  openjdk-17-jre-headless openjdk-18-jre-headless openjdk-8-jre-headless

$ java --version
openjdk 18.0.2-ea 2022-07-19
OpenJDK Runtime Environment (build 18.0.2-ea+9-Ubuntu-222.04)
OpenJDK 64-Bit Server VM (build 18.0.2-ea+9-Ubuntu-222.04, mixed mode, sharing)

$ sudo update-alternatives --config java
There are 4 choices for the alternative java (providing /usr/bin/java).

  Selection    Path                                            Priority   Status
------------------------------------------------------------
* 0            /usr/lib/jvm/java-18-openjdk-amd64/bin/java      1811      auto mode
  1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode
  2            /usr/lib/jvm/java-17-openjdk-amd64/bin/java      1711      manual mode
  3            /usr/lib/jvm/java-18-openjdk-amd64/bin/java      1811      manual mode
  4            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode

Press <enter> to keep the current choice[*], or type selection number:


$ sudo apt install openjdk-17-jdk openjdk-18-jdk openjdk-11-jdk openjdk-8-jdk 

The following additional packages will be installed:
  openjdk-11-jdk-headless openjdk-17-jdk-headless openjdk-17-jre openjdk-18-jdk-headless openjdk-18-jre openjdk-8-jdk-headless openjdk-8-jre
Suggested packages:
  openjdk-11-demo openjdk-11-source visualvm openjdk-17-demo openjdk-17-source openjdk-18-demo openjdk-18-source openjdk-8-demo openjdk-8-source

$ sudo update-alternatives --config javac
There are 4 choices for the alternative javac (providing /usr/bin/javac).

  Selection    Path                                          Priority   Status
------------------------------------------------------------
* 0            /usr/lib/jvm/java-18-openjdk-amd64/bin/javac   1811      auto mode
  1            /usr/lib/jvm/java-11-openjdk-amd64/bin/javac   1111      manual mode
  2            /usr/lib/jvm/java-17-openjdk-amd64/bin/javac   1711      manual mode
  3            /usr/lib/jvm/java-18-openjdk-amd64/bin/javac   1811      manual mode
  4            /usr/lib/jvm/java-8-openjdk-amd64/bin/javac    1081      manual mode

Press <enter> to keep the current choice[*], or type selection number: 

$ ls /usr/lib/jvm/
default-java               java-1.17.0-openjdk-amd64  java-11-openjdk-amd64  java-1.8.0-openjdk-amd64  java-8-openjdk-amd64  openjdk-17
java-1.11.0-openjdk-amd64  java-1.18.0-openjdk-amd64  java-17-openjdk-amd64  java-18-openjdk-amd64     openjdk-11            openjdk-18

```

可以环境变量，或者在调用前export

```
$ sudo nano /etc/environment
添加比如
JAVA_HOME="/usr/lib/jvm/java-11-openjdk-amd64"
```

整理版本

```
$ sudo apt autoremove openjdk-17-jre-headless openjdk-18-jre-headless openjdk-8-jre-headless

The following packages will be REMOVED:
  openjdk-17-jdk openjdk-17-jdk-headless openjdk-17-jre openjdk-17-jre-headless openjdk-18-jdk openjdk-18-jdk-headless openjdk-18-jre openjdk-18-jre-headless
  openjdk-8-jdk openjdk-8-jdk-headless openjdk-8-jre openjdk-8-jre-headless
```

确认openjdk-11这俩安装了

```
$ sudo apt install default-jre openjdk-11-jdk openjdk-11-jdk-headless
```

## oracle java

[https://www.oracle.com/news/announcement/oracle-releases-java-18-2022-03-22/](https://www.oracle.com/news/announcement/oracle-releases-java-18-2022-03-22/)
[https://www.oracle.com/java/technologies/javase/jdk18-archive-downloads.html](https://www.oracle.com/java/technologies/javase/jdk18-archive-downloads.html)
[https://www.oracle.com/java/technologies/downloads/](https://www.oracle.com/java/technologies/downloads/)
[https://www.java.com/en/download/](https://www.java.com/en/download/)
[https://www.oracle.com/hk/java/technologies/javase/javase8u211-later-archive-downloads.html](https://www.oracle.com/hk/java/technologies/javase/javase8u211-later-archive-downloads.html)

java17LTS

```
$ sudo apt install libc6-x32 libc6-i386
//$ wget https://download.oracle.com/java/19/latest/jdk-19_linux-x64_bin.deb
$ wget https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.deb
//$ wget https://download.oracle.com/java/18/archive/jdk-18.0.2.1_linux-x64_bin.deb
```

java8和java11

```
https://download.oracle.com/otn/java/jdk/8u351-b10/10e8cce67c7843478f41411b7003171c/jdk-8u351-linux-x64.tar.gz
https://download.oracle.com/otn/java/jdk/11.0.17%2B10/8bd089539add49a9b99e2f27eb0c4329/jdk-11.0.17_linux-x64_bin.deb
```

参考 deb解包 和 `openjdk-8-jdk.tar.gz` `openjdk-8-jdk-headless.tar.gz`的结构及脚本

用下面这些这些替换preinst，postinst，prerm里的对应部分

```
appletviewer extcheck idlj jar jarsigner java javac javadoc javafxpackager javah javap javapackager java-rmi.cgi javaws jcmd jconsole jcontrol jdb jdeps jhat jinfo jjs jmap jps jrunscript jsadebugd jstack jstat jstatd jvisualvm keytool native2ascii orbd pack200 policytool rmic rmid rmiregistry schemagen serialver servertool tnameserv unpack200 wsgen wsimport xjc
```

打包成 `jdk-8_1.8.0-351_amd64-auto.deb`

参考 deb解包 和 `jdk-18.0.2.1_linux-x64_bin.deb`

把 `jdk-8u351-linux-x64.tar.gz` 打包成 `jdk-8_1.8.0-351_amd64.deb`

添加update-alternatives备选

```
//$ sudo tar zxvf jdk-8u291-linux-x64.tar.gz -C /usr/lib/jvm
$ sudo update-alternatives --install "/usr/bin/java" "java" "/usr/lib/jvm/jdk1.8.0_291/bin/java" 1112
$ sudo update-alternatives --install "/usr/bin/javac" "javac" "/usr/lib/jvm/jdk1.8.0_291/bin/javac" 1112
$ sudo update-alternatives --install "/usr/bin/javah" "javah" "/usr/lib/jvm/jdk1.8.0_291/bin/javah" 1112
```

查看update-alternatives备选

```
$ sudo update-alternatives --config java
$ sudo update-alternatives --config javac
$ sudo update-alternatives --config javah
```

总结：

只安装 `jdk-8_1.8.0-351_amd64-auto.deb`和 `jdk-11_11.0.17-1_amd64-auto.deb`

---

# 重新打包deb

## deb解包

```
mkdir extract
mkdir extract/DEBIAN
mkdir build
dpkg -X xxx.deb extract
dpkg -e xxx.deb extract/DEBIAN/
```

## 修改deb包内容

## 修改extract/DEBIAN/control的Installed-Size

```
$ cd extract
$ du -ks usr|cut -f 1
```

## DEBIAN/md5sums文件生成（可选）

```
$ md5sum $(find * -type f -not -path 'DEBIAN/*') > DEBIAN/md5sums
```

上面那句 比这句好

```
$ md5sum $(find ./usr/ -type f | awk '!/^\.\/DEBIAN/ { print substr($0, 3) }')
```

## 打包出deb

从已有的可以执行文件，同样按照这个方法可以打包出deb

```
$ cd extract/..
$ fakeroot
# dpkg-deb -b extract/ build/
```

生成的deb在build目录

```
$ sudo dpkg -i build/jdk-8_1.8.0-351_amd64.deb
```

---

# notepadqq

```
$ sudo apt install notepadqq

The following additional packages will be installed:
  libjs-highlight.js libjs-modernizr libjs-requirejs
```

---

# cups-pdf

```
$ sudo apt install printer-driver-cups-pdf libcups2 libcups2:i386
```

---

# retext

```
$ sudo apt install retext

The following additional packages will be installed:
  docutils-common python3-docutils python3-enchant python3-markups
  python3-mdx-math python3-pyqt5.qtwebkit python3-regex python3-roman
  python3-textile
Suggested packages:
  docutils-doc fonts-linuxlibertine | ttf-linux-libertine texlive-lang-french
  texlive-latex-base texlive-latex-recommended
```

---

# 默认浏览器设置为 opera

```
$ xdg-settings --list
$ xdg-settings get default-web-browser
$ xdg-settings set default-web-browser opera.desktop
//$ sudo update-alternatives --config x-www-browser
//$ sudo update-alternatives --config gnome-www-browser 
```

---

# protontricks（暂时用不着）

Protontricks is a simple wrapper script that allows you to easily run Winetricks commands for Steam Play / Proton games. This is often useful when a game requires closed-source runtime libraries that are not included with Proton. Installation of Steam is required to use Protontricks.

## repo里就有 protontricks

```
$ sudo apt install protontricks

The following additional packages will be installed:
  python3-vdf steam:i386 steam-devices
Suggested packages:
  libnvidia-gl-390:i386 | libnvidia-gl-470:i386 | libnvidia-gl-495:i386 pipewire:i386
```

## pip方式安装 protontricks

```
sudo apt install pipx
sudo apt install -y python3-pip python3-setuptools python3-venv
python3 -m pip install --user pipx
python3 -m pipx ensurepath
```

Close and reopen the terminal again

```
pipx install protontricks
```

具体细节

```
$ sudo apt install pipx

The following additional packages will be installed:
  fonts-font-awesome libjs-bootstrap4 libjs-lunr libjs-popper.js libjs-sizzle mkdocs node-jquery python-babel-localedata python3-argcomplete python3-babel
  python3-jinja2 python3-livereload python3-pip-whl python3-setuptools-whl python3-tornado python3-userpath python3-venv python3.10-venv sphinx-rtd-theme-common
Suggested packages:
  libjs-es5-shim ghp-import mkdocs-doc nodejs python-jinja2-doc coffeescript node-less node-uglify python-livereload-doc python3-django python3-flask python3-slimmer
  python-tornado-doc

```

user模式安装在

```
/home/andy/.local/lib/python3.10/site-packages/argcomplet
```

~/.bashrc添加了

```
# Created by `pipx` on 2022-11-25 06:07:49
export PATH="$PATH:/home/andy/.local/bin"
```

删除

先还原bashrc

然后

```
$ python3 -m pip uninstall argcomplete
Found existing installation: argcomplete 2.0.0
Uninstalling argcomplete-2.0.0:
  Would remove:
    /home/andy/.local/bin/activate-global-python-argcomplete
    /home/andy/.local/bin/python-argcomplete-check-easy-install-script
    /home/andy/.local/bin/python-argcomplete-tcsh
    /home/andy/.local/bin/register-python-argcomplete
    /home/andy/.local/lib/python3.10/site-packages/argcomplete-2.0.0.dist-info/*
    /home/andy/.local/lib/python3.10/site-packages/argcomplete/*
Proceed (Y/n)? y
  Successfully uninstalled argcomplete-2.0.0
```

```
$ rm -rf /home/andy/.local/lib    ## 确保没有其他文件夹了
$ rm -rf /home/andy/.local/pipx
```

---

# git empty folder

```
find -name .git -prune -o -type d -empty -exec touch {}/.gitkeep \;
git add .
```

---

# unzip

在 `$HOME/.bashrc`添加

```
alias unzip='unzip -O cp936'
```

---

# URL字符编码解码

url-encode

```
#!/usr/bin/perl
 
use URI::Escape;

print "Input original string:\n";
my $string = <STDIN>;
print "\nOriginal string:\n$string\n";

my $encode = uri_escape($string);
print "URL Encoded string:\n$encode\n\n";
```

url-decode

```
#!/usr/bin/perl
 
use URI::Escape;

print "Input original string:\n";
my $string = <STDIN>;
print "\nOriginal string:\n$string\n";

my $decode = uri_unescape($string);
print "URL Decoded string:\n$decode\n";

my $encode = uri_escape($decode);
print "URL Encoded string:\n$encode\n\n";
```

都chmod 777，就可以转换了，复制到/bin去。

---

# 显示进度的复制

```
$ sudo apt-get install gcp
```

---

# screenfetch

```
$ sudo apt install screenfetch
```

---

# xdot

```
$ sudo apt install xdot

The following additional packages will be installed:
  graphviz libann0 libcdt5 libcgraph6 libgts-0.7-5 libgts-bin libgvc6 libgvpr2
  liblab-gamut1 libpathplan4
Suggested packages:
  graphviz-doc
```

从dot文件产生图片

```
dot -Tpng test.dot -o test.png
dot -Tjpg test.dot -o test.jpg
```

xdot可以直接查看dot文件

---

# 开机服务时间占用分析

```
systemd-analyze blame            #开机启动项耗时
systemd-analyze critical-chain   #启动时间树状图
systemd-analyze time             #总的开机时间
systemd-analyze plot > ~/SystemdAnalyzePlot.svg    #生产开机时间分析图
```

---

# 删除 snap

[https://www.simplified.guide/ubuntu/remove-snapd](https://www.simplified.guide/ubuntu/remove-snapd)
[https://www.debugpoint.com/remove-snap-ubuntu/](https://www.debugpoint.com/remove-snap-ubuntu/)
[https://fedingo.com/how-to-remove-snap-in-ubuntu/](https://fedingo.com/how-to-remove-snap-in-ubuntu/)

```
$ snap list
Name                       Version           Rev    Tracking         Publisher   Notes
bare                       1.0               5      latest/stable    canonical✓  base
core20                     20221027          1695   latest/stable    canonical✓  base
firefox                    107.0.1-1         2154   latest/stable/…  mozilla✓    -
gnome-3-38-2004            0+git.6f39565     119    latest/stable/…  canonical✓  -
gtk-common-themes          0.1-81-g442e511   1535   latest/stable/…  canonical✓  -
snap-store                 41.3-66-gfe1e325  638    latest/stable/…  canonical✓  -
snapd                      2.57.6            17883  latest/stable    canonical✓  snapd
snapd-desktop-integration  0.1               14     latest/stable/…  canonical✓  -
```

```
sudo snap remove --purge firefox
sudo snap remove --purge snap-store
sudo snap remove --purge gnome-3-38-2004
sudo snap remove --purge gtk-common-themes
sudo snap remove --purge snapd-desktop-integration
sudo snap remove --purge bare
sudo snap remove --purge core20
sudo snap remove --purge snapd

sudo systemctl stop snapd.socket
sudo systemctl stop snapd.apparmor.service
sudo systemctl stop snapd.seeded.service
sudo systemctl disable snapd.socket
sudo systemctl disable snapd.apparmor.service
sudo systemctl disable snapd.seeded.service
sudo rm /etc/systemd/system/default.target.wants/ -rf

sudo apt purge snapd
sudo apt remove --purge --assume-yes snapd gnome-software-plugin-snap
rm -rf ~/snap/
sudo rm -rf /var/cache/snapd/ 

已经从mint源安装了firefox就不用下面几个了
sudo apt install --install-suggests gnome-software
sudo add-apt-repository ppa:mozillateam/ppa
sudo apt update
sudo apt install -t 'o=LP-PPA-mozillateam' firefox

确保不再安装snap
sudo gedit /etc/apt/preferences.d/nosnap.pref
```

```
Package: snapd
Pin: release a=*
Pin-Priority: -10
```

恢复安装snap

```
sudo rm /etc/apt/preferences.d/nosnap.pref
sudo apt update && sudo apt upgrade
sudo snap install snap-store
sudo apt install firefox
```

---

# 启动速度分析优化

```
$ systemd-analyze blame
7.261s NetworkManager-wait-online.service
4.685s privoxy.service
3.904s systemd-journal-flush.service
3.741s logrotate.service
3.628s ModemManager.service
3.589s networkd-dispatcher.service
3.570s systemd-udev-settle.service
2.138s dev-sdc2.device
2.055s accounts-daemon.service
1.775s kerneloops.service
1.442s polkit.service
1.363s avahi-daemon.service
1.352s NetworkManager.service
1.310s thermald.service
1.308s systemd-logind.service
1.298s wpa_supplicant.service
1.279s ubuntu-system-adjustments.service
1.105s systemd-udevd.service
 924ms gpu-manager.service
 857ms cups.service
 781ms networking.service
 659ms rsyslog.service
 537ms udisks2.service
 533ms ssh.service
 524ms lightdm.service
 520ms plymouth-quit-wait.service
 412ms systemd-fsck@dev-disk-by\x2duuid-187B\x2dEBA3.service
 405ms e2scrub_reap.service
 372ms apparmor.service
 366ms grub-common.service
 337ms zfs-load-module.service
 309ms grub-initrd-fallback.service
 302ms systemd-modules-load.service
 295ms lvm2-monitor.service
 285ms systemd-udev-trigger.service
 253ms systemd-sysusers.service
 238ms systemd-random-seed.service
 224ms update-notifier-download.service
 222ms systemd-resolved.service
 206ms systemd-tmpfiles-setup.service
 181ms casper-md5check.service
 180ms lm-sensors.service
 172ms colord.service
 161ms ubiquity.service
 161ms systemd-backlight@backlight:intel_backlight.service
 150ms keyboard-setup.service
 128ms user@1000.service
 127ms systemd-tmpfiles-setup-dev.service
 126ms blueman-mechanism.service
 115ms systemd-sysctl.service
 109ms upower.service
  99ms plymouth-start.service
  92ms systemd-journald.service
  91ms swapfile.swap
  84ms alsa-restore.service
  77ms modprobe@chromeos_pstore.service
  61ms systemd-timesyncd.service
  58ms boot-efi.mount
  57ms systemd-rfkill.service
  48ms zfs-volume-wait.service
  45ms setvtrgb.service
  40ms systemd-remount-fs.service
  36ms dev-hugepages.mount
  35ms dev-mqueue.mount
  35ms sys-kernel-debug.mount
  34ms sys-kernel-tracing.mount
  29ms kmod-static-nodes.service
  28ms zfs-mount.service
  27ms dns-clean.service
  27ms ifupdown-pre.service
  27ms modprobe@configfs.service
  26ms modprobe@drm.service
  25ms openvpn.service
  25ms modprobe@fuse.service
  24ms systemd-user-sessions.service
  19ms console-setup.service
  16ms systemd-update-utmp.service
  14ms finalrd.service
  13ms rtkit-daemon.service
  13ms plymouth-read-write.service
  11ms ufw.service
   8ms systemd-update-utmp-runlevel.service
   8ms user-runtime-dir@1000.service
   6ms zfs-share.service
   5ms modprobe@efi_pstore.service
   4ms modprobe@pstore_blk.service
   4ms modprobe@pstore_zone.service
   3ms modprobe@ramoops.service
   3ms e2scrub_all.service
   1ms sys-kernel-config.mount
   1ms sys-fs-fuse-connections.mount
  34us blk-availability.service
```

```
cat /etc/fstab
lsblk -f
ll /dev/disk/by-uuid/
systemd-analyze blame
systemd-analyze critical-chain
sudo systemctl disable NetworkManager-wait-online.service
sudo systemctl disable NetworkManager-dispatcher.service 
sudo systemctl mask plymouth-quit-wait.service
sudo aa-status
sudo apparmor_status
ls /etc/apparmor.d/
sudo systemctl disable apparmor.service 
sudo systemctl mask lvm2-monitor.service
sudo systemctl mask systemd-udev-settle.service
```

```
ll /lib/systemd/system
ll /etc/systemd/system/multi-user.target.wants
```

```
sudo systemctl enable apparmor.service 
sudo systemctl unmask lvm2-monitor.service
sudo systemctl unmask systemd-udev-settle.service
```

```
sudo systemctl unmask apport-forward.socket
sudo systemctl disable apport-forward.socket
sudo systemctl disable tor.service
sudo systemctl disable power-profiles-daemon.service  ## 多节电模式
sudo systemctl disable switcheroo-control.service     ## 多gpu
sudo systemctl disable binfmt-support.service         ## 多bin格式
sudo systemctl disable systemd-oomd.service           ## 高内存占用清理
sudo systemctl disable whoopsie.path                  ## 报告错误
```

```
systemctl --failed
```

```
journalctl -xeu networking.service
journalctl -xf
journalctl --unit systemd-rfkill.service -f
sudo systemctl enable NetworkManager-wait-online.service
sudo systemctl enable NetworkManager-dispatcher.service 
sudo systemctl unmask plymouth-quit-wait.service
```

---

# systemctl status networking.service 报错

```
/etc/network/if-up.d/resolved: line 12: mystatedir: command not found
```

```
sudo apt remove ifupdown ## 顺带删了 pppoeconf
```

就可以networking.service不报错

那么 ifupdown 有bug

```
sudo rm /etc/systemd/system/basic.target.wants/ -rf
sudo rm /etc/systemd/system/network.target.wants/ -rf
```

```
$ sudo ifup -av
run-parts --exit-on-error --verbose /etc/network/if-pre-up.d
run-parts: executing /etc/network/if-pre-up.d/ethtool
run-parts: executing /etc/network/if-pre-up.d/wireless-tools
run-parts: executing /etc/network/if-pre-up.d/wpasupplicant
ip link set up dev lo 2>/dev/null

ifup: configuring interface lo=lo (inet)
run-parts --exit-on-error --verbose /etc/network/if-pre-up.d
run-parts: executing /etc/network/if-pre-up.d/ethtool
run-parts: executing /etc/network/if-pre-up.d/wireless-tools
run-parts: executing /etc/network/if-pre-up.d/wpasupplicant
run-parts --exit-on-error --verbose /etc/network/if-up.d
run-parts: executing /etc/network/if-up.d/avahi-autoipd
run-parts: executing /etc/network/if-up.d/ethtool
run-parts: executing /etc/network/if-up.d/openvpn
run-parts: executing /etc/network/if-up.d/resolved
/etc/network/if-up.d/resolved: line 12: mystatedir: command not found
/etc/network/if-up.d/resolved: line 20: return: can only `return' from a function or sourced script
run-parts: /etc/network/if-up.d/resolved exited with return code 2
ifup: failed to bring up lo
run-parts --exit-on-error --verbose /etc/network/if-up.d
run-parts: executing /etc/network/if-up.d/avahi-autoipd
run-parts: executing /etc/network/if-up.d/ethtool
run-parts: executing /etc/network/if-up.d/openvpn
run-parts: executing /etc/network/if-up.d/resolved
run-parts: executing /etc/network/if-up.d/wpasupplicant

```

```
$ sudo /sbin/ifup -av --read-environment
run-parts --exit-on-error --verbose /etc/network/if-pre-up.d
run-parts: executing /etc/network/if-pre-up.d/ethtool
run-parts: executing /etc/network/if-pre-up.d/wireless-tools
run-parts: executing /etc/network/if-pre-up.d/wpasupplicant
run-parts --exit-on-error --verbose /etc/network/if-up.d
run-parts: executing /etc/network/if-up.d/avahi-autoipd
run-parts: executing /etc/network/if-up.d/ethtool
run-parts: executing /etc/network/if-up.d/openvpn
run-parts: executing /etc/network/if-up.d/resolved
run-parts: executing /etc/network/if-up.d/wpasupplicant

```

关闭服务

```
sudo systemctl disable networking.service
```

---

# livecd backup + ACLs（Access Control List）

[https://unix.stackexchange.com/questions/391/what-to-use-to-backup-files-preserving-acls](https://unix.stackexchange.com/questions/391/what-to-use-to-backup-files-preserving-acls)

方法1:

```
star -c -p -acl artype=exustar -f archive.tar  files...
star -x -acl -f archive.tar
```

方法2:

```
getfacl -R /a_folder > folder.acl
tar -czvf folder.tar.gz /a_folder
tar -xvf folder.tar.gz
setfacl --restore=folder.acl
```

方法3:

```
tar --acls -cpf backup.tar some-dir-or-file
tar --acls -xpf backup.tar
```

方法4:(bsdtar backups extended ACL by default, it uses the same syntax as GNU tar, and the archives it produces are readable by GNU tar)

```
bsdtar cf archive.tar /my/folder/using/extd_acl 
bsdtar xf archive.tar 
```

方法5:

```
ZSTD_CLEVEL=19 tar --acls --xattrs -caPf systemd-network-conf.tzst --directory=/etc systemd/network systemd/networkd.conf.d
sudo tar --acls --xattrs -xvf systemd-network-conf.tzst
```

复制注意

```
rsync with the -A and/or -X options.
```

手动修改目录ACL属性例子

```
setfacl -m u:umesh:rw Codespace
getfacl Codespace
# file: Codespace/
# owner: root
# group: root
user::rwx
user:umesh:rw-
group::r-x
mask::rwx
other::r-x

setfacl -x u:umesh Codespace/
getfacl Codespace
# file: Codespace/
# owner: root
# group: root
user::rwx
group::r-x
mask::rwx
other::r-x
```

已知要

`sudo setfacl -m u:andy:rx /media/andy`

`sudo setfacl -m u:andy:r /var/log/journal/442b07a4c9b14abd98e876955e27980d/user-1000@ac516f3b49894d2793c8b9ad4f7b4243-00000000000006f8-0005ee98336a9c14.journal`

查找的办法

```
$ sudo getfacl -R / > /home/andy/Downloads/folder.acl
$ sudo cat folder.acl | grep -C 5 "user:andy:"

# file: var/log/journal/b0d275fb46fa48c6820be57edaa22cf5/user-1000.journal
# owner: root
# group: systemd-journal
user::rw-
user:andy:r--
group::r-x	#effective:r--
group:adm:r-x	#effective:r--
mask::r--
other::---

--

# file: var/log/journal/b0d275fb46fa48c6820be57edaa22cf5/user-1000@0005edd1f7919d0d-2de7b960b28e0a38.journal~
# owner: root
# group: systemd-journal
user::rw-
user:andy:r--
group::r-x	#effective:r--
group:adm:r-x	#effective:r--
mask::r--
other::---

--

# file: var/lib/systemd/coredump/core.file-roller.1000.5ec63b10cdf842bd92f4e02a6882716b.6066.1669533484000000.zst
# owner: root
# group: root
user::rw-
user:andy:r--
group::r--
mask::r--
other::---

# file: var/lib/systemd/timesync
--

# file: media/andy
# owner: root
# group: root
user::rwx
user:andy:r-x
group::---
mask::r-x
other::---

# file: media/andy/e93f7f27-d29a-4a58-bbec-243395df32ad

```

---

# grep显示多行信息

```
grep -C 5 foo file  #显示file文件中匹配foo字串那行以及上下5行
grep -B 5 foo file  #显示foo及前5行
grep -A 5 foo file  #显示foo及后5行

```

---

# openbox brightness

```
sudo apt install xfce4-power-manager
journalctl -xf
acpi_listen
```

有类似

```
/usr/sbin/xfpm-power-backlight-helper
```

---

# proftpd 一个 tfp server

proftpd 是 webmin 推荐使用的，和vsftpd是冲突的

```
sudo apt install proftpd proftpd-doc
```

---

# webmin

[https://github.com/webmin/webmin/releases](https://github.com/webmin/webmin/releases)

```
$ sudo apt-get install libauthen-pam-perl
$ sudo dpkg -i webmin_2.001_all.deb
$ sudo /usr/share/webmin/changepass.pl /etc/webmin root [密码]
Password for Webmin user root updated successfully
```

说明：
root是webmin的用户名，不是OS的
xxx为密码
/etc/webmin是webmin的配置目录

```
https://localhost:10000
```

---

# DSVIEW

```
sudo apt install fftw-dev libboost-all-dev
sudo apt install git gcc g++ make cmake libglib2.0-dev zlib1g-dev doxygen libusb-1.0-0-dev libboost-dev libfftw3-dev python3-dev libudev-dev pkg-config doxygen-gui
```

PKGBUILD

```
# Maintainer: Anatol Pomozov
# Co-Maintainer: Abdelhak Bougouffa <abougouffa@fedoraproject.org>
# Contributor: Thomas Krug <t.krug@elektronenpumpe.de>

pkgname=dsview-git
pkgver=1.2.0.r15.g9264bce
pkgrel=1
pkgdesc='GUI programe for supporting various instruments from DreamSourceLab, including logic analyzer, oscilloscope, etc.'
arch=(i686 amd64)
url='http://www.dreamsourcelab.com/'
license=(GPL3)
# Upstream added VCS dependency to libsigrokdecode :/
depends=(libboost-all-dev qtbase5-dev fftw-dev)
makedepends=(cmake)
source=(git+https://github.com/DreamSourceLab/DSView)
sha1sums=('SKIP')

#pkgver() {
#  cd DSView
#  git describe --tags | sed -r 's/^v//;s/([^-]*-g)/r\1/;s/-/./g'
#}

prepare() {
  cd DSView
  sed 's|/usr/local/|/usr/|' -i DSView/DSView.desktop
  sed 's| /lib/udev/rules.d| /usr/lib/udev/rules.d|' -i CMakeLists.txt
}

build() {
  cd DSView

  cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=Release
  make
}

package() {
  cd DSView

  make DESTDIR="$pkgdir" install
  #install -Dm644 icons/logo_color.png "$pkgdir/usr/share/pixmaps/dsview.png"
}
```

```
makedeb
会 fatal: No tags can describe . Try --always, or create some tags.
git fetch --prune --unshallow 就可以解决
```

---

# electronic-wechat

[https://github.com/zzy-ac/electronic-wechat/releases](https://github.com/zzy-ac/electronic-wechat/releases)

```
sudo dpkg -i electronic-wechat_2.3.2_amd64.deb
```

---

# Xilinx vivado vitis

```
sudo source /opt/Xilinx/.xinstall/Vitis_2020.1/scripts/installAIeDepLibs.sh
sudo apt install blt libcanberra-gtk-module libcanberra-gtk0
sudo apt install gcc-multilib libexpat1-dev 
sudo apt install texinfo libncurses5-dev libapr1 libapr1-dev libaprutil1 libsctp-dev uuid-dev
sudo apt install lib32atomic1 lib32gomp1 lib32itm1 lib32quadmath0 lib32stdc++6 libasound2-dev libbison-dev libc6-dev-i386 libc6-dev-x32 libc6-i386 libc6-x32 libcaca-dev libfl-dev libfl2 libpulse-dev libslang2-dev libtext-unidecode-perl libtinfo-dev libx32atomic1 libx32gomp1 libx32itm1  libx32quadmath0 libx32stdc++6 python3-astroid python3-gitdb python3-isort python3-lazy-object-proxy python3-logilab-common python3-mccabe python3-smmap python3-tk python3-wrapt tk8.6-blt2.5
sudo apt install libtinfo-dev
sudo apt install libstdc++6:i386 libgtk2.0-0:i386 dpkg-dev:i386
sudo apt install libtinfo5 libncurses5
sudo apt install libapr1 libapr1-dev libaprutil1 libc6-dev-i386 net-tools graphviz lsb
```

ERROR: ld.so: object '/usr/lib/x86_64-linux-gnu/libgtk3-nocsd.so.0' from LD_PRELOAD cannot be preloaded (cannot open shared object file): ignored.

```
sudo apt-get install libgtk3-nocsd0
```


删除多余库

```
rm /opt/Xilinx/Vitis/2020.1/lib/lnx64.o/Ubuntu/libstdc++.so.6
rm /opt/Xilinx/Vivado/2020.1/lib/lnx64.o/Ubuntu/libstdc++.so.6
```


安装驱动

```
cd /opt/Xilinx/Vivado/2020.1/data/xicom/cable_drivers/lin64/install_script/install_drivers/
sudo ./install_drivers.sh
```


---

# geany

```
sudo apt-get install geany libvte9 geany-plugins geany-plugins-common
```

---

# 修改mac地址

```
sudo gedit /etc/rc.local
```

```
#!/bin/sh
#ifconfig eth0 hw ether e0:d5:5e:f8:a6:7a
ifconfig eth0 hw ether 00:d8:61:a6:62:b7
exit 0
```

```
sudo chmod +x /etc/rc.local
sudo systemctl status rc-local
sudo gedit /etc/systemd/system/rc-local.service
```

```
#  This file is part of systemd.
#
#  systemd is free software; you can redistribute it and/or modify it
#  under the terms of the GNU General Public License as published by
#  the Free Software Foundation; either version 2 of the License, or
#  (at your option) any later version.

[Unit]
Description=/etc/rc.local Compatibility
ConditionPathExists=/etc/rc.local

[Service]
Type=forking
ExecStart=/etc/rc.local start
TimeoutSec=0
StandardOutput=tty
RemainAfterExit=yes
SysVStartPriority=99

[Install]
WantedBy=multi-user.target
```

```
sudo systemctl enable rc-local
sudo systemctl start rc-local
sudo systemctl status rc-local
```

---

# "modelsim" Fontconfig error: Cannot load default config file

```
/opt/modelsim/modeltech/lib
删掉libfontconfig.so.1和libfontconfig.so.1.6.2，因为系统库有
/usr/lib/x86_64-linux-gnu/libfontconfig.so
/usr/lib/x86_64-linux-gnu/libfontconfig.so.1
/usr/lib/x86_64-linux-gnu/libfontconfig.so.1.12.0
```

---

# github "X11 forwarding request failed on channel 0"

test

```
ssh -T git@github.com
```

```
$ git clone git@github.com:Itseez/opencv.git
Cloning into 'opencv'
Warning: Permanently added the RSA host key for IP address '192.30.252.128' to the list of known hosts.
X11 forwarding request failed on channel 0
(...)
```

disable ForwardX11 just for github.com in `~/.ssh/config` or `/etc/ssh/ssh_config`

```
Host github.com
    ForwardX11 no

Host *
    ForwardX11 yes
```

---

# upgrade20230208

```
sudo apt install grub-efi-amd64 grub-efi-amd64-bin grub-efi-amd64-signed
sudo apt autoremove
The following packages will be REMOVED:
libllvm13:i386 libvulkan1:i386 mesa-vulkan-drivers:i386
sudo apt install casper fonts-noto-color-emoji gnome-initial-setup ubiquity-casper ubuntu-advantage-tools update-notifier update-notifier-common apport-gtk
```

---

# 星空图stellarium

```
sudo apt install stellarium
```

---

# wps

```
wget https://wdl1.pcfg.cache.wpscdn.com/wpsdl/wpsoffice/download/linux/11664/wps-office_11.1.0.11664.XA_amd64.deb
sudo dpkg -i wps-office_11.1.0.11664.XA_amd64.deb
sudo apt install wps-office ttf-mscorefonts-installer wps2odt wps2epub
```

some formula symbols might be not display correctly due to missing fonts Symbol,wingdings,wingdings 2,wingdings 3,webding

```
sudo dpkg -i symbol-fonts_1.2_all.deb
```

manual install symbol-fonts

```
For this tutorial we will use the /tmp directory to temporary save the files.

Change to the /tmp directory.
cd /tmp

Clone the Git repository.
git clone https://github.com/iamdh4/ttf-wps-fonts.git

Create a sub directory in your system's fonts directory. This is usually /usr/share/fonts, otherwise consult your distribution's documentation.
sudo mkdir /usr/share/fonts/wps-fonts

Move fonts to the new directory.
sudo mv ttf-wps-fonts/* /usr/share/fonts/wps-fonts

Fix the file permissions.
sudo chmod 644 /usr/share/fonts/wps-fonts/*

Rebuild the font cache.
sudo fc-cache -vfs

Clean up the tmp directory.
rm -rf /tmp/ttf-wps-fonts
```

---

# qalculate

```
sudo apt install qalculate-gtk
Suggested packages:
  gnuplot-doc
The following NEW packages will be installed:
  aglfn gnuplot-data gnuplot-x11 liblua5.4-0 libqalculate-data libqalculate22 qalc qalculate-gtk
```

---

# 安装docker

see
[https://docs.docker.com/engine/install/linux-postinstall/](https://docs.docker.com/engine/install/linux-postinstall/)

[https://docs.docker.com/engine/install/ubuntu/](https://docs.docker.com/engine/install/ubuntu/)

```
$ sudo apt-get remove docker docker-engine docker.io containerd runc
$ sudo apt-get update
$ sudo apt-get install \
    ca-certificates \
    curl \
    gnupg \
    lsb-release
$ sudo mkdir -m 0755 -p /etc/apt/keyrings
$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
$ echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \
  jammy stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
$ sudo apt update
$ sudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
$ sudo docker run hello-world
$ sudo groupadd docker
$ sudo usermod -aG docker $USER
$ newgrp docker
$ docker run hello-world
$ sudo systemctl enable docker.service
$ sudo systemctl enable containerd.service
```

## docker 源加速

/etc/docker/daemon.json，加上如下的键值:

```
{
  "registry-mirrors": ["https://registry.docker-cn.com"]
}
```

## 阿里云镜像加速docker

[https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors](https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors)

修改daemon配置文件 `/etc/docker/daemon.json`来使用加速器

```
sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json <<-'EOF'
{
  "registry-mirrors": ["https://3m45wpca.mirror.aliyuncs.com"]
}
EOF

sudo systemctl daemon-reload
sudo systemctl restart docker
```

验证

```
docker info
```

---

# apt加速

apt临时加速(shadowsocks通过privoxy把socks5映射为http/https..,默认privoxy的端口8118)

```
sudo apt-get -o Acquire::http::proxy="http://127.0.0.1:8118/" upgrade
sudo apt-get -o Acquire::https::proxy="http://127.0.0.1:8118/" upgrade
sudo apt-get -o Acquire::http::proxy="http://127.0.0.1:8118/" install xxx
sudo apt-get -o Acquire::https::proxy="http://127.0.0.1:8118/" install xxx
```

新建~/apt_proxy_conf
`gedit ~/apt_proxy_conf`

```
Acquire::http::proxy "http://127.0.0.1:8118";
Acquire::ftp::proxy "http://127.0.0.1:8118";
Acquire::https::proxy "http://127.0.0.1:8118";
```

运行

```
sudo apt-get -c ~/apt_proxy_conf update
sudo apt-get -c ~/apt_proxy_conf upgrade
```

---

# pycharm

```

```

---
# 

```
sudo apt install inxi libxml-dumper-perl fancontrol read-edid i2c-tools python3-smbus
sudo apt install lxrandr
sudo apt install lxde
sudo apt install task-lxde-desktop
sudo apt install lxde
sudo apt install desktop-base

lspci
inxi -Fxpmrz

```
---
# RTL8723DE wifi网卡驱动失效

```
git clone https://github.com/lwfinger/rtw88.git
cd rtw88
make && sudo make install
sudo reboot -h now
```

---
#
```
```
---
#
```
```




