qemu-launcher：移除 glade-perl 将破坏依赖关系 'glade-perl'
[andy@andy ~]$ sudo pacman -R glade-perl qemu-launcher












ubuntu live cd
sudo bash
find root of arch
./bin/arch-chroot .


    设置DNS
        vim /etc/resolv.conf #编辑配置文件
        nameserver 8.8.8.8
        nameserver 114.114.114.114
        保存退出，必要时清NDS缓存
    更换源，本次更换清华源
        编辑 /etc/pacman.d/mirrorlist， 在文件的最顶端添加： Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
        更新软件包缓存： sudo pacman -Syy


pacman-key --init
pacman -S archlinux-keyring
pacman -S archlinuxcn-keyring
pacman-key --populate archlinux
pacman -Syu


pacman -Syu : key could not be looked up remotely.
# sudo pacman -Syu
...
error: key "5F702428F70E0903" could not be looked up remotely
error: required key missing from keyring
error: failed to commit transaction (unexpected error)
Errors occurred, no packages were upgraded.
...
#sudo pacman -S archlinux-keyring  && pacman -S archlinuxcn-keyring && sudo pacman -Syu

$ sudo leafpad /etc/pacman.d/gnupg/gpg.conf
keyserver hkp://keyserver.ubuntu.com:80
$ sudo pacman-key -r 5F702428F70E0903
就可以搞定


sudo gedit //etc/locale.conf
LANG=en_US.UTF-8
sudo gedit /etc/locale
sudo gedit /etc/locale.gen
sudo locale-gen


修复obmenu-generator
sudo cpan install Linux::DesktopFiles Data::Dump
sudo pacman -S cpanminus 
sudo cpanm --reinstall Linux::DesktopFiles
sudo cpanm --reinstall Data::Dump
git clone git://github.com/trizen/obmenu-generator
sudo cp obmenu-generator/obmenu-generator /usr/bin




sudo pacman -S cpython-pyqt5-sip
sudo pacman -S cpython-pyqt5
sudo pacman -S md4c
sudo pacman -S qtqr




Create the file /etc/polkit-1/rules.d/50-udiskie.rules with permissions 644, and with the following contents:

polkit.addRule(function(action, subject) {
  var YES = polkit.Result.YES;
  // NOTE: there must be a comma at the end of each line except for the last:
  var permission = {
    // required for udisks1:
    "org.freedesktop.udisks.filesystem-mount": YES,
    "org.freedesktop.udisks.luks-unlock": YES,
    "org.freedesktop.udisks.drive-eject": YES,
    "org.freedesktop.udisks.drive-detach": YES,
    // required for udisks2:
    "org.freedesktop.udisks2.filesystem-mount": YES,
    "org.freedesktop.udisks2.encrypted-unlock": YES,
    "org.freedesktop.udisks2.eject-media": YES,
    "org.freedesktop.udisks2.power-off-drive": YES,
    // required for udisks2 if using udiskie from another seat (e.g. systemd):
    "org.freedesktop.udisks2.filesystem-mount-other-seat": YES,
    "org.freedesktop.udisks2.filesystem-unmount-others": YES,
    "org.freedesktop.udisks2.encrypted-unlock-other-seat": YES,
    "org.freedesktop.udisks2.eject-media-other-seat": YES,
    "org.freedesktop.udisks2.power-off-drive-other-seat": YES
  };
  if (subject.isInGroup("storage")) {
    return permission[action.id];
  }
});




时间栏修复
sudo pacman -S orage zenity libwpe wpebackend-fdo

sudo pacman -Fy


时间显示修复
sudo timedatectl set-local-rtc false
sudo hwclock -u
sudo timedatectl set-ntp true
timedatectl timesync-status
timedatectl show-timesync --all
timedatectl status

//sudo timedatectl set-local-rtc true
//timedatectl set-local-rtc 0
//timedatectl status



conky修复
新的配置文件
rm ~/.conkyrc
~/.config/conky/conky.conf
yaout conky-git

/----------------------------------------------------------------------
-- Conky config for ArchBang
-- by Mr Green

conky.config = {
background = true,
use_xft = true,
font = 'monospace:size=9',
xftalpha = 1,
update_interval = 1.0,
total_run_times = 0,
own_window = true,
own_window_transparent = true,
own_window_type = 'desktop',
own_window_hints = 'undecorated,below,sticky,skip_taskbar,skip_pager',
own_window_colour = 'black',
double_buffer = true,
minimum_height = 390,
maximum_width = 340,
draw_shades = false,
draw_outline = false,
draw_borders = false,
draw_graph_borders = false,
default_color = 'white',
default_shade_color = '000000',
default_outline_color = 'd9d7d6',
alignment = 'top_right',
gap_x = 12,
gap_y = 12,
no_buffers = true,
uppercase = false,
cpu_avg_samples = 2,
override_utf8_locale = false,
color1 = 'gray',
color2 = 'gray',
color3 = 'gray',
}

conky.text = [[
#${pre_exec nproc}
#${execi 86400 nproc}
${color2}${font sans:normal:size=9}CPU ${cpu cpu0}%${color1}
#${cpu cpu0} is the total usage
${cpubar cpu1}
${cpubar cpu2}
${cpubar cpu3}
${cpubar cpu4}
${cpubar cpu5}
${cpubar cpu6}
${cpubar cpu7}
${cpubar cpu8}
${color2}${font sans:normal:size=9}RAM ${color1}
${membar}
NET1: wireless 
${upspeed wlan0}/s$alignr${totalup wlan0}
${upspeedgraph wlan0 25,150 0000ff ff0000}
${downspeed wlan0}/s$alignr${totaldown wlan0}
${downspeedgraph wlan0 25,150 00ff00 d000d0}
NET2: wired
${upspeed eth0}/s$alignr${totalup eth0}
${upspeedgraph eth0 25,150 0000ff ff0000}
${downspeed eth0}/s$alignr${totaldown eth0}
${downspeedgraph eth0 25,150 00ff00 d000d0}
#
#${color2}${font sans:normal:size=9}SYSTEM ${color1}${hr 2}
#${color1}${font sans:normal:size=9}$sysname $kernel $alignr $machine
#Host:$alignr$nodename
#Uptime:$alignr$uptime
#
${color2}${font sans:bold:size=9}TOP PROCESSES ${color1}${hr 2}
${color1}${font sans:normal:size=9}${top_mem name 1}${alignr}${top mem 1} %
${top_mem name 2}${alignr}${top mem 2} %
${top_mem name 3}${alignr}${top mem 3} %

${color2}${font sans:bold:size=9}SHORTCUT KEYS ${color1}${hr 2}${color1}${font sans:normal:size=9}
Super+space$alignr Main Menu
Super+t$alignr Terminal
Super+f$alignr File Manager
Super+e$alignr Editor
Super+w$alignr Web Browser
Super+q$alignr Force Quit
Super+r$alignr Read the DOC
Super+a$alignr Toggle Maximize
Super+h$alignr Toggle Horizontal
Super+v$alignr Toggle Vertical
Super+c$alignr Move to Center
Super+Arrow$alignr Move
Alt+F3$alignr Dmenu
Alt+Super+Arrow$alignr Resize]]
----------------------------------------------------------------------/




sudo pacman -S opera opera-ffmpeg-codecs




修复opera
https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt




修复jdk
sudo pacman -S jdk jdk-openjdk jre-openjdk java-environment-common jdk8-openjdk


v2ray
sudo systemctl enable v2ray.service
sudo systemctl restart v2ray.service


$ sudo pacman -S dconf-editor
$ dconf-editor
依次点开->org->gnome->gedit->preferences->encodings
改成
['UTF-8', 'GB18030', 'GB2312', 'GBK', 'BIG5', 'CURRENT', 'ISO-8859-15', 'UTF-16']



sudo pacman -S lightdm-gtk-greeter lightdm
sudo systemctl disable lxdm.service
sudo systemctl enable lightdm.service
sudo systemctl start lightdm.service



sudo systemctl disable lightdm.service
sudo systemctl enable lxdm.service

/etc/systemd/system/...


sudo systemctl disable lightdm.service
sudo systemctl enable gdm.service
sudo systemctl start gdm.service





sudo pacman -S hwloc aircrack-ng gdm alsa-topology-conf alsa-lib hwloc aircrack-ng alsa-topology-conf alsa-ucm-conf alsa-lib libsidplayfp libmaxminddb bind audacious-plugins python-patiencediff breezy brltty liblouis ceph python-bcrypt python-cmd2 deluge-gtk deluge=2.0.4.dev38+g23a48dd01-2 libmicrohttpd elfutils libspf2 exim openmpi fftw fluidsynth gimp libinstpatch-1.0.so=2-64 mypaint-brushes1 gst-plugins-bad-libs=1.16.2 gst-plugins-bad lilv gst-plugins-bad gst-plugin-gtk gthumb netpbm gts kactivities-stats kio-extras kdsoap-ws-discovery-client kio-extras lib32-brotli lib32-libsoup java-openjfx mujs mpv perl-clone perl-http-message perl-cgi perl-http-server-simple python2-importlib_resources python2-jaraco python2-ordered-set python2-setuptools libslirp qemu liburing qemu yaml-cpp qtcreator ruby-irb ruby lsof steam lib32-vulkan-icd-loader steam lib32-vulkan-icd-loader steam-native-runtime xf86-video-vmware virtualbox-guest-utils xdg-dbus-proxy webkit2gtk 


??
xorg-fonts-misc xorg-fonts-alias-misc dmxproto libdmx xf86dgaproto libxxf86dga microchip-mplabx-bin 





sudo pacman -S lightdm gdm

sudo pacman -S gnome gnome-extra gnome-shell




chroot替代arch-chroot的可能
mount --bind /dev dev 
mount --bind /proc proc
mount --bind /sys sys 
chroot ./ bin/sh
是否可行？






xdg-settings set default-web-browser opera.desktop



$ xdg-mime default opera.desktop x-scheme-handler/http
$ xdg-mime default opera.desktop x-scheme-handler/https
$ xdg-mime default opera.desktop text/html

sudo pacman -S lxde lxde-common lxsession

sudo pacman -S xfce4 xfce4-goodies mousepad


sunloginclient
[andy@andy ~]$ xhost +
access control disabled, clients can connect from any host
[andy@andy ~]$ which xhost 
/usr/bin/xhost
[andy@andy ~]$ sudo xhost +
[sudo] password for andy: 
access control disabled, clients can connect from any host

/etc/gdm/Init/Default添加一行 xhost + 到头部






looking for conflicting packages...
error: failed to prepare transaction (could not satisfy dependencies)
:: installing xorgproto (2019.2-2) breaks dependency 'dmxproto' required by libdmx
:: installing xorgproto (2019.2-2) breaks dependency 'xf86dgaproto' required by libxxf86dga
==> upgrading SVN/CVS/HG/GIT package


pacman -Rns $(pacman -Qqtd)
checking dependencies...
:: angrysearch optionally requires xdotool: Thunar & PCmanFM to select file on path open
:: apr-util optionally requires mariadb-libs: enable mysql/mariadb support
:: chromium optionally requires pepper-flash: support for Flash content
:: dhcpcd optionally requires openresolv: resolvconf support
:: ffmpeg optionally requires ladspa: LADSPA filters
:: file-roller optionally requires lrzip: lrzip archive support
:: git optionally requires perl-lwp-protocol-https: git mediawiki https support
:: gnome-nettool optionally requires net-tools: Network statistics
:: gnupg optionally requires libusb-compat: scdaemon
:: imagemagick optionally requires libheif: HEIF support
:: imagemagick optionally requires libwmf: WMF support
:: kio optionally requires kio-extras: extra protocols support (sftp, fish and more)
:: lib32-alsa-plugins optionally requires lib32-speexdsp: for pcm_speex and rate_speexrate plugins
:: libproxy optionally requires networkmanager: NetworkManager configuration module
:: libreoffice-fresh optionally requires mariadb-libs: for mysql-connector
:: libvirt optionally requires dmidecode: DMI system info support
:: mkinitcpio optionally requires lzop: Use lzo compression for the initramfs image
:: perl-libwww optionally requires perl-lwp-protocol-https: for https:// url schemes
:: poppler optionally requires poppler-data: encoding data to display PDF documents containing CJK characters
:: python-pyqt5 optionally requires qt5-tools: QtHelp, QtDesigner
:: qt4 optionally requires mariadb-libs: MariaDB driver
:: qt5-base optionally requires qt5-translations: for some native UI translations
:: qt5-base optionally requires mariadb-libs: MariaDB driver
:: shutter optionally requires perl-lwp-protocol-https: Imgur and Dropbox upload support
:: shutter optionally requires perl-net-oauth: Imgur and Dropbox upload support
:: shutter optionally requires bc: 3D Rotate and 3D Reflection plugins support
:: smplayer optionally requires mplayer: alternative multimedia engine
:: syslinux optionally requires perl-digest-sha1: For sha1pass
:: syslinux optionally requires efibootmgr: For EFI support
:: udevil optionally requires sshfs: mount sftp shares
:: udisks2 optionally requires ntfs-3g: NTFS filesystem management support
:: xarchiver optionally requires lrzip: lrzip support
:: xarchiver optionally requires lzop: LZOP support
warning: dependency cycle detected:
warning: phonon-qt5-gstreamer will be removed after its phonon-qt5 dependency

Packages (565) arm-none-eabi-binutils-2.34-1  assimp-5.0.1-1  atkmm-2.28.0-2
               audacious-plugins-4.0.5-1  baloo-5.73.0-1
               baloo-widgets-20.04.3-1  bc-1.07.1-4  cabextract-1.9.1-2
               cairomm-1.12.2-4  calibre-common-4.22.0-1  cblas-3.9.0-3
               chmlib-0.40-6  clazy-1.7-1  confuse-3.3-1  convertlit-1.8-10
               crypto++-8.2.0-3  diffstat-1.63-1  dmidecode-3.2-2
               dolphin-20.04.3-1  drbl-2.30.5-1  ebook-tools-0.2.2-7
               ecryptfs-utils-111-4  efibootmgr-17-1  efivar-37-4  enca-1.19-4
               ethtool-1:5.7-1  fakeroot-1.24-2  freeimage-3.18.0-7
               ftgl-2.4.0-2  gcc6-libs-6.4.1-4  gcc8-libs-8.4.0-1
               gl2ps-1.4.2-2  glew-2.2.0-2  glibmm-2.64.2-1  glm-0.9.9.8-1
               gmtk-1.0.9-6  goocanvas-2.0.4-5  gperftools-2.7-2
               groff-1.22.4-3  gtkglext-1.2.0-12  gtkmm3-3.24.2-2  iw-5.4-1
               jemalloc-1:5.2.1-3  jxrlib-0.2.1-3  kdnssd-5.73.0-1
               kemoticons-5.73.0-1  kfilemetadata-5.73.0-1  kidletime-5.73.0-1
               kinit-5.73.0-1  kio-extras-20.04.3-1  kjs-5.73.0-1
               knotifyconfig-5.73.0-1  kparts-5.73.0-1  kpty-5.73.0-1
               kunitconversion-5.73.0-1  ladspa-1.15-2  lbzip2-2.5-5
               leveldb-1.22-2  lib32-at-spi2-atk-2.34.2-1
               lib32-at-spi2-core-2.36.0-1  lib32-glew-2.2.0-1
               lib32-glib-networking-2.64.3-1  lib32-libepoxy-1.5.4-1
               lib32-libraw1394-2.1.2-2  lib32-librsvg-2.48.8-1
               lib32-libsoup-2.70.0-1  lib32-libxkbcommon-0.10.0-1
               lib32-rest-0.8.1-2  lib32-speexdsp-1.2.0-1  libebml-1.4.0-1
               libfilezilla-0.19.3-2  libftdi-1.4-4  libftdi-compat-0.20-8
               libgda-5.2.9-4  libgooglepinyin-0.1.2-5  libgpod-0.8.3-11
               libguess-1.2-3  libheif-1.7.0-2  libkcddb-20.04.3-1
               libmpdclient-2.19-1  libnatpmp-20150609-3  libndp-1.7-2
               libnewt-0.52.21-3  libpgm-5.2.122-5  libpipeline-1.5.2-1
               libsigc++-2.10.3-1  libsodium-1.0.18-2  libteam-1.31-1
               libtorrent-0.13.8-2  libuninameslist-20200413-1
               libunrar-1:5.9.4-1  libupnp-1.6.25-2  libusb-compat-0.1.7-1
               libva1-1.8.3-3  libwmf-0.2.12-2  libxvmc-1.0.12-3
               libzip-1.6.1-2  lirc-1:0.10.1-6  lrzip-0.631-3  lzop-1.04-3
               mariadb-clients-10.4.14-1  mariadb-libs-10.4.14-1
               mathjax-3.0.5-1  mesa-demos-8.4.0-4  mingw-w64-binutils-2.35-1
               mingw-w64-crt-7.0.0-1  mingw-w64-headers-7.0.0-1
               mingw-w64-winpthreads-7.0.0-1  miniupnpc-2.1.20191224-1
               mplayer-38157-3  net-tools-1.60.20181103git-2
               networkmanager-1.26.0-1  nilfs-utils-2.2.8-2
               ntfs-3g-2017.3.23-4  oniguruma-6.9.5_rev1-1
               opencascade-7.4.0.1-1  openconnect-1:8.10-1  openjade-1.3.2-6
               openjpeg-1.5.2-2  openresolv-3.10.0-1  opensp-1.5.2-9
               openvpn-2.4.9-2  optipng-0.7.7-2  pangomm-2.42.1-2
               partclone-0.3.12-1  partimage-0.6.9-13  pbzip2-1.1.13-3
               pepper-flash-32.0.0.403-1  perl-bit-vector-7.4-11
               perl-carp-clan-6.08-3  perl-class-accessor-0.51-2
               perl-class-data-inheritable-0.08-9  perl-common-sense-3.75-2
               perl-data-random-0.13-4  perl-digest-hmac-1.03-9
               perl-digest-sha1-2.13-15  perl-gd-2.72-1
               perl-io-socket-ssl-2.067-2  perl-lwp-protocol-https-6.09-1
               perl-mouse-2.5.10-2  perl-net-oauth-0.28-10
               perl-net-ssleay-1.88-2  perl-sgmls-1:1.1-7
               perl-types-serialiser-1.0-6  perl-yaml-tiny-1.73-4
               phonon-qt5-4.11.1-2  phonon-qt5-gstreamer-4.10.0-2  php-7.4.9-1
               pigz-2.4-2  pixz-1.0.6-3  pkcs11-helper-1.26.0-1  podofo-0.9.6-3
               poppler-data-0.4.9-2  poppler-qt5-0.90.1-1  potrace-1.16-2
               ppp-2.4.7-7  pptpclient-1.10.0-2  progsreiserfs-0.3.0.5-10
               pyqt4-common-4.12.3-5  python-acme-1.7.0-1
               python-configargparse-1.2.3-1  python-docopt-0.6.2-7
               python-future-0.18.2-3  python-josepy-1.3.0-1
               python-keyutils-0.6-4  python-markdown-3.2.2-1
               python-mock-3.0.5-3  python-parsedatetime-2.6-1
               python-pbr-5.4.5-1  python-psutil-5.7.2-1
               python-pyrfc3339-1.1-5  python-requests-toolbelt-0.9.1-3
               python-wxpython-4.0.7.2-1  python-yaml-5.3.1-2
               python-zope-component-4.6.2-1
               python-zope-deferredimport-4.3.1-4
               python-zope-deprecation-4.4.0-3  python-zope-event-4.4-3
               python-zope-hookable-5.0.1-1  python-zope-proxy-4.3.5-1
               python2-apsw-3.32.2-1  python2-backports-1.0-3
               python2-backports.functools_lru_cache-1.6.1-2
               python2-backports.unittest_mock-1.2.1-3  python2-beaker-1.10.1-1
               python2-beautifulsoup4-4.9.1-1  python2-chardet-3.0.4-5
               python2-cheroot-8.4.2-1  python2-contextlib2-0.6.0.post1-1
               python2-css-parser-1.0.4-3  python2-cssselect-1.1.0-4
               python2-dateutil-2.8.1-3  python2-dbus-1.2.16-1
               python2-dnspython-1.16.0-3  python2-feedparser-5.2.1-6
               python2-funcsigs-1.0.2-3  python2-gobject-3.36.1-1
               python2-html2text-2019.8.11-4  python2-html5-parser-0.4.9-2
               python2-html5lib-1.1-1  python2-jaraco-2019.10.22-3
               python2-logutils-0.3.5-3  python2-lxml-4.5.2-1
               python2-mako-1.0.14-1  python2-markdown-3.1.1-5
               python2-markupsafe-1.1.1-4  python2-mechanize-1:0.4.5-1
               python2-mock-3.0.5-3  python2-more-itertools-5.0.0-2
               python2-msgpack-0.6.2-3  python2-nautilus-1.1-4
               python2-netifaces-0.10.9-3  python2-pbr-5.4.5-1
               python2-pillow-6.1.0-1  python2-portend-2.6-2
               python2-psutil-5.7.2-1  python2-pychm-0.8.6-1
               python2-pygments-2.5.2-2  python2-pyqt5-5.15.0-3
               python2-pyqtwebengine-5.15.0-2  python2-pytz-2020.1-1
               python2-regex-2020.7.14-1  python2-repoze.lru-0.7-2
               python2-sip-pyqt4-4.19.22-1  python2-sip-pyqt5-4.19.23-1
               python2-soupsieve-1.9.6-2  python2-tempora-1.14.1-5
               python2-unrardll-0.1.4-2  python2-urllib3-1.25.10-1
               python2-waitress-1.3.0-1  python2-webencodings-0.5.1-4
               python2-webob-1.8.6-1  python2-webtest-2.0.33-1
               python2-zc.lockfile-2.0-3  qbs-1.16.0-1  qca-2.3.1-2
               qt5-tools-5.15.0-3  qt5-translations-5.15.0-1  recode-3.7.7-1
               schroedinger-1.0.11-6  screen-4.8.0-1  sed-4.8-1
               sg3_utils-1.45-1  sgml-common-0.6.3-7  sip-4.19.23-1
               slang-2.3.2-2  smpeg2-1:2.0.0-2  sshfs-3.7.0-1  stoken-0.92-4
               sunpinyin-3.0.0rc1-3  sunpinyin-data-1:2.0.3.20140820-3
               tepl-4.4.0-1  ucl-1.03-9  vim-runtime-8.2.0814-3
               vpnc-1:0.5.3.r468.r81-1  vtk-8.2.0-14  wpa_supplicant-2:2.9-7
               wvstreams-4.6.1-16  wxgtk3-3.0.5.1-1  xdotool-3.20160805.1-3
               xine-lib-1.2.10-4  xmlrpc-c-1:1.51.06-1  xorg-xmessage-1.0.5-2
               xplc-0.3.13-8  zeromq-4.3.2-2  acpi-1.7-3  acpid-2.0.32-2
               aircrack-ng-1.6-2  alsa-firmware-1.2.1-2  alsa-oss-1.1.8-3
               alsa-utils-1.2.3-2  amule-11047-1
               android-sdk-platform-tools-30.0.4-1  ant-1.10.8-1
               arch-install-scripts-23-2  arm-none-eabi-gcc-10.2.0-1
               arm-none-eabi-gdb-9.2-1  asar-3.0.3-1  at-3.2.1-2
               audacious-4.0.5-1  autoconf2.13-2.13-6  automoc4-0.9.88-8
               avr-gdb-9.2-1  avrdude-1:6.3-7  axel-2.17.9-1  baobab-3.34.1-1
               bind-9.16.5-2  bison-3.6.4-1  bluefish-2.2.11-1  bmon-4.0-4
               broadcom-wl-6.30.223.271-216  busybox-1.31.1-3  calibre-4.22.0-1
               catfish-1.4.13-2  ccache-3.7.11-1  celt0.5.1-0.5.1.3-5
               ceph-14.2.8-1  certbot-1.7.0-1  clonezilla-3.35.2-2
               colordiff-1.0.18-3  cowpatty-4.8-2  cscope-15.9-2
               cvs-1.11.23-13  dcadec-0.2.0-1  dconf-editor-3.36.4-1
               ddrescue-1.25-1  deadbeef-1.8.4-1
               deluge-gtk-2.0.4.dev38+g23a48dd01-2  dkms-2.8.3-1  dmenu-4.9-2
               docbook2x-0.8.8-17  dolphin-plugins-20.04.3-1  doxygen-1.8.18-2
               eaglemode-0.94.2-1  efitools-1.9.2-3  expect-5.45.4-2
               fakechroot-2.20.1-2  fbset-2.1-7  fcgi-2.4.2-2
               fcitx-cloudpinyin-0.3.7-1  fcitx-googlepinyin-0.1.6-7
               fcitx-sunpinyin-0.4.2-2  fcitx-ui-light-0.1.3-5  feh-3.4.1-1
               filezilla-3.46.3-1  firefox-79.0-1  fontforge-20200314-2
               freshplayerplugin-0.3.11-3  gcc-objc-10.1.0-2  gcc5-5.5.0-2
               gcc6-6.4.1-4  gcc8-8.4.0-1  gedit-3.36.2-1  gegl02-0.2.0-7
               gendesk-1.0.6-1  genymotion-3.1.0-1  gerbv-2.7.0-2
               gimp-2.10.20-1  gmime-2.6.23+4+g91dcee38-3
               gnome-calculator-3.36.0-1  gnome-icon-theme-3.12.0-6
               gnome-mines-3.36.0-1  gnome-mplayer-1.0.9-8
               gnome-screenshot-3.36.0-1  gnome-system-monitor-3.36.1-1
               gnustep-make-2.8.0-1  gobject-introspection-1.64.1-2
               gparted-1.1.0-1  gpicview-0.2.5-5  grub-2:2.04-8
               gstreamer0.10-base-plugins-0.10.36-13  gthumb-3.10.0-2
               gtkmm-1:2.24.5-4  gulp-4.0.2-3  gvim-8.2.0814-3
               hardinfo-0.5.1.816.g877ea2b-2  haveged-1.9.13-1  htop-2.2.0-3
               i2c-tools-4.1-4  idnkit-1.0-3  imake-1.0.8-2
               intel-ucode-20200616-1  intltool-0.51.0-6  iptraf-ng-1.1.4-5
               iverilog-10.3-2  js-24.2.0-4  js60-60.9.0-2  jwm-2.3.7-2
               k3b-1:20.04.3-1  kchmviewer-7.7-5  kdelibs4support-5.73.0-1
               khtml-5.73.0-1  kicad-5.1.6-1  ksh-2020.0.0-2
               kuiserver-5.11.3-1  kyotocabinet-1.2.78-1  laptop-detect-0.16-1
               lcms-1.19-5  leafpad-0.8.18.1-9  lftp-4.9.1-1
               lib32-fakeroot-1.24-1  lib32-gsm-1.0.14-1  lib32-gtk3-3.24.21-1
               lib32-harfbuzz-icu-2.7.0-1  lib32-jansson-2.13.1-1
               lib32-json-c-0.15-1  lib32-ladspa-1.15-1  lib32-lame-3.99.5-2
               lib32-libass-0.13.2-1  lib32-libavc1394-0.5.4-2
               lib32-libbluray-0.9.2-1  lib32-libcroco-0.6.13-1
               lib32-libiec61883-1.2.0-2  lib32-libtxc_dxtn-1.0.1-5
               lib32-libva1-1.8.3-3  lib32-libvpx-1.9.0-1
               lib32-libx264-148.20160103-4  lib32-mesa-demos-8.4.0-2
               lib32-opencore-amr-0.1.3-2  lib32-openjpeg-1.5.2-1
               lib32-opus-1.3.1-1  lib32-schroedinger-1.0.11-2
               lib32-smpeg2-2.0.0-2  lib32-speex-1.2.0-2
               lib32-xvidcore-1.3.4-1  libappindicator-gtk2-12.10.0.r296-1
               libdbusmenu-qt4-0.9.3+16.04.20160218-1  libdmx-1.1.4-1
               libdvbpsi-1:1.3.3-2  libiodbc-3.52.13-2  libirman-0.5.2-3
               libmatroska-1.6.2-1  libmp4v2-4.1.3-1  libqzeitgeist-0.8.0-6
               libstdc++5-3.3.6-7  libtar-1.2.20-5  libtiger-0.3.4-6
               libtracker-sparql-1.12.3-1  libtxc_dxtn-1.0.1-6
               libvdpau-va-gl-0.4.2-3  libxp-1.0.3-4  libxxf86dga-1.1.5-1
               licenses-20200427-1  liferea-1.12.8-1  linux-lts-5.4.55-1
               logrotate-3.17.0-1  lua-socket-20200329-1  lua51-5.1.5-9
               lxdm-0.5.3-7  lxinput-0.3.5-3  lxrandr-0.3.2-2
               lxterminal-0.3.2-2  man-db-2.9.3-1  man-pages-5.07-1
               mariadb-10.4.14-1  masterpdfeditor-5.6.20-2  mbedtls-2.16.7-1
               memtest86+-5.01-4  mingw-w64-gcc-10.2.0-1  minicom-2.7.1-4
               mldonkey-3.1.7-1  mpc-0.33-2  mtd-utils-2.1.2-1
               mypaint-brushes-2.0.2-1  nano-5.0-1  nasm-2.15.02-1
               nautilus-terminal-3.3.0-1  nbd-3.20-2  ncdu-1.15.1-1
               ncurses5-compat-libs-6.2-1  netctl-1.23-1
               network-manager-applet-1.18.0-1
               networkmanager-openconnect-1.2.6-2
               networkmanager-openvpn-1.8.12-1
               networkmanager-pptp-1.2.9dev+10+gb41b0d0-2
               networkmanager-vpnc-1.2.7dev+20+gdca3aea-2  nrg2iso-0.4-11
               nuget-5.6.0-1  obconf-2.0.4-7  opencv-4.4.0-1  openh264-2.1.1-1
               openocd-1:0.10.0-3  openslp-2.0.0-2  opera-70.0.3728.106-1
               oxygen-icons-1:5.73.0-1  parcellite-1.2.1-4  pcb-1:4.2.2-1
               perl-canary-stability-2013-3  perl-date-calc-6.4-7
               perl-extutils-depends-0.8000-4  perl-extutils-pkgconfig-1.16-7
               perl-json-xs-4.0-4  perl-mozilla-ca-20200520-3
               perl-net-dropbox-api-1.9-9  perl-test-pod-1.52-5
               php-apache-7.4.9-1  php-cgi-7.4.9-1  phpmyadmin-5.0.2-1
               pkgfile-21-2  polkit-qt4-0.112.0+git20160226-1  projectm-3.1.3-1
               pth-2.0.7-7  putty-0.74-1  python-sip-4.19.23-1
               python-sip-pyqt5-4.19.18-1  python-werkzeug-1.0.1-2
               python2-cherrypy-17.4.2-1  python2-cssutils-1.0.2-1
               python2-dukpy-0.3-3  python2-jinja-2.11.2-1
               python2-mutagen-1.42.0-3  python2-notify-0.1.1-14
               python2-pecan-1.3.3-1  python2-prettytable-0.7.2-9
               python2-pyqt4-4.12.3-5  python2-qrtools-1.4-1
               python2-requests-2.24.0-1  python2-routes-2.4.1-2
               python2-singledispatch-3.4.0.3-4  python2-sip-4.19.18-1
               python2-werkzeug-0.15.2-1  python2-wxpython3-3.0.2.0-3
               qemu-guest-agent-5.0.0-8  qt5-3d-5.15.0-1  qtcreator-4.12.4-2
               qtqr-2.0-2  quilt-0.66-2  ragel-6.10-3  refind-0.12.0-6
               remmina-1:1.4.7-1  rhythmbox-3.4.4-1  rp-pppoe-3.14-1
               rtorrent-0.9.8-2  scons-3.1.2-2  screenfetch-3.9.1-1
               slim-1.3.6-9  slurm-0.4.3-2  sqlitebrowser-3.11.2-2
               tcsh-6.22.02-1  teamviewer-15.8.3-1  thunderbird-68.11.0-1
               tint2-16.7-2  tmux-3.1_b-1  tor-0.4.3.6-1  totem-3.34.1-2
               transmission-gtk-3.00-2  ttf-arphic-ukai-0.2.20080216.1-8
               ttf-arphic-uming-0.2.20080216.1-8  udiskie-2.2.0-2  uget-2.2.3-1
               units-2.19-2  upx-3.96-2  usb_modeswitch-2.6.1-1  vi-1:070224-4
               virtualbox-ext-oracle-6.1.12-1  virtualbox-guest-utils-6.1.12-3
               volumeicon-0.5.1-5  vte-0.28.2-8  w3m-0.5.3.git20200507-1
               webkitgtk-3:2.4.11-19  wine-gecko-2.47.1-1  wine-mono-5.1.0-1
               winetricks-20200412-1  wps-office-11.1.0.9615-1
               wqy-zenhei-0.9.45-8  wvdial-1.61-8  xf86-input-evdev-2.10.6-2
               xf86-input-synaptics-1.9.1-2  xf86-input-void-1.4.1-5
               xf86-video-ati-1:19.1.0-2  xf86-video-dummy-0.3.8-4
               xf86-video-fbdev-0.5.0-2
               xf86-video-intel-1:2.99.917+908+g7181c5a4-1
               xf86-video-nouveau-1.0.16-2  xf86-video-openchrome-0.6.0-4
               xf86-video-vesa-2.4.0-3  xf86-video-voodoo-1.2.5-11
               xfce4-notifyd-0.6.1-1  xmltoman-0.4-4  xorg-fonts-misc-1.0.3-9
               xorg-fonts-type1-7.7-6  xorg-server-xvfb-1.20.8-3
               xorg-xeyes-1.1.2-2  xorg-xkill-1.0.5-2  yasm-1.3.0-4

Total Removed Size:  7477.17 MiB


看起来很不安全

sudo pacman -Runsc xorgproto
也不安全

不如这样
pacman -Rdd libdmx libxxf86dga && pacman -Syu




vsim
sudo grep -r FT_Done_MM_Var *
注释掉/opt/modelsim/modeltech/bin/vsim里的
#export LD_LIBRARY_PATH=/opt/modelsim/modeltech/lib
报错啥libncurses.so太短
并且先清除/usr/lib32/libtinfo.so.5和/usr/lib32/libncurses.so.5
再安装
lib32-ncurses5-compat-libs

又报错
Error in startup script: 
Initialization problem, exiting.

Initialization problem, exiting.

Initialization problem, exiting.

    while executing
"EnvHistory::Reset"
    (procedure "PropertiesInit" line 3)
    invoked from within
"PropertiesInit"
    invoked from within
"ncFyP12 -+"
    (file "/mtitcl/vsim/vsim" line 1)
** Fatal: Read failure in vlm process (0,0)

复制libfreetype.so.6.11.1和libfontconfig.so.1.6.2到/opt/modelsim/modeltech/lib
建立软链接
/opt/modelsim/modeltech/bin/vsim里加入
export LD_LIBRARY_PATH=/opt/modelsim/modeltech/lib
就可以用了











sudo /sbin/rcvboxdrv setup

sudo /usr/lib/virtualbox/vboxdrv.sh setup
sudo pacman -S linux-headers virtualbox-host-dkms linux-lts
sudo pacman -S virtualbox-guest-dkms
sudo fsck /dev/sdd3 -y



=========================================================================================
=========================================================================================
=========================================================================================
=========================================================================================
=========================================================================================




安装yay，用于替代yaourt
sudo pacman -S yay
修改/etc/pacman.conf
启用color





gpg: keyserver receive failed: General error
https://wiki.archlinux.org/index.php/GnuPG#Use_a_keyserver
~/.gnupg/gpg.conf
内容为
keyserver hkp://pool.sks-keyservers.net

而不是修改/etc/pacman.d/gnupg/gpg.conf，太容易被覆盖了




安装aurman
yay aurman
yay的缓存在～/.cache





# pacman -S privoxy
sudo gedit /etc/privoxy/config


listen-address  localhost:8118
forward-socks5t / 127.0.0.1:10808 .


curl --proxy 'socks5://127.0.0.1:10808' https://netix.dl.sourceforge.net/project/archbang/ArchBang/archbang-rc-2211-x86_64.iso?viasf=1 --output archbang-rc-2211-x86_64.iso


终端代理proxy加速还是proxychains好使
# pacman -S proxychains
sudo gedit /etc/proxychains.conf
----------------------------
[ProxyList]
# add proxy here ...
# meanwile
# set to "v2ray"
#socks5  127.0.0.1 10808
# set to "SS"
#socks5  127.0.0.1 1081
----------------------------
使用方法
proxychains [cmd]
sudo proxychains [cmd]

proxychains aria2c -x16 -s16 -j16 "https://netix.dl.sourceforge.net/project/archbang/ArchBang/archbang-rc-2211-x86_64.iso?viasf=1"







sudo pacman -S pcmanfm-gtk3 lxpanel-gtk3




更新
/etc/fstab

----------------------------------------------------------------
# 
# /etc/fstab: static file system information
#
# <file system>	<dir>	<type>	<options>	<dump>	<pass>
# UUID=bcb49d8e-f32c-4c86-b893-ad3e54789ee6
/dev/sda2           	/         	ext4      	rw,relatime,data=ordered	0 1

# UUID=53342a56-b0b9-4c2f-b4aa-2774be57737c
#/dev/sda4           	none      	swap      	defaults  	0 0


#/dev/sda1 /mnt/windows	 	ntfs 	defaults,iocharset=utf8,umask=000,nls=utf8 0 0
UUID=BE7654077653BEB9 /mnt/windows	 	ntfs-3g	users,auto,rw,dev,exec,uid=1000,locale=zh_CN.UTF-8      0      0

#/dev/sda5 /media/win_d 	ntfs-3g	users,auto,rw,dev,exec,locale=zh_CN.UTF-8      0      0
#/dev/sdb1 /media/win_e 	ntfs-3g	users,auto,rw,dev,exec,locale=zh_CN.UTF-8      0      0 
#/dev/sdb5 /mnt/win_d 		ntfs 	defaults,iocharset=utf8,umask=000,nls=utf8 0 0
UUID=0009A4AB000F7A32 /mnt/win_d 		ntfs-3g	users,auto,rw,dev,exec,uid=1000,locale=zh_CN.UTF-8      0      0

#/dev/sdb6 /mnt/win_e 		ntfs 	defaults,iocharset=utf8,umask=000,nls=utf8 0 0
UUID=000712A300065507 /mnt/win_e 		ntfs-3g	users,auto,rw,dev,exec,uid=1000,locale=zh_CN.UTF-8      0      0

#/dev/sdb7		/home		ext4		rw,relatime,data=ordered	0 1
UUID=530b728d-490e-4970-91df-8a2cb1f9bd69		/home		ext4		rw,relatime,data=ordered	0 1

#/dev/sdb8		/opt		ext4		rw,relatime,data=ordered	0 1
UUID=85d8469d-ecb3-41d3-86f7-bd8c4f0600a5		/opt		ext4		rw,relatime,data=ordered	0 1
---------------------------------------------------------------------







sudo dirmngr < /dev/null

sudo touch /root/.gnupg/dirmngr_ldapservers.conf
sudo killall dirmngr

gpg --refresh-keys

gpg --refresh-keys --keyserver hkp://keyserver.ubuntu.com

rm -R /etc/pacman.d/gnupg/
rm -R /root/.gnupg/

pacman-key --init && pacman-key --populate archlinux
pacman-key --refresh-keys --keyserver hkp://keyserver.ubuntu.com

sudo pacman-key --keyserver keyserver.ubuntu.com -r 962DDE58





pacman -S lxde-gtk3
pacman -S lxappearance-gtk3 lxappearance-obconf-gtk3

$ yaourt -S gnomecanvas-perl  
$ yaourt -S gnome-vfs-perl  
...
perl
perl-error
cpanminus
perl-canary-stability
perl-parse-yapp
perl-x11-protocol
perl-cpanel-json-xs
perl-json-maybexs
perl-cpanel-json-xs
perl-json-maybexs
perl-module-cpanfile
perl-authen-oath
perl-module-cpants-analyse
perl-text-bidi
perl-text-multimarkdown-xs
perl-lockfile-simple
perl-io-termios
...
$ pacman -Qqo '/usr/lib/perl5/5.32/vendor_perl/' | xargs yaourt -S --noconfirm
$ pacman -Qqo '/usr/lib/perl5/5.30/vendor_perl/' | xargs yaourt -S --noconfirm



没有cpan？见后面append_path问题才是最好的解决办法，这里只是暂时解决
cd /usr/bin/
ln -s /usr/bin/core_perl/cpan cpan
ln -s /usr/bin/vendor_perl/cpanm cpanm
sudo cpanm Gnome2::Wnck
sudo cpanm Gtk2::ImageView
sudo cpanm Gnome2
sudo cpanm Goo::Canvas/libgoo-canvas-perl
sudo cpanm Gtk2::AppIndicator

shutter ok


"Not authorized to perform operation." 问题
sudo gedit /usr/share/polkit-1/actions/org.freedesktop.UDisks2.policy
搜索字段
<!-- Mount

字段最后都改成
      <allow_any>yes</allow_any>
      <allow_inactive>yes</allow_inactive>
      <allow_active>yes</allow_active>



sudo pacman -S macchanger
https://wiki.archlinux.org/index.php/MAC_address_spoofing
没啥意思，用下面的办法


固化mac地址。mac addr



###sudo gedit /etc/conf.d/net
sudo gedit /etc/rc.local
#####/etc/rc.d/rc.local
<-------------------------------------
#!/bin/sh
ifconfig eth0 hw ether e0:d5:5e:f8:a6:7a
exit 0
------------------------------------->
sudo chmod +x /etc/rc.local

sudo gedit /etc/systemd/system/rc-local.service
<-------------------------------------
#  This file is part of systemd.
#
#  systemd is free software; you can redistribute it and/or modify it
#  under the terms of the GNU General Public License as published by
#  the Free Software Foundation; either version 2 of the License, or
#  (at your option) any later version.

[Unit]
Description=/etc/rc.local Compatibility
ConditionPathExists=/etc/rc.local

[Service]
Type=forking
ExecStart=/etc/rc.local start
TimeoutSec=0
StandardOutput=tty
RemainAfterExit=yes
SysVStartPriority=99

[Install]
WantedBy=multi-user.target
------------------------------------->
sudo systemctl enable rc-local.service
sudo systemctl start rc-local.service



vim /etc/default/grub

查找

GRUB_CMDLINE_LINUX=""

修改为

GRUB_CMDLINE_LINUX="net.ifnames=0 biosdevname=0"

重新生成grub引导配置文件

grub-mkconfig -o /boot/grub/grub.cfg

最后重启即可恢复默认网卡为eth0，操作结束。



sudo pacman -S retext pycharm-community-edition vscode codeblocks geany-plugins geany
yay haroopad

登录tty显示
append_path command not found
是因为/etc/profile需要更新，简单点是
/etc/profile => /etc/profile.old
/etc/profile.pacnew => /etc/profile
实际上需要合并，如下
/etc/profile.pacnew有append_path命令的定义
<-------------------------------------------
# /etc/profile

#Set our umask
umask 022

# Append "$1" to $PATH when not already in.
# This function API is accessible to scripts in /etc/profile.d
append_path () {
    case ":$PATH:" in
        *:"$1":*)
            ;;
        *)
            PATH="${PATH:+$PATH:}$1"
    esac
}

# Set our default path
PATH="/usr/local/sbin:/usr/local/bin:/usr/bin"

# Append our default paths
append_path '/usr/local/sbin'
append_path '/usr/local/bin'
append_path '/usr/bin'

# Force PATH to be environment
export PATH

# Load profiles from /etc/profile.d
if test -d /etc/profile.d/; then
	for profile in /etc/profile.d/*.sh; do
		test -r "$profile" && . "$profile"
	done
	unset profile
fi

# Source global bash config
#if test "$PS1" && test "$BASH" && test -r /etc/bash.bashrc; then
#	. /etc/bash.bashrc
#fi

# Unload our profile API functions
unset -f append_path

# Source global bash config, when interactive but not posix or sh mode
if test "$BASH" &&\
   test "$PS1" &&\
   test -z "$POSIXLY_CORRECT" &&\
   test "${0#-}" != sh &&\
   test -r /etc/bash.bashrc
then
	. /etc/bash.bashrc
fi

# Termcap is outdated, old, and crusty, kill it.
unset TERMCAP

# Man is much better than us at figuring this out
unset MANPATH

export XMODIFIERS="@im=fcitx"
export GTK_IM_MODULE=xim
export QT_IM_MODULE=xim
#fcitx&
alias cd..='cd ..'
export PATH=$PATH:/opt/MATLAB/R2010b/bin

#export JAVA_HOME=/usr/lib/jvm/java-8-jdk
export JAVA_HOME=/usr/lib/jvm/java-8-openjdk
export JRE_HOME=$JAVA_HOME/jre
export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib:$CLASSPATH
export PATH=$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$PATH

------------------------------------------------------------->
这样就不用链接cpan什么的了
cd /usr/bin/
sudo rm cpan
sudo rm cpanm


sudo pacman -S shadowsocks libqtshadowsocks shadowsocks-libev shadowsocks-qt5 shadowsocks-v2ray-plugin
 
/usr/lib/systemd/system/shadowsocks@.service
<-------------------------------
[Unit]
Description=Shadowsocks Client Service
After=network.target

[Service]
Type=simple
User=nobody
ExecStart=/usr/bin/sslocal -c /etc/shadowsocks/%i.json

[Install]
WantedBy=multi-user.target
------------------------------->

/etc/shadowsocks/config.json
<-------------------------------
{
    "server":"119.28.9.79",
    "server_port":3588,
    "local_address": "127.0.0.1",
    "local_port":1081,
    "password":"xinhai",
    "timeout":300,
    "method":"aes-256-cfb",
    "fast_open": false,
    "workers": 10
}
------------------------------->
sudo systemctl enable shadowsocks@config.service
sudo systemctl start shadowsocks@config.service

sudo netstat -ntlp | grep 1081



修改右键打开文件的待选择程序
gedit /home/andy/.config/mimeapps.list
gedit /home/andy/.local/share/applications/mimeinfo.cache






sudo pacman -R acroread


cpu压力测试
sudo pacman -S stress s-tui sysstat


cat /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_max_freq
watch -n 2 "cat /proc/cpuinfo |grep MHz|uniq"
stress --cpu 16 --timeout 600
mpstat -P ALL 5
watch -n 2 uptime
htop


sudo pacman -S teamviewer
sudo systemctl disable teamviewerd


pacman -Ql archon
sudo pacman -R archon-exec
sudo pacman -R archon


还是用xz替换xz-git
sudo pacman -S xz cpio file-roller unzip-iconv

sudo pacman -S ark
//sudo pacman -S engrampa caja p7zip unace unrar brotli
sudo pacman -S engrampa caja p7zip unace brotli

sudo pacman -S strace






查看/var/log/pacman.log



关于deb包的file-roller解压无效问题
暂时的解决办法是修改为zip后缀再file-roller解压



draw.io的命令启动
cd /usr/local/bin
sudo gedit drawio
---------------------------------
#!/bin/bash
#export LD_LIBRARY_PATH=
cd /opt/draw.io
#./drawio $@
./drawio
---------------------------------
sudo chmod +x drawio




bash: fromdos: command not found 问题
yay tofrodos




key "could not be locally signed"
https://www.archlinux.org/news/gnupg-21-and-the-pacman-keyring/

sudo pacman -Syu haveged
sudo systemctl start haveged
sudo systemctl enable haveged
sudo pacman -S xfce4-goodies

sudo rm -fr /etc/pacman.d/gnupg
sudo pacman-key --init
sudo pacman-key --populate archlinux
sudo pacman-key --populate archlinuxcn




处理报错
==> ERROR: Please remove the SigLevel= line of [archlinuxcn] from "/etc/pacman.conf" to use the default setting
==> ERROR: 请删除 /etc/pacman.conf 中 [archlinuxcn] 下的 SigLevel= 行，以使用默认设

sudo gedit /etc/pacman.conf
删掉pacman.conf中[archlinuxcn]的siglevel一行



sudo pacman -Qg xfce4
sudo pacman -S xfce4
sudo pacman -S xfce4-goodies
cat /usr/share/xsessions/xfce.desktop



指定加载库文件，而不是库路径的方法
LD_PRELOAD=*.so ./runexe







rm -rf ~/.wine
rm -rf ~/.local/share/applications/wine*
rm ~/.local/share/mime/application/x-wine-extension*
rm ~/.local/share/mime/packages/x-wine-extension*




这样安装mono
wget https://dl.winehq.org/wine/wine-mono/5.1.1/wine-mono-5.1.1-x86.msi
/home/andy/.cache/wine/wine-mono-5.1.1-x86.msi


把存档的winetricks放到～/.cache/winetricks


WINEARCH=win32 WINEPREFIX=~/.wine winecfg
选XP





env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks vb6run vcrun6 vcrun6sp6 secur32 msvcirt mfc40 mfc42 riched20 riched30 gdiplus msxml3
env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks cmd gdiplus mfc42 vcrun2003 vcrun2005 riched20 riched30
env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks msxml4 msxml6 riched20 riched30 tahoma urlmon vb6run allfonts msls31 sandbox isolate_home
//env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks cmd comctl32 gdiplus mfc42 vcrun2003 vcrun2005 riched20 riched30
env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks colorprofile corefonts d3dx9 fontfix gdiplus
//env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks fontsmooth-gray
//env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks fontsmooth-rgb

//env WINEARCH=win32 WINEPREFIX=/home/andy/.wine proxychains winetricks mfc40 colorprofile corefonts d3dx9 fontfix fontsmooth-gray fontsmooth-rgb fontsmooth-bgr gdiplus  msxml4 msxml6 riched20 riched30 tahoma urlmon vb6run allfonts msls31
env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks ie8


这个会fail的
env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks flash
env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks vcrun2008 
env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks vcrun2010
env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks dotnet11 
env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks dotnet20 
env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks vjrun20

会导致程序挂掉的，不要安装
comctl32

显示会异常，不要安装
fontsmooth-bgr

如果出现
winetricks sha256sum mismatch!
grep EUupdate.EXE /usr/bin/winetricks
修改winetricks，这玩意是个脚本。。。
sudo gedit /usr/bin/winetricks

9e0a3d8d6e449146dfb71272e30d3d21f2a756bf5a96ecf9957c96310d8ed2fd




env LANG=zh_CN.UTF-8 WINEPREFIX="/home/andy/.wine" wine XXXXXXXX.exe

export WINEPREFIX=$HOME/.wine/
export WINEARCH=win32
export LANG=zh_CN.UTF-8
wine xxx.exe
==
env LC_ALL=zh_CN.UTF-8 LANG=zh_CN.UTF-8 WINEARCH=win32 WINEPREFIX=/home/andy/.wine wine xxx.exe


添加~/.bashrc
alias wine='env LC_ALL=zh_CN.UTF-8 LANG=zh_CN.UTF-8 WINEARCH=win32 WINEPREFIX=/home/andy/.wine wine'



sudo pacman -S wine-wechat
sudo pacman -R wine-wechat
rm -rf /home/andy/.local/lib/wine-wechat/default







快捷方式在/home/andy/.local/share/applications
桌面整合在/home/andy/.config/menus/applications-merged
winetricks --gui


wine几个工具 winrar，sourceinsight，

快捷启动图标在
/home/andy/.local/share/applications/wine/Programs/
~/Desktop



/home/andy/.local/share/mime/packages
/home/andy/.local/share/mime/application


update-desktop-database ~/.local/share/applications
update-mime-database ~/.local/share/mime





rar文件关联
perl-file-mimeinfo 调用 mimeopen 类似这样:
mimeopen -d /path/to/file
会提示用哪个程序来打开 /path/to/file:
Please choose a default application for files of type text/plain
       1) notepad  (wine-extension-txt)
       2) Leafpad  (leafpad)
       3) OpenOffice.org Writer  (writer)
       4) gVim  (gvim)
       5) Other...

添加rar类型的
/home/andy/.local/share/mime/application/x-wine-extension-rar.xml
/home/andy/.local/share/mime/packages/x-wine-extension-rar.xml
有关位置
/home/andy/.local/share/mime/application/
/home/andy/.local/share/mime/packages/
/home/andy/.local/share/applications
/usr/share/mime/packages
/usr/share/mime/application

其他有关mime的文件
~/.config/mimeapps.list
！！ 如果通过选择默认程选了wine里面的rar,会在这里体现,可以删掉pcmanfm多的openwith


一个好的mime图形化工具
xfce4-mime-settings



wine安装ORCAD Capture 16.3精简版，只是为了看或者画16.2以上格式的原理图
//首先，修改安装文件exe的名字，不要有中文

//export LANG=zh_CN.utf8
//wine capture.exe
//这个屌货强制安装到d:盘哇
先到虚拟机里安装一个复制出来好了


以前wine过orcad10
~/.local/share/applications/wine-extension-dsn.desktop
查到Exec=env LANG=zh_CN.UTF-8 WINEPREFIX="/home/andy/.wine" wine start /ProgIDOpen OrCADDesign-FileType %f
OrCADDesign-FileType是在~/.wine/system.reg中定义的

Z:\\home\\andy\\DOWN~NTG\\ORCA~RWC\\Capture\\Capture.exe
Z:\\home\\andy\\Downloads\\OrCAD_Demo\\Capture\\Capture.exe
替换成
C:\\Program Files\\ORCAD16.3\\Capture.exe

看上去是C:\\Program Files\\ORCAD16.3\\Capture.exe
实际上gedit用C:\\\\Program Files\\\\ORCAD16.3\\\\Capture.exe注意区别

重启wine
wineboot

试一下
env LANG=zh_CN.UTF-8 WINEPREFIX="/home/andy/.wine" wine start /ProgIDOpen OrCADDesign-FileType  machxo3-9400_dev_board_schematic_source.DSN
缺少 MFC80.DLL
env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks --gui

env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks win2k vcrun2005
env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks vcrun2005sp1
env WINEARCH=win32 WINEPREFIX=/home/andy/.wine winetricks win2k vcrun2005sp1

安装vcrun2005不能
那么直接给mfc80.dll文件吧，可以运行了

export CDS_LIC_FILE=/home/andy/.wine/drive_c/Program\ Files/ORCAD16.3/license.txt
env LANG=zh_CN.UTF-8 WINEPREFIX="/home/andy/.wine" wine start /ProgIDOpen OrCADDesign-FileType  machxo3-9400_dev_board_schematic_source.DSN


修改一下~/.local/share/applications/wine-extension-dsn.desktop
Exec=env CDS_LIC_FILE=/home/andy/.wine/drive_c/Program\ Files/ORCAD16.3/license.txt LANG=zh_CN.UTF-8 WINEPREFIX="/home/andy/.wine" wine start /ProgIDOpen OrCADDesign-FileType %f

另外修改
gedit ~/.local/share/applications/wine-extension-opj.desktop
Exec=env CDS_LIC_FILE=/home/andy/.wine/drive_c/Program\ Files/ORCAD16.3/license.txt LANG=zh_CN.UTF-8 WINEPREFIX="/home/andy/.wine" wine start /ProgIDOpen OrCADProject-FileType %f





wine运行pads9.3精简版
假设放到
/home/andy/.wine/drive_c/Program Files/MentorGraphics/

license文件在/home/andy/.wine/drive_c/Program Files/MentorGraphics/flexlm
需要修改mac地址

需要修改比如/home/andy/.wine/drive_c/Program Files/MentorGraphics/9.3PADS/SDD_HOME/Programs/powerpcb.ini文件
否则会出现: "The directory pointed by the FileDir INI file entry cannot be found.Aborting."


然后按set.txt来设置linux环境变量和执行pads
env MGLS_LICENSE_FILE=/home/andy/.wine/drive_c/Program\ Files/MentorGraphics/flexlm/LICENSE.dat LANG=zh_CN.UTF-8 WINEPREFIX="/home/andy/.wine" wine powerpcb.exe

修改
gedit ~/.local/share/applications/wine-extension-pcb.desktop
Exec=env MGLS_LICENSE_FILE=/home/andy/.wine/drive_c/Program\ Files/MentorGraphics/flexlm/LICENSE.dat LANG=zh_CN.UTF-8 WINEPREFIX="/home/andy/.wine" wine start /ProgIDOpen PowerPCB.Design %f






cd .wine/drive_c/windows/
wine regedit.exe
cp /usr/share/doc/wine-development/examples/wine.desktop /home/andy/.local/share/applications
xfce4-mime-settings
这样就能右键wine可执行的windows的exe程序













sudo rm /usr/bin/wechat
sudo pacman -S wine-wechat
sudo pacman -R wine-wechat



ext4分区删除文件不能建立trash can，这个问题没有解决。参照debian的挂载参数尝试修改fstab也没有搞定。
sudo chown -R $USER .Trash-1000



主动锁屏
在~/.config/openbox/rc.xml 合适位置添加如下内容
<-----------------------------------------------------------------------------------
    <!-- Take a screenshot of the current window with gnome-screenshot when Alt+Print are pressed -->
    <keybind key="A-Print">
      <action name="Execute">
        <command>gnome-screenshot -w</command>
      </action>
    </keybind>
    <!-- Launch gnome-screenshot when Print is pressed -->
    <keybind key="Print">
      <action name="Execute">
        <command>gnome-screenshot</command>
      </action>
    </keybind>
    
    <keybind key="W-l">
      <action name="Execute">
        <command>xscreensaver-command --lock</command>
        <startupnotify>
          <enabled>yes</enabled>
          <name>Lock Screen</name>
        </startupnotify>
      </action>
    </keybind>
----------------------------------------------------------------------------------->



sudo usermod -aG brlapi andy

sudo pacman -R linux-lts
sudo pacman -R linux-lts-headers



sudo mv /etc/pipewire/pipewire.conf /etc/pipewire/pipewire.conf.bk
sudo mv /etc/pipewire/pipewire.conf.pacnew /etc/pipewire/pipewire.conf






sudo pacman -S dos2unix




yay DSView


发现挂载的移动硬盘上的ext4分区，trash can又是正常的

/usr/share/polkit-1/actions/org.freedesktop.policykit.policy
/usr/share/polkit-1/actions/org.gtk.vfs.file-operations.policy
看起来木有问题

关于ntfs，设置对了uid是可以用trash can的
sudo mount -t ntfs -o uid=1000,gid=10 /dev/sdc1 test/
mkdir .Trash-1000
chown 1000:10 .Trash-1000
sudo mount -t ntfs -o uid=1000,gid=100 /dev/sdc1 test/
mkdir .Trash-1000
chown 1000:100 .Trash-1000
用id命令查看当前用户的uid什么的



gvfs-trash is deprecated:
/////sudo vim /usr/bin/gvfs-trash
#!/bin/bash
# GVFS updated and dropped gvfs-trash to gio, but Atom didn't update.
/usr/bin/gio trash "$@"
sudo chmod +x /usr/bin/gvfs-trash
直接用gio trash删除就好了，如果Trashing on system internal mounts is not supported


根据
https://bugzilla.xfce.org/show_bug.cgi?id=15922
https://gitlab.gnome.org/GNOME/glib/blob/master/gio/gunixmounts.c#L223
g_unix_is_mount_path_system_internal(), they call to see if it's "system internal":
看来仓库的二进制文件是不再支持在/opt或者/dev/shm这样的位置创建trash can了












See 'git difftool --tool-help' or 'git help config' for more details.
'git difftool' will now attempt to use one of the following tools:
opendiff kdiff3 tkdiff xxdiff meld kompare gvimdiff diffuse diffmerge ecmerge p4merge araxis bc codecompare emerge vimdiff


xxdiff/meld工具看起来还不错gitk直接可以设置为比较工具
gitk实际上可以比较任何两个commit之间的diff：先选old再在new上右键，再比较每一个文件的diff
meld用来merge还行，只用来比较有点太花哨了。还是默认xxdiff好了



xdg-mime query filetype 4L4.pcb
mimetype 4L4.pcb

file --mime-type 4L4.pcb
不一致

update-mime-database ~/.local/share/mime
gtk-update-icon-cache
update-desktop-database ~/.local/share/applications/

mime type 确实是正确的，但是，文件不显示icon，右键菜单的备选程序有icon。I don't have any idea.


sudo update-mime-database /usr/share/mime


根据
https://wiki.archlinux.org/index.php/XDG_MIME_Applications
~/.local/share/mime/packages/application-x-foobar.xml
<?xml version="1.0" encoding="UTF-8"?>
<mime-info xmlns="http://www.freedesktop.org/standards/shared-mime-info">
    <mime-type type="application/x-foobar">
        <comment>foo file</comment>
        <icon name="application-x-foobar"/>
        <glob-deleteall/>
        <glob pattern="*.foo"/>
    </mime-type>
</mime-info>



gedit ~/.local/share/mime/packages/x-wine-extension-dsn.xml
<-------------------------------------------
<?xml version="1.0" encoding="UTF-8"?>
<mime-info xmlns="http://www.freedesktop.org/standards/shared-mime-info">
  <mime-type type="application/x-wine-extension-dsn">
    <generic-icon name="application-x-wine-extension-dsn"/>
    <glob pattern="*.dsn"/>
    <comment>OrCAD Capture Design File Type</comment>
  </mime-type>
</mime-info>
------------------------------------------->
update-mime-database ~/.local/share/mime
locate application-x-wine-extension-dsn.png
确实可以
类似的办法opj弄了


pcb格式呢
sudo gedit /usr/share/mime/packages/pcb.xml
加    <generic-icon name="application-x-pcb-layout"/>
sudo update-mime-database /usr/share/mime
update-mime-database ~/.local/share/mime
无效。。。。
[实际上在nautilus和thunar等都显示正常的，那么应该是pcmanfm的问题咯]

cp /usr/share/mime/packages/pcb.xml ~/.local/share/mime/packages/
update-mime-database ~/.local/share/mime




sudo pacman -S lxpanel libfm pcmanfm
sudo pacman -S lxpanel-gtk3 libfm-gtk3 pcmanfm-gtk3
sudo pacman -S libfm-qt pcmanfm-qt lxqt-archiver

thunar目前看是最好的选择了


totem


安装ranger
Optional dependencies for ranger
    atool: for previews of archives
    elinks: for previews of html pages
    ffmpegthumbnailer: for video previews [installed]
    highlight: for syntax highlighting of code
    libcaca: for ASCII-art image previews [installed]
    lynx: for previews of html pages [installed]
    mediainfo: for viewing information about media files
    odt2txt: for OpenDocument texts
    perl-image-exiftool: for viewing information about media files [installed]
    poppler: for pdf previews [installed]
    python-chardet: in case of encoding detection problems [installed]
    sudo: to use the "run as root"-feature [installed]
    transmission-cli: for viewing bittorrent information [installed]
    ueberzug: for previews of images
    w3m: for previews of images and html pages [installed]

补充安装
atool lha elinks highlight mediainfo odt2txt ueberzug






安装i3-gaps i3status dunst
Optional dependencies for i3-gaps
    rxvt-unicode: The terminal emulator used in the default config.
    dmenu: As menu. [installed]
    i3lock: For locking your screen.
    i3status: To display system information with a bar.
    perl-json-xs: For i3-save-tree [installed]
    perl-anyevent-i3: For i3-save-tree



编译libjaylink
安装aur-libjaylink-git

pacman安装stlink
////sudo cp -a /usr/lib/udev/rules.d/* /etc/udev/rules.d/
安装pandoc

git clone https://github.com/stlink-org/stlink.git
cd stlink
make release
sudo make install
$ sudo cp -a config/udev/rules.d/* /etc/udev/rules.d/
$ sudo udevadm control --reload-rules
$ sudo udevadm trigger

sudo st-info --probe
sudo st-util -1
sudo st-info --chipid
sudo st-flash --reset erase
sudo st-flash write file.bin 0x08000000
sudo st-flash --debug write file.bin 0x08000000 > debug.log 2>&1
sudo st-flash reset

st-info --probe
st-util -1
st-info --chipid
st-flash --reset erase
st-flash write file.bin 0x08000000
st-flash --debug write file.bin 0x08000000 > debug.log 2>&1
st-flash reset

st-flash read out.bin 0x8000000 1048576


sudo modprobe -r usb-storage && sudo modprobe usb-storage


git clone https://github.com/stlink-org/stlink --branch v1.6.0

确认stlink v1已经不能在最新的环境使用了
stlink v2完全正常
安装aur-stlink-git




git@github.com:EmBitz/EBlink.git


yaourt cutecom


sudo pacman -S libpgf


20201216
sudo pacman -Syu

sudo systemctl disable qemu-ga.service
sudo systemctl enable qemu-guest-agent.service

sudo pacman -S qt5-charts vcdimager




See 'git difftool --tool-help' or 'git help config' for more details.
'git difftool' will now attempt to use one of the following tools:
opendiff kdiff3 tkdiff xxdiff meld kompare gvimdiff diffuse diffmerge ecmerge p4merge araxis bc codecompare emerge vimdiff


xxdiff/meld工具看起来还不错gitk直接可以设置为比较工具
gitk实际上可以比较任何两个commit之间的diff：先选old再在new上右键，再比较每一个文件的diff
meld用来merge还行，只用来比较有点太花哨了。还是默认xxdiff好了



yay xxdiff
sudo pacman -S meld


sudo pacman -S boost ogre mygui

yay snapd
makepkg -si  编译失败
sudo pacman -S apparmor python-notify2 go-tools squashfuse
makepkg --nocheck
sudo pacman -U snapd-2.48.2-1-x86_64.pkg.tar.zst
sudo systemctl enable --now snapd.socket


sudo systemctl restart snapd.service
sudo systemctl restart apparmor.service
sudo systemctl enable --now snapd.apparmor.service
sudo systemctl daemon-reload && sudo systemctl restart snapd
systemctl status snapd

snap version
snap --version
sudo snap install hello-world
sudo proxychains snap install hello-world
/var/lib/snapd/snap/bin/hello-world
sudo journalctl -u snapd
snap list
//sudo snap remove hello-world
snap find

sudo pacman -S apparmor go-tools sdl_net






sudo pacman -S wireshark-qt

sudo pacman -S python2-pip python-pip

//sudo pip3.9 install --upgrade pip -i https://mirrors.163.com/pypi/simple

优先用pacman安装python module！！
//sudo pip3.9 install tensorflow==1.5 -i https://mirrors.163.com/pypi/simple
//sudo pip3.9 install mxnet==1.1 -i https://mirrors.163.com/pypi/simple
sudo pacman -S python-numpy cython
//sudo pip3.9 install Cython -i https://mirrors.163.com/pypi/simple
//sudo pip3.9 install numpy -i https://mirrors.163.com/pypi/simple
//sudo pip3.9 install mkl -i https://mirrors.163.com/pypi/simple
//sudo pip3.9 install scipy -i https://mirrors.163.com/pypi/simple
//sudo pip3.9 uninstall scipy

/sudo pip3.9 install pilutil -i https://mirrors.163.com/pypi/simple

//sudo pip3.9 install scipy==1.1.0 -i https://mirrors.163.com/pypi/simple
check https://github.com/scipy/scipy/issues/6212
python3.9
from scipy.misc import imread
cannot import ！
imread is deprecated in SciPy 1.0.0, and will be removed in 1.2.0. Use imageio.imread instead
python3.9
from imageio import imread
from matplotlib.pyplot import imread

sudo pacman -S cfitsio gcc-fortran

sudo pacman -S python-scipy python-scipy-doc
//sudo pip3.9 install matplotlib -i https://mirrors.163.com/pypi/simple
sudo pacman -S python-matplotlib
sudo pacman -S python-notify2
sudo pacman -S python-pilkit cython python-qtpy
sudo pacman -S python-skorch python-scikit-image python-scikit-learn python-scikit-build python-pillow python-pillowfight python-pilkit
//sudo pip3.9 install scikit-image -i https://mirrors.163.com/pypi/simple
//sudo pip3.9 uninstall scikit-image
//sudo pip3.9 uninstall tifffile pywavelets networkx imageio


sudo pacman -S python-tensorflow python-opt_einsum python-tensorflow-estimator python-tensorflow-opt tensorflow tensorboard tensorflow-opt python-tensorboardx mxnet-git python-mxboard 
//sudo pacman -S python-horovod 
//sudo pacman -S python-pytorch-opt 
sudo pacman -S python-pytorch




sudo pacman -S telegram-desktop ttf-opensans





yay fxload
安装hotplug的hex
/opt/Xilinx/14.7/ISE_DS/ISE/bin/lin64/install_script/install_drivers/
安装rules
/opt/Xilinx/Vivado/2017.4/data/xicom/cable_drivers/lin64/install_script/install_drivers
修改rules
sudo gedit /etc/udev/rules.d/52-xilinx-pcusb.rules
<----------------------------------------------------------------------------------
# version 0002
#ATTR{idVendor}=="03fd", ATTR{idProduct}=="0008", MODE="666"
#ATTR{idVendor}=="03fd", ATTR{idProduct}=="0007", MODE="666"
#ATTR{idVendor}=="03fd", ATTR{idProduct}=="0009", MODE="666"
#ATTR{idVendor}=="03fd", ATTR{idProduct}=="000d", MODE="666"
#ATTR{idVendor}=="03fd", ATTR{idProduct}=="000f", MODE="666"
#ATTR{idVendor}=="03fd", ATTR{idProduct}=="0013", MODE="666"
#ATTR{idVendor}=="03fd", ATTR{idProduct}=="0015", MODE="666"

# version 0003
ATTRS{idVendor}=="03fd", ATTRS{idProduct}=="0008", MODE="666"
SUBSYSTEMS=="usb", ACTION=="add", ATTRS{idVendor}=="03fd", ATTRS{idProduct}=="0007", RUN+="/sbin/fxload -v -t fx2 -I /etc/hotplug/usb/xusbdfwu.fw/xusbdfwu.hex -D $tempnode"
SUBSYSTEMS=="usb", ACTION=="add", ATTRS{idVendor}=="03fd", ATTRS{idProduct}=="0009", RUN+="/sbin/fxload -v -t fx2 -I /etc/hotplug/usb/xusbdfwu.fw/xusb_xup.hex -D $tempnode"
SUBSYSTEMS=="usb", ACTION=="add", ATTRS{idVendor}=="03fd", ATTRS{idProduct}=="000d", RUN+="/sbin/fxload -v -t fx2 -I /etc/hotplug/usb/xusbdfwu.fw/xusb_emb.hex -D $tempnode"
SUBSYSTEMS=="usb", ACTION=="add", ATTRS{idVendor}=="03fd", ATTRS{idProduct}=="000f", RUN+="/sbin/fxload -v -t fx2 -I /etc/hotplug/usb/xusbdfwu.fw/xusb_xlp.hex -D $tempnode"
SUBSYSTEMS=="usb", ACTION=="add", ATTRS{idVendor}=="03fd", ATTRS{idProduct}=="0013", RUN+="/sbin/fxload -v -t fx2 -I /etc/hotplug/usb/xusbdfwu.fw/xusb_xp2.hex -D $tempnode"
SUBSYSTEMS=="usb", ACTION=="add", ATTRS{idVendor}=="03fd", ATTRS{idProduct}=="0015", RUN+="/sbin/fxload -v -t fx2 -I /etc/hotplug/usb/xusbdfwu.fw/xusb_xse.hex -D $tempnode"
---------------------------------------------------------------------------------->
如果要更新hex文件
//sudo cp /opt/Xilinx/Vivado/2017.4/data/xicom/xusb*.hex /etc/hotplug/usb/xusbdfwu.fw/


$ sudo udevadm control --reload-rules
$ sudo udevadm trigger





deb转pacman除了像st-stlink-server那样编写makepkg脚本
还可以用转换工具
yay debtap
sudo debtap -u
debtap xxx.deb

#已经安装过了 /opt/Ac6/SystemWorkbench/install_stlink_udev.sh
/opt/Ac6/SystemWorkbench/stlinkserver/st-stlink-server-1.0.12-1-linux-amd64.deb经过debtap转换后
安装st-stlink-server-1.0.12-1-x86_64.pkg.tar.zst



sudo pacman -S docker











sudo pacman -S ariang-allinone


sudo mkdir -p /etc/aria2
sudo touch /etc/aria2/aria2.session
sudo gedit /etc/aria2/aria2.conf
<------------------------------------------------------
## '#'开头为注释内容, 选项都有相应的注释说明, 根据需要修改 ##
## 被注释的选项填写的是默认值, 建议在需要修改时再取消注释  ##
 
## 文件保存相关 ##
 
# 文件的保存路径(可使用绝对路径或相对路径), 默认: 当前启动位置
# dir=~/Downloads 不行啊，直接在/下创建了“～”目录呢
dir=/home/andy/Downloads
# 启用磁盘缓存, 0为禁用缓存, 需1.16以上版本, 默认:16M
disk-cache=32M
# 文件预分配方式, 能有效降低磁盘碎片, 默认:prealloc
# 预分配所需时间: none < falloc ? trunc < prealloc
# falloc和trunc则需要文件系统和内核支持
# NTFS建议使用falloc, EXT3/4建议trunc, MAC 下需要注释此项
# file-allocation=none
file-allocation=trunc
# 断点续传
continue=true

## 下载连接相关 ##
 
# 最大同时下载任务数, 运行时可修改, 默认:5
max-concurrent-downloads=20
# 同一服务器连接数, 添加时可指定, 默认:1
max-connection-per-server=10
# 最小文件分片大小, 添加时可指定, 取值范围1M -1024M, 默认:20M
# 假定size=10M, 文件为20MiB 则使用两个来源下载; 文件为15MiB 则使用一个来源下载
min-split-size=10M
# 单个任务最大线程数, 添加时可指定, 默认:5
#split=5
# 整体下载速度限制, 运行时可修改, 默认:0
#max-overall-download-limit=0
# 单个任务下载速度限制, 默认:0
#max-download-limit=0
# 整体上传速度限制, 运行时可修改, 默认:0
#max-overall-upload-limit=0
# 单个任务上传速度限制, 默认:0
#max-upload-limit=0
# 禁用IPv6, 默认:false
#disable-ipv6=true
# 连接超时时间, 默认:60
#timeout=60
# 最大重试次数, 设置为0表示不限制重试次数, 默认:5
#max-tries=5
# 设置重试等待的秒数, 默认:0
#retry-wait=0
 
## 进度保存相关 ##
 
# 从会话文件中读取下载任务
input-file=/etc/aria2/aria2.session
# 在Aria2退出时保存`错误/未完成`的下载任务到会话文件
save-session=/etc/aria2/aria2.session
# 定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0
#save-session-interval=60
 
## RPC相关设置 ##
 
# 启用RPC, 默认:false
enable-rpc=true
# 允许所有来源, 默认:false
rpc-allow-origin-all=true
# 允许非外部访问, 默认:false
rpc-listen-all=true
# 事件轮询方式, 取值:[epoll, kqueue, port, poll, select], 不同系统默认值不同
#event-poll=select
# RPC监听端口, 端口被占用时可以修改, 默认:6800
#rpc-listen-port=6800
# 设置的RPC授权令牌, v1.18.4新增功能, 取代 --rpc-user 和 --rpc-passwd 选项
rpc-secret=mytoken
# 设置的RPC访问用户名, 此选项新版已废弃, 建议改用 --rpc-secret 选项
#rpc-user=<USER>
# 设置的RPC访问密码, 此选项新版已废弃, 建议改用 --rpc-secret 选项
#rpc-passwd=<PASSWD>
# 是否启用 RPC 服务的 SSL/TLS 加密,
# 启用加密后 RPC 服务需要使用 https 或者 wss 协议连接
#rpc-secure=true
# 在 RPC 服务中启用 SSL/TLS 加密时的证书文件,
# 使用 PEM 格式时，您必须通过 --rpc-private-key 指定私钥
#rpc-certificate=/path/to/certificate.pem
# 在 RPC 服务中启用 SSL/TLS 加密时的私钥文件
#rpc-private-key=/path/to/certificate.key
 
## BT/PT下载相关 ##
 
# 当下载的是一个种子(以.torrent结尾)时, 自动开始BT任务, 默认:true
#follow-torrent=true
# BT监听端口, 当端口被屏蔽时使用, 默认:6881-6999
listen-port=51413
# 单个种子最大连接数, 默认:55
#bt-max-peers=55
# 打开DHT功能, PT需要禁用, 默认:true
enable-dht=false
# 打开IPv6 DHT功能, PT需要禁用
#enable-dht6=false
# DHT网络监听端口, 默认:6881-6999
#dht-listen-port=6881-6999
# 本地节点查找, PT需要禁用, 默认:false
#bt-enable-lpd=false
# 种子交换, PT需要禁用, 默认:true
enable-peer-exchange=false
# 每个种子限速, 对少种的PT很有用, 默认:50K
#bt-request-peer-speed-limit=50K
# 客户端伪装, PT需要
peer-id-prefix=-TR2770-
user-agent=Transmission/2.77
# 当种子的分享率达到这个数时, 自动停止做种, 0为一直做种, 默认:1.0
seed-ratio=0
# 强制保存会话, 即使任务已经完成, 默认:false
# 较新的版本开启后会在任务完成后依然保留.aria2文件
#force-save=false
# BT校验相关, 默认:true
#bt-hash-check-seed=true
# 继续之前的BT任务时, 无需再次校验, 默认:false
bt-seed-unverified=true
# 保存磁力链接元数据为种子文件(.torrent文件), 默认:false
bt-save-metadata=true

------------------------------------------------------>
ref:
https://wiki.archlinux.org/index.php/Aria2

continue
daemon=true
dir=/home/aria2/Downloads
file-allocation=falloc
log-level=warn
max-connection-per-server=4
max-concurrent-downloads=3
max-overall-download-limit=0
min-split-size=5M
enable-http-pipelining=true

enable-rpc=true
rpc-listen-all=true
rpc-user=rpcuser
rpc-passwd=rpcpass


sudo gedit /etc/systemd/system/aria2cd.service
<------------------------------------------------------
[Unit]
Description=Aria2 Daemon

[Service]
Type=simple
ExecStart=/usr/bin/aria2c --conf-path=/etc/aria2/aria2.conf
TimeoutSec=0
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target

------------------------------------------------------>
sudo systemctl enable aria2cd.service
sudo systemctl start aria2cd.service




上面那样设置，aria2c的运行是以root身份。不想这样
sudo systemctl stop aria2cd.service
sudo systemctl disable aria2cd.service
sudo rm /etc/systemd/system/aria2cd.service
sudo rm -rf /etc/aria2


mkdir ~/.config/aria2
touch ~/.config/aria2/aria2.session #用于保存日志
touch ~/.config/aria2/aria2.conf #创建配置文件

gedit ~/.config/aria2/aria2.conf
<------------------------------------------------------
## '#'开头为注释内容, 选项都有相应的注释说明, 根据需要修改 ##
## 被注释的选项填写的是默认值, 建议在需要修改时再取消注释  ##
 
## 文件保存相关 ##
 
# 文件的保存路径(可使用绝对路径或相对路径), 默认: 当前启动位置
# dir=~/Downloads
dir=/home/andy/Downloads
# 启用磁盘缓存, 0为禁用缓存, 需1.16以上版本, 默认:16M
disk-cache=32M
# 文件预分配方式, 能有效降低磁盘碎片, 默认:prealloc
# 预分配所需时间: none < falloc ? trunc < prealloc
# falloc和trunc则需要文件系统和内核支持
# NTFS建议使用falloc, EXT3/4建议trunc, MAC 下需要注释此项
# file-allocation=none
file-allocation=trunc
# 断点续传
continue=true

## 下载连接相关 ##
 
# 最大同时下载任务数, 运行时可修改, 默认:5
max-concurrent-downloads=20
# 同一服务器连接数, 添加时可指定, 默认:1
max-connection-per-server=10
# 最小文件分片大小, 添加时可指定, 取值范围1M -1024M, 默认:20M
# 假定size=10M, 文件为20MiB 则使用两个来源下载; 文件为15MiB 则使用一个来源下载
min-split-size=10M
# 单个任务最大线程数, 添加时可指定, 默认:5
#split=5
# 整体下载速度限制, 运行时可修改, 默认:0
#max-overall-download-limit=0
# 单个任务下载速度限制, 默认:0
#max-download-limit=0
# 整体上传速度限制, 运行时可修改, 默认:0
#max-overall-upload-limit=0
# 单个任务上传速度限制, 默认:0
#max-upload-limit=0
# 禁用IPv6, 默认:false
#disable-ipv6=true
# 连接超时时间, 默认:60
#timeout=60
# 最大重试次数, 设置为0表示不限制重试次数, 默认:5
#max-tries=5
# 设置重试等待的秒数, 默认:0
#retry-wait=0
 
## 进度保存相关 ##
 
# 从会话文件中读取下载任务
input-file=/home/andy/.config/aria2/aria2.session
# 在Aria2退出时保存`错误/未完成`的下载任务到会话文件
save-session=/home/andy/.config/aria2/aria2.session
# 定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0
#save-session-interval=60
 
## RPC相关设置 ##
 
# 启用RPC, 默认:false
enable-rpc=true
# 允许所有来源, 默认:false
rpc-allow-origin-all=true
# 允许非外部访问, 默认:false
rpc-listen-all=true
# 事件轮询方式, 取值:[epoll, kqueue, port, poll, select], 不同系统默认值不同
#event-poll=select
# RPC监听端口, 端口被占用时可以修改, 默认:6800
#rpc-listen-port=6800
# 设置的RPC授权令牌, v1.18.4新增功能, 取代 --rpc-user 和 --rpc-passwd 选项
rpc-secret=mytoken
# 设置的RPC访问用户名, 此选项新版已废弃, 建议改用 --rpc-secret 选项
#rpc-user=<USER>
# 设置的RPC访问密码, 此选项新版已废弃, 建议改用 --rpc-secret 选项
#rpc-passwd=<PASSWD>
# 是否启用 RPC 服务的 SSL/TLS 加密,
# 启用加密后 RPC 服务需要使用 https 或者 wss 协议连接
#rpc-secure=true
# 在 RPC 服务中启用 SSL/TLS 加密时的证书文件,
# 使用 PEM 格式时，您必须通过 --rpc-private-key 指定私钥
#rpc-certificate=/path/to/certificate.pem
# 在 RPC 服务中启用 SSL/TLS 加密时的私钥文件
#rpc-private-key=/path/to/certificate.key
 
## BT/PT下载相关 ##
 
# 当下载的是一个种子(以.torrent结尾)时, 自动开始BT任务, 默认:true
#follow-torrent=true
# BT监听端口, 当端口被屏蔽时使用, 默认:6881-6999
listen-port=51413
# 单个种子最大连接数, 默认:55
#bt-max-peers=55
# 打开DHT功能, PT需要禁用, 默认:true
enable-dht=false
# 打开IPv6 DHT功能, PT需要禁用
#enable-dht6=false
# DHT网络监听端口, 默认:6881-6999
#dht-listen-port=6881-6999
# 本地节点查找, PT需要禁用, 默认:false
#bt-enable-lpd=false
# 种子交换, PT需要禁用, 默认:true
enable-peer-exchange=false
# 每个种子限速, 对少种的PT很有用, 默认:50K
#bt-request-peer-speed-limit=50K
# 客户端伪装, PT需要
peer-id-prefix=-TR2770-
user-agent=Transmission/2.77
# 当种子的分享率达到这个数时, 自动停止做种, 0为一直做种, 默认:1.0
seed-ratio=0
# 强制保存会话, 即使任务已经完成, 默认:false
# 较新的版本开启后会在任务完成后依然保留.aria2文件
#force-save=false
# BT校验相关, 默认:true
#bt-hash-check-seed=true
# 继续之前的BT任务时, 无需再次校验, 默认:false
bt-seed-unverified=true
# 保存磁力链接元数据为种子文件(.torrent文件), 默认:false
bt-save-metadata=true

daemon=true
------------------------------------------------------>

mkdir -p ~/.config/systemd/user
gedit ~/.config/systemd/user/aria2cd.service
<------------------------------------------------------
[Unit]
Description=Aria2 Daemon

[Service]
Type=forking
ExecStart=/usr/bin/aria2c --conf-path=/home/andy/.config/aria2/aria2.conf
TimeoutSec=0
RemainAfterExit=yes

[Install]
WantedBy=default.target
------------------------------------------------------>
Type=forking情况下，要么配置文件设置成daemon=true，要么ExecStart加-D选项
或者Type=simple，不过这样不太好

systemctl --user enable aria2cd.service

systemctl --user daemon-reload
systemctl --user start aria2cd.service

ok了





aria2，也可添加-D选项，后台启动
aria2c --conf-path=$HOME/.config/aria2/aria2.conf -D
和前面的启动用户服务的方法是等效的, 可以添加到自动启动脚本



aria2c前端uget-gtk

uget old settings
curl
http://localhost:6800/jsonrpc
path:aria2c
arguments:--enable-rpc=true -D --disable-ipv6 --check-certificate=false

uget new settings
aria2+curl
http://localhost:6800/jsonrpc
token:mytoken
path:aria2c
arguments:--conf-path=/home/andy/.config/aria2/aria2.conf



aria2c前端ariang-allinone
ariang settings -> RPC(localhost:6800) -> Token填入 RPC授权令牌 前面设置的是“mytoken”





sudo pacman -S nethogs
sudo nethogs wlan0





yaourt ddd
gpg --keyserver keyserver.ubuntu.com --recv-keys 6656C593E5158D1A







Xilin vivado sdk rlwrap使用native版本
sudo pacman -S rlwrap
修改tclsh，xmd，xstc，xsdb，xtclsh(不同版本稍有不同)
替换
"$RDI_BINROOT"/unwrapped/"$RDI_PLATFORM$RDI_OPT_EXT"/rlwrap
为
/usr/bin/rlwrap










sudo gedit /usr/share/mime/packages/pcb.xml
添加  
<generic-icon name="application-x-pcb-layout"/>
<glob pattern="*.pcb"/>

sudo update-mime-database /usr/share/mime
sudo update-desktop-database /usr/share/applications
sudo gtk-update-icon-cache /usr/share/icons/hicolor
cat /usr/share/mime/application/x-pcb-layout.xml

pcmanfm下pcb文件还是没有图标，放弃了








~.gtkrc-2.0
/etc/gtk-2.0/gtkrc and add the following line:

gtk-icon-theme-name = "gnome"



sudo usermod -aG storage andy

gtk3版本的lxappearance运行不起来..
sudo pacman -S lxappearance lxappearance-obconf 

sudo pacman -S gnome-icon-theme gnome-icon-theme-extras mate-icon-theme mate-icon-theme-faenza xcursor-themes

sudo pacman -S tango-icon-theme-extras tango-icon-theme




创建百度网盘的命令启动
cd /usr/local/bin
sudo gedit baidunetdisk
---------------------------------
#!/bin/bash
cd /opt/baidunetdisk
./baidunetdisk
---------------------------------
sudo chmod +x baidunetdisk




苦于gedit什么的没有掉电保存功能
更新notepadqq
邮件和快捷键的编辑器都设置成notepadqq



sudo pacman -S pycharm-professional




sudo pacman -S libopenraw













！目前千万不要
！安装kde

sudo pacman -S plasma-meta
sudo pacman -Rns plasma-meta
noto-fonts-cjk 
noto-fonts-extra
gnuplot
plasma-workspace
packagekit-qt5
breeze-gtk
qt5-virtualkeyboard
plasma-workspace-wallpapers
networkmanager-qt
gpsd
kdepim-addons
appmenu-gtk-module
baloo
discover
kross
purpose
quota-tools
plasma-nm
powerdevil
ibus
scim
encfs
cryfs
gocryptfs
packagekit-qt5
fwupd
breeze-grub


sudo pacman -S plasma
sudo pacman -S plasma-desktop
sudo pacman -S plasma-wayland-session
sudo pacman -Rns plasma-wayland-session
opus-tools
maxima
octave
r
sagemath
julia
libdvdcss
gnu-free-fonts
live-media
libgoom2
aribb24
aribb25
libva-vdpau-driver
kimageformats
kipi-plugins
kamera
postgresql
libetebase
vorbis-tools
python-language-server
texlab
rust
sox
movit
rtaudio
dvdauthor
recordmydesktop
xine-ui
grammalecte
libmediawiki
libkvkontakte
gnuchess
libgadu
mediastreamer
python-random2
python-pysol_cards
languagetool
libwlocate
shapelib
calligra
udftools
system-config-printer
telepathy-gabble
telepathy-haze
telepathy-morse
telepathy-salut
lldb
okteta
cppcheck
astyle
heaptrack

sudo pacman -S kde-applications
sudo pacman -S kde-applications-meta 
sudo pacman -Rns kde-applications-meta

sudo pacman -Rns kdevelop kdevelop-php libksysguard umbrello plasma-workspace kget telepathy-kde-desktop-applets
sudo pacman -Rns plasma

sudo pacman -Rns baloo baloo-widgets dolphin konqueror elisa gwenview





balooctl disable

~/.config/kwalletrc
[Wallet]
Enabled=false
Open=false




opera
inode/directory=pcmanfm.desktop
sudo pacman -S gnome gnome-extra gnome-shell


locate org.kde.kgpg.desktop
sudo rm /etc/xdg/autostart/org.kde.kgpg.desktop
sudo gedit /usr/share/dbus-1/services/org.gnome.OnlineAccounts.service
注释掉goa-daemon



dpms is the Display Power Management Signalling. For the xfce4-power-manager to disable it is a simple command mainly just to quit it.

xfce4-power-manager -q
To re-enable xfce4-power-manager it is:

nohup xfce4-power-manager & 2>&1 >/dev/null
To disable the dpms run the following command:

xset -dpms
To enable dpms it is just the opposite:

xset dpms


sudo gedit /usr/share/dbus-1/services/org.kde.kglobalaccel.service
sudo gedit /usr/share/dbus-1/services/org.kde.activitymanager.service 
cat /etc/xdg/autostart/xfce4-screensaver.desktop
cat /etc/xdg/autostart/xfce4-power-manager.desktop
都改成不执行或者添加Hidden=true

sudo gedit /usr/share/kservices5/kglobalaccel5.desktop
添加Hidden=true


安装kde带来的配置冲突简直是个灾难
从备份盘里恢复吧，需要恢复的有 /分区， /home的配置文件需要把目前的一些多余设置删除， 安装缺失的部分补上。很简单的。







systemctl list-units | grep service
systemctl list-unit-files
systemctl is-enabled dbus.service
systemd-analyze blame
systemctl mask seems to be an effective way to disable services and is reversible with unmask eg. -
Code: [Select]
systemctl mask lvm2-activation.service

creating an empty 'foo.service' file in ~/.local/share/dbus-1/services effectively disables the foo service by taking precedence over the (working) foo.service file in /usr/share


/usr/share/dbus-1/system.conf and /usr/share/dbus-1/session.conf
<policy group="lp">
    <allow send_destination="org.bluez"/>
    <allow send_destination="org.bluez.obex"/>
  </policy>

  <policy context="default">
    <deny send_destination="org.bluez"/>
    <deny send_destination="org.bluez.obex"/>
  </policy>
  
ls /usr/share/dbus-1/services/

goa-daemon
/usr/share/dbus-1/services/org.gnome.OnlineAccounts.service
goa-identity-service
/usr/share/dbus-1/services/org.gnome.Identity.service
gvfs-goa-volume-monitor
/usr/share/dbus-1/services/org.gtk.vfs.GoaVolumeMonitor.service


sudo gedit /usr/share/dbus-1/session.conf
添加
<------------------------------------
  <policy context="default">
    <deny send_destination="org.gnome.OnlineAccounts"/>
    <deny send_destination="org.gtk.vfs.GoaVolumeMonitor"/>
    <deny send_destination="org.gnome.Identity"/>
  </policy>
------------------------------------>
放到最后的</busconfig> 之前
无效

下面的有效

mkdir -p ~/.local/share/dbus-1/services

cp /usr/share/dbus-1/services/org.gnome.Identity.service ~/.local/share/dbus-1/services/org.gnome.Identity.service

cp /usr/share/dbus-1/services/org.gnome.OnlineAccounts.service ~/.local/share/dbus-1/services/org.gnome.OnlineAccounts.service

cp /usr/share/dbus-1/services/org.gtk.vfs.GPhoto2VolumeMonitor.service ~/.local/share/dbus-1/services/org.gtk.vfs.GPhoto2VolumeMonitor.service

replace the Exec=/usr/lib/gnome-online-accounts/..... line with Exec=exit

xed ~/.local/share/dbus-1/services/org.gnome.Identity.service
xed ~/.local/share/dbus-1/services/org.gnome.OnlineAccounts.service
xed ~/.local/share/dbus-1/services/org.gtk.vfs.GPhoto2VolumeMonitor.service


mkdir -p ~/.local/share/systemd/user/
cp /usr/lib/systemd/user/gvfs-goa-volume-monitor.service ~/.local/share/systemd/user/gvfs-goa-volume-monitor.service
gedit ~/.local/share/systemd/user/gvfs-goa-volume-monitor.service
ExecStart=exit
这个之后gedit，thunar等启动会变慢哦
rm ~/.local/share/systemd/user/gvfs-goa-volume-monitor.service 就好了

To revert
CODE: SELECT ALL

rm -r ~/.local/share/dbus-1/services




sudo gedit /etc/xdg/autostart/xfce4-screensaver.desktop
sudo gedit /etc/xdg/autostart/xfce4-power-manager.desktop
添加Hidden=true木有用
都改成不执行，比如
Exec=xfce4-power-manager
改成
#Exec=xfce4-power-manager




busctl --user
loginctl session-status
echo $DBUS_SESSION_BUS_ADDRESS
hostnamectl
journalctl -xf
pacman -Qikk gvfs
pgrep -u andy -l
systemctl --user list-unit-files |grep gvfs



查看系统默认已有的keycode：
xmodmap -pke

查看keycode
xev | grep keycode


sudo pacman -S evtest
sudo evtest



sudo pacman -S wqy-microhei wqy-zenhei wqy-microhei-lite wqy-bitmapfont


localectl list-x11-keymap-layouts

//登陆打开NumLock键
//$ gsettings set org.gnome.settings-daemon.peripherals.keyboard numlock-state on



localectl status

localectl list-keymaps
localectl list-keymaps | grep -i search_term

setxkbmap -print -verbose 10


loadkeys 工具临时修改键盘布局


sudo localectl set-keymap --no-convert us
同时修改了/etc/vconsole.conf 和当前会话中的 KEYMAP
us
jp106


yaourt xkb-switch 
yaourt xkblayout-state

xkblayout-state print "%s"
xkb-switch -s jp106
xkblayout-state print "%s"
xkb-switch -l
怎么就一个？





sudo pacman -S eclipse-ecj



安装包默认不覆盖已经存在的文件，比如python就比较常见这样的现象
...
python-setuptools: /usr/lib/python3.9/site-packages/setuptools/tests/textwrap.py exists in filesystem
Errors occurred, no packages were upgraded.
error installing repo packages



办法，强制覆盖
pacman -S <package> --overwrite=*

这里具体就是
sudo pacman -Syu --overwrite=*










替换wine的版本
sudo pacman -S wine-staging
sudo pacman -S dosbox cups lib32-vkd3d vkd3d
sudo pacman -S foomatic-db antiword docx2txt
sudo pacman -S playonlinux




检查/lib/systemd/system/miredo.service
<------------------------------------------
[Unit]
Description=Teredo IPv6 tunneling
After=network-online.target

[Service]
ExecStartPre=/usr/bin/miredo-checkconf -f /etc/miredo/miredo.conf
ExecStart=/usr/bin/miredo -f
ExecReload=/bin/kill -HUP $MAINPID

[Install]
WantedBy=multi-user.target
------------------------------------------>
sudo systemctl enable systemd-networkd-wait-online.service
sudo systemctl enable miredo.service







env LC_ALL="zh_CN.UTF-8" LANG="zh_CN.UTF-8" XMODIFIERS=@im=fcitx GTK_IM_MODULE=fcitx QT4_IM_MODULE=fcitx QT_IM_MODULE=fcitx WINEARCH=win32 WINEPREFIX="/home/andy/.wine" wine C:\\\\Program\\ Files\\\\Source\\ Insight\\ 4.0\\\\sourceinsight4.exe 
还是不能在si4输入中文















failed to read config files: [/etc/v2ray/config.json] > v2ray.com/core/infra/conf: unknown cipher method: aes-256-cfb
v2ray-desktop

git-lfs

qwt
botan1.10







20210114
sudo pacman -Syu
error: failed to prepare transaction (could not satisfy dependencies)
:: installing wxgtk2 (3.0.5.1-2) breaks dependency 'wxgtk' required by gspiceui
:: installing wxgtk2 (3.0.5.1-2) breaks dependency 'wxgtk' required by pyuv
sudo pacman -R gspiceui
sudo pacman -R pyuv
yay gspiceui
yay pyuv
:: There are 3 providers available for wxgtk:
:: Repository AUR
    1) wxgtk-git 2) wxgtk2-dev 3) wxgtk2-light 
选2

更新了
wxgtk-common --> wxgtk-common-dev
wxgtk2 --> wxgtk2-dev

[实际上，不需要替换的，修改编译配置为依赖wxgtk-common就可以了]



图片有(1).jpg之类的重复，删除
rm *\)\.jpg


WARNING: Possibly missing firmware for module: aic94xx
WARNING: Possibly missing firmware for module: wd719x
modinfo wd719x

git clone https://aur.archlinux.org/aic94xx-firmware.git
cd aic94xx-firmware
makepkg -sri
git clone https://aur.archlinux.org/wd719x-firmware.git
cd wd719x-firmware
makepkg -sri
yay upd72020x-fw

yay ltspice








cd /usr/local/bin
sudo gedit zoom
<--------------------------------------------
#!/bin/bash
cd /opt/zoom
export LD_LIBRARY_PATH=.
./zoom
-------------------------------------------->
sudo chmod +x zoom


sudo rm zoom
God damn zoom!



https://cdn.zoom.us/prod/5.4.57862.0110/zoom_x86_64.pkg.tar.xz

sudo pacman -U zoom_x86_64.pkg.tar.xz --overwrite=*















allegro display err

ldd /opt/cadence/SPB166/tools.lnx86/pcb/bin/allegro.exe
export LD_LIBRARY_PATH=/usr/lib32:/usr/lib:/usr/lib64:$CDS_ROOT/tools/lib64:$CDS_ROOT/tools.lnx86/mainwin540_64/mw/lib-amd64_linux_optimized:$CDS_ROOT/tools.lnx86/lib:$CDS_ROOT/tools.lnx86/mainwin540/mw/lib-linux_optimized:$LD_LIBRARY_PATH
ldd /opt/cadence/SPB166/tools.lnx86/pcb/bin/allegro.exe

附加的库路径有和系统库路径冲突的库，懒得一个个补成系统库，去掉冲突的就好了哇
/opt/cadence/SPB166/tools.lnx86/lib目录下的
libgcc_s.so.1 -> libgcc_s.so.1.bk
libstdc++.so.6 -> libstdc++.so.6.bk
到这里可以运行


命令行运行会看到缺drirc
以前从fedora哪个包存档的，懒得找arch的包了。那么建立：
～/.drirc和/etc/drirc，内容一样如下
<-----------------------------------------------------------
<!--

============================================
Application bugs worked around in this file:
============================================

* Various Unigine products don't use the #version and #extension GLSL
  directives, meaning they only get GLSL 1.10 and no extensions for their
  shaders.
  Enabling all extensions for Unigine fixes most issues, but the GLSL version
  is still 1.10.

* Unigine Heaven 3.0 with ARB_texture_multisample uses a "ivec4 * vec4"
  expression, which fails to compile with GLSL 1.10.
  Adding "#version 130" fixes this.

* Unigine Heaven 3.0 with ARB_shader_bit_encoding uses the uint keyword, which
  fails to compile with GLSL 1.10.
  Adding "#version 130" fixes this.

* Unigine Heaven 3.0 with ARB_shader_bit_encoding uses a "uint & int"
  expression, which fails (and should fail) to compile with any GLSL version.
  Disabling ARB_shader_bit_encoding fixes this.

TODO: document the other workarounds.

-->

<driconf>
    <!-- Please always enable app-specific workarounds for all drivers and
         screens. -->
    <device>
        <application name="Unigine Sanctuary" executable="Sanctuary">
            <option name="force_glsl_extensions_warn" value="true" />
            <option name="disable_blend_func_extended" value="true" />
	</application>

        <application name="Unigine Tropics" executable="Tropics">
            <option name="force_glsl_extensions_warn" value="true" />
            <option name="disable_blend_func_extended" value="true" />
	</application>

        <application name="Unigine Heaven (32-bit)" executable="heaven_x86">
            <option name="force_glsl_extensions_warn" value="true" />
            <option name="disable_blend_func_extended" value="true" />
            <option name="force_glsl_version" value="130" />
            <option name="disable_shader_bit_encoding" value="true" />
	</application>

        <application name="Unigine Heaven (64-bit)" executable="heaven_x64">
            <option name="force_glsl_extensions_warn" value="true" />
            <option name="disable_blend_func_extended" value="true" />
            <option name="force_glsl_version" value="130" />
            <option name="disable_shader_bit_encoding" value="true" />
	</application>

        <application name="Unigine OilRush (32-bit)" executable="OilRush_x86">
            <option name="disable_blend_func_extended" value="true" />
	</application>

        <application name="Unigine OilRush (64-bit)" executable="OilRush_x64">
            <option name="disable_blend_func_extended" value="true" />
	</application>

        <application name="Savage 2" executable="savage2.bin">
            <option name="disable_glsl_line_continuations" value="true" />
        </application>

        <application name="Topogun (32-bit)" executable="topogun32">
            <option name="always_have_depth_buffer" value="true" />
        </application>

        <application name="Topogun (64-bit)" executable="topogun64">
            <option name="always_have_depth_buffer" value="true" />
        </application>
    </device>
</driconf>
----------------------------------------------------------->

ok， 是不是该考虑升级成spp170？








DraftSight因为库依赖问题不能用
yay DraftSight
http://dl-ak.solidworks.com/nonsecure/draftsight/2019SP3/draftSight.rpm
404了。
直接解决库问题吧
/opt/dassault-systemes/DraftSight/Linux/DraftSight
ymbol lookup error: /usr/lib/libfontconfig.so.1: undefined symbol: FT_Done_MM_Var
ldd /opt/dassault-systemes/DraftSight/Linux/DraftSight
locate libfontconfig.so.1


cp /home/andy/.local/share/Steam/ubuntu12_32/steam-runtime/usr/lib/x86_64-linux-gnu/libfontconfig.so.1.4.4 /opt/dassault-systemes/DraftSight/Libraries
cd /opt/dassault-systemes/DraftSight/Libraries
ln -s libfontconfig.so.1.4.4 libfontconfig.so.1

用户配置文件在
~/.config/dassault-systemes

active不了啊，狗日的达索

还是查aur吧，
https://aur.archlinux.org/packages/draftsight/?O=10&PP=10
有人post出来存档的链接。。。。。。

那么就用makepkg编译一个呗，也纳入pacman的管理
draftSight.rpm名字修改成draftsight-2019SP3

这样就剩下产品过期问题，参考
cd /opt/dassault-systemes/DraftSight/Linux/
env LD_PRELOAD=/usr/lib/libfreetype.so --unset=XDG_CURRENT_DESKTOP --unset=DESKTOP_SESSION --unset=GNOME_DESKTOP_SESSION_ID vblank_mode=0 faketime '2020-02-29 08:15:42' ./DraftSight
（export LIBGL_DEBUG=verbose 据说 will have probably errors with DRI）

desktop文件修改一下，加一个 faketime 变量
<-------------------------------------------------------------------
[Desktop Entry]
Name=DraftSight
Comment=Freeware CAD software for your DWG/DXF files.
GenericName=DraftSight
Exec=env LD_PRELOAD=/usr/lib/libfreetype.so --unset=XDG_CURRENT_DESKTOP --unset=DESKTOP_SESSION --unset=GNOME_DESKTOP_SESSION_ID vblank_mode=0 faketime '2020-02-29 08:15:42' /opt/dassault-systemes/DraftSight/Linux/DraftSight %U
Path=/opt/dassault-systemes/DraftSight/Linux
Type=Application
Terminal=false
Icon=draftsight
MimeType=image/vnd.dwg;image/vnd.dwt;image/vnd.dxf;application-vnd.dassault-systemes.draftsight-dwg;application-vnd.dassault-systemes.draftsight-dwt;application-vnd.dassault-systemes.draftsight-dxf
Categories=Application;Graphics;2DGraphics;RasterGraphics;
------------------------------------------------------------------>
就大功告成
注意，达索已经不更新linux版本了。




类似的
graebert-gmbh
rpm包已经准备好，参照上面的aur配置可以自己生成一个pacman包... 有时间再弄了



qcad是pacman仓库就已经有的，暂时不安装
//sudo pacman -S qcad
不过这玩意的命令用起来不方便，还是上面法国佬和德国佬的两个好。








openproj已经安装了运行有点问题
解决：
确保/usr/lib/jvm/java-8-openjdk已经有java8
修改$HOME/.openproj/run.conf，
将JAVA_OPTS="-Xms128m -Xmx768m"改为JAVA_OPTS="-Djava.vendor=Sun -Xms128m -Xmx768m"，重启openproj




sudo pip3.6 uninstall sip
cd sip-4.19.12/
python3 configure.py	## 这次是配置 编译PyQt 要用的SIP v4 (i.e. the sip.sipconfig module)
make
sudo make install

PyQt4_gpl_x11-4.12.3编译
compiling this package failed because of $[QT_INSTALL_LIBS] = 0 PLease replace '$[QT_INSTALL_LIBS]' with ‘/usr/lib’.

gedit configure.py
修改
        pyqt_modules.append("QtCore")
为
        pyqt_modules.append("QtCore")
        pyqt_modules.append("QtGui")
        pyqt_modules.append("QtHelp")
        pyqt_modules.append("QtMultimedia")
        pyqt_modules.append("QtNetwork")
        pyqt_modules.append("QtDBus")
        pyqt_modules.append("QtDeclarative")
        pyqt_modules.append("QtScript")
        pyqt_modules.append("QtScriptTools")
        pyqt_modules.append("QtOpenGL")
        pyqt_modules.append("QtSql")
        pyqt_modules.append("QtSvg")
        pyqt_modules.append("QtTest")
        pyqt_modules.append("QtWebKit")
        pyqt_modules.append("QtXml")
        pyqt_modules.append("QtXmlPatterns")
        pyqt_modules.append("phonon")
        pyqt_modules.append("QtDesigner")


for files in `find . -type f -name "Makefile"`
do
sed -i 's/$$\[QT_INSTALL_LIBS\]/\/usr\/lib/' $files
done

python3 configure.py
make -j $(nproc)
sudo make install

cd ../sip-4.19.12/
make clean
## python3 configure.py --sip-module PyQt4.sip --no-dist-info --no-tools ## 可能造成报错PyCapsule_GetPointer called with incorrect name
python3 configure.py --sip-module PyQt4.sip
make	## 这次是配置运行 import PyQt4 所需要的 PyQt4.sip
sudo make install


安装时出现报错：Error: This version of PyQt4 and the commercial version of Qt have incompatible licenses.
解决方法：注释掉configure-ng.py下面语句即可：
if introspecting and target_config.qt_licensee not in OPEN_SOURCE_LICENSEES and ltype == 'GPL':
        error(
                "This version of PyQt4 and the commercial version of Qt have "
                "incompatible licenses.")


error: ‘waitForEvents’ is not a member of ‘QTest’
gedit PyQt4_gpl_x11-4.12.3/sip/QtTest/qtestmouse.sip
去掉waitForEvents那一段

fatal error: abstractaudiooutput.h: No such file or directory
PyQt4_gpl_x11-4.12.3/phonon/Makefile
引入/usr/include/phonon4qt5/phonon

/usr/bin/ld: cannot find -lQt5onon
我实在找不着这个鸡巴库
PyQt4_gpl_x11-4.12.3/phonon/Makefile
删掉-lQt5onon

fatal error: qassistantclient.h: No such file or directory
这个没辙，不要编译QtAssistant模块就好了嘛

/usr/bin/ld: cannot find -lQt5xContainer
我也实在找不着这个鸡巴库
去掉QAxContainer的编译

这样总算把Pyqt4安装得差不多了。



删除多余的snap包
su
snap list --all | while read snapname ver rev trk pub notes; do if [[ $notes = *disabled* ]]; then snap remove "$snapname" --revision="$rev"; fi; done
安置一个游戏
sudo snap install 0ad
sudo snap install openra
sudo snap install warzone2100
维护参考
https://snapcraft.io/docs/getting-started





安装一些多媒体编辑工具
yay shotcut
yay rtaudio
yay vidcutter
yay mkvtoolnix-gui
yay mkvtoolnix-cli
yay audacity

矢量图制作
yay inkscape


记账工具
yay gnucash-docs
yay gnucash


更新
wxgtk-common
wxgtk2
取代wxgtk-common-dev和wxgtk2-dev
测试用 gspiceui，audacity和pyuv
pacman -Qs wxgtk

既然都删了wxgtk2-dev和以此库依赖编译的pyuv，那么按pyuv的要求选wxgtk-git依赖
but，wxgtk-git编译失败
解决办法
修改pyuv的依赖为wxgtk-common
重新编译
这样pyuv也是可以用的。


安装
cppunit，libmspack

安装vlc
附加libdvdcss gnu-free-fonts live-media libgoom2 aribb24 aribb25


yay cunit
yay bcunit
yay splint
yay cmocka
yay gtest



yay picom
mkdir ~/.config/picom/
cp /etc/xdg/picom.conf ~/.config/picom/picom.conf
gedit ~/.config/picom/picom.conf

opacity-rule = [
  "100:class_g = 'Lxterminal' && focused",
  "100:class_g = 'Lxterminal' && !focused"
];

picom --config ~/.config/picom/picom.conf

效果不是我想要的，不启用
rm ~/.config/picom/picom.conf





更新wps
yay wps-office
yay wps-office-mime







































